<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Schematic</TITLE>
</HEAD>
<BODY >
<A HREF="my-Compiler_Internals.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Overview-7.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc3588">16.1.1</A>  Schematic</H3><P>
<A NAME="section:compiler:schematic"></A></P><P>The view from ten thousand feet looks like so: </P><PRE CLASS="verbatim">-FRONT END-
                 source text in Mythryl
                       |
                       |  lexing and parsing
                       V
                 raw syntax
                       |
                       |  typechecking
                       V
                 deep syntax
                       |
                       |  pattern-match compilation and such.
-BACK END UPPER HALF-  V
                 lambdacode form                     # Polymorphically typed lambda calculus format,
                       |        # used only very briefly as a transitional format. 
                       |  
                       V
                 anormcode form                      # "A-Normal" format, used for machine-independent optimizations.
                       |
                       |
                       V
                 nextcode form                       # "Continuation passing style" format,
                       |                             # the workhorse format of the backend upper half.
                       |
-BACK END LOWER HALF-  V
                 treecode form                       # Used for machine-dependent optimizations.
                       |
                       |
                       V
                 SSA ("static single assignment")    # Used for more sophisticated machine-dependent optimizations.
                       |                             # This step is optional and in fact not currently done.
                       |
                       V
                 treecode format                     # When done with SSA stuff, we convert back to Code_Tree.
                       |
                       |
                       V
                 Machine code.                        # Position-independent -- we don't have a linker that patches code.
</PRE><P>Thus, the Mythryl compiler code representations used are, in order:</P><OL CLASS="enumerate" type=1><LI CLASS="li-enumerate">
Raw Syntax is the initial frontend code representation.
</LI><LI CLASS="li-enumerate">Deep Syntax is the second and final frontend code representation.
</LI><LI CLASS="li-enumerate">Anormcode (A-Normal format, which preserves expression tree structure) is the second backend code representation, and the first used for optimization.
</LI><LI CLASS="li-enumerate">Nextcode ("continuation-passing style", a single-assignment basic-block-graph form where call and return are essentially the same) is the third and chief backend tophalf code representation.
</LI><LI CLASS="li-enumerate">Nextcode is the third and chief backend tophalf code representation.
</LI><LI CLASS="li-enumerate">Treecode is the backend tophalf/lowhalf transitional code representation.
</LI><LI CLASS="li-enumerate">Intel32 (x86) instruction format (or equivalent for other target machines) &#X2014; an abstract tree format.
</LI><LI CLASS="li-enumerate">Intel32 (x86) machine language (or equivalent for other target machines) &#X2014; absolute binary code.
</LI></OL><P>These are respectively defined by:</P><OL CLASS="enumerate" type=1><LI CLASS="li-enumerate">
<A HREF="my-src_lib_compiler_front_parser_raw-syntax_raw-syntax_api.html#src/lib/compiler/front/parser/raw-syntax/raw-syntax.api">src/lib/compiler/front/parser/raw-syntax/raw-syntax.api</A></LI><LI CLASS="li-enumerate"><A HREF="my-src_lib_compiler_front_typer-stuff_deep-syntax_deep-syntax_api.html#src/lib/compiler/front/typer-stuff/deep-syntax/deep-syntax.api">src/lib/compiler/front/typer-stuff/deep-syntax/deep-syntax.api</A></LI><LI CLASS="li-enumerate"><A HREF="my-src_lib_compiler_back_top_lambdacode_lambdacode-form_api.html#src/lib/compiler/back/top/lambdacode/lambdacode-form.api">src/lib/compiler/back/top/lambdacode/lambdacode-form.api</A></LI><LI CLASS="li-enumerate"><A HREF="my-src_lib_compiler_back_top_anormcode_anormcode-form_api.html#src/lib/compiler/back/top/anormcode/anormcode-form.api">src/lib/compiler/back/top/anormcode/anormcode-form.api</A></LI><LI CLASS="li-enumerate"><A HREF="my-src_lib_compiler_back_top_nextcode_nextcode-form_api.html#src/lib/compiler/back/top/nextcode/nextcode-form.api">src/lib/compiler/back/top/nextcode/nextcode-form.api</A></LI><LI CLASS="li-enumerate"><A HREF="my-src_lib_compiler_back_low_treecode_treecode-form_api.html#src/lib/compiler/back/low/treecode/treecode-form.api">src/lib/compiler/back/low/treecode/treecode-form.api</A></LI><LI CLASS="li-enumerate"><A HREF="my-src_lib_compiler_back_low_pwrpc32_code_machcode-pwrpc32_codemade_api.html#src/lib/compiler/back/low/pwrpc32/code/machcode-pwrpc32.codemade.api">src/lib/compiler/back/low/pwrpc32/code/machcode-pwrpc32.codemade.api</A><BR><A HREF="my-src_lib_compiler_back_low_sparc32_code_machcode-sparc32_codemade_api.html#src/lib/compiler/back/low/sparc32/code/machcode-sparc32.codemade.api">src/lib/compiler/back/low/sparc32/code/machcode-sparc32.codemade.api</A><BR><A HREF="my-src_lib_compiler_back_low_intel32_code_machcode-intel32_codemade_api.html#src/lib/compiler/back/low/intel32/code/machcode-intel32.codemade.api">src/lib/compiler/back/low/intel32/code/machcode-intel32.codemade.api</A><BR></LI></OL><P>The transformations between these formats are implemented by:</P><DL CLASS="description"><DT CLASS="dt-description">
<B>1-2</B></DT><DD CLASS="dd-description"> <A HREF="my-src_lib_compiler_front_typer_main_translate-raw-syntax-to-deep-syntax-g_pkg.html#src/lib/compiler/front/typer/main/translate-raw-syntax-to-deep-syntax-g.pkg">src/lib/compiler/front/typer/main/translate-raw-syntax-to-deep-syntax-g.pkg</A></DD><DT CLASS="dt-description"><B>2-3</B></DT><DD CLASS="dd-description"> <A HREF="my-src_lib_compiler_back_top_translate_translate-deep-syntax-to-lambdacode_pkg.html#src/lib/compiler/back/top/translate/translate-deep-syntax-to-lambdacode.pkg">src/lib/compiler/back/top/translate/translate-deep-syntax-to-lambdacode.pkg</A></DD><DT CLASS="dt-description"><B>3-4</B></DT><DD CLASS="dd-description"> <A HREF="my-src_lib_compiler_back_top_lambdacode_translate-lambdacode-to-anormcode_pkg.html#src/lib/compiler/back/top/lambdacode/translate-lambdacode-to-anormcode.pkg">src/lib/compiler/back/top/lambdacode/translate-lambdacode-to-anormcode.pkg</A></DD><DT CLASS="dt-description"><B>4-5</B></DT><DD CLASS="dd-description"> <A HREF="my-src_lib_compiler_back_top_nextcode_translate-anormcode-to-nextcode-g_pkg.html#src/lib/compiler/back/top/nextcode/translate-anormcode-to-nextcode-g.pkg">src/lib/compiler/back/top/nextcode/translate-anormcode-to-nextcode-g.pkg</A></DD><DT CLASS="dt-description"><B>5-6</B></DT><DD CLASS="dd-description"> <A HREF="my-src_lib_compiler_back_low_main_main_translate-nextcode-to-treecode-g_pkg.html#src/lib/compiler/back/low/main/main/translate-nextcode-to-treecode-g.pkg">src/lib/compiler/back/low/main/main/translate-nextcode-to-treecode-g.pkg</A></DD><DT CLASS="dt-description"><B>6-7</B></DT><DD CLASS="dd-description"> <A HREF="my-src_lib_compiler_back_low_intel32_treecode_translate-treecode-to-machcode-intel32-g_pkg.html#src/lib/compiler/back/low/intel32/treecode/translate-treecode-to-machcode-intel32-g.pkg">src/lib/compiler/back/low/intel32/treecode/translate-treecode-to-machcode-intel32-g.pkg</A></DD><DT CLASS="dt-description"><B>7-8</B></DT><DD CLASS="dd-description"> <A HREF="my-src_lib_compiler_back_low_pwrpc32_emit_translate-machcode-to-execode-pwrpc32-g_codemade_pkg.html#src/lib/compiler/back/low/pwrpc32/emit/translate-machcode-to-execode-pwrpc32-g.codemade.pkg">src/lib/compiler/back/low/pwrpc32/emit/translate-machcode-to-execode-pwrpc32-g.codemade.pkg</A><BR><A HREF="my-src_lib_compiler_back_low_sparc32_emit_translate-machcode-to-execode-sparc32-g_codemade_pkg.html#src/lib/compiler/back/low/sparc32/emit/translate-machcode-to-execode-sparc32-g.codemade.pkg">src/lib/compiler/back/low/sparc32/emit/translate-machcode-to-execode-sparc32-g.codemade.pkg</A><BR><A HREF="my-src_lib_compiler_back_low_intel32_translate-machcode-to-execode-intel32-g_pkg.html#src/lib/compiler/back/low/intel32/translate-machcode-to-execode-intel32-g.pkg">src/lib/compiler/back/low/intel32/translate-machcode-to-execode-intel32-g.pkg</A></DD></DL>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Compiler_Internals.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Overview-7.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
