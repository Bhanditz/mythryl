<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Regular Expressions</TITLE>
</HEAD>
<BODY >
<A HREF="my-Packages.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-The_Bare_Essentials.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Mythryl_foreach_Loops.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc60">5.2.11</A>  Regular Expressions</H3><P>
<A NAME="section:tut:bare-essentials:regex"></A></P><P>Mythryl regular expressions are patterned after those of Perl, the 
de facto standard. Unlike Perl, Mythryl has no special compiler 
support for regular expression usage. On the down side, this means 
that Mythryl regular expression syntax is not quite as compact as 
that of Perl. On the up side, since the Mythryl regular expression support 
is implemented entirely in library code, you may easily write or use 
alternate regular expression libraries if you do not like the stock one. 
In fact, Mythryl ships with several. (Some might say, several too many.) </P><P>Matching a string against a regular expression may be done using the <CODE><TT>=~</TT></CODE> 
operator:</P><PRE CLASS="verbatim">    #!/usr/bin/mythryl

    fun has_vowel( string ) = {
         #
         if (string =~ ./(a|e|i|o|u|y)/)  printf "'%s' contains a vowel.\n"          string;
         else                             printf "'%s' does not contain a vowel.\n"  string;
         fi;
    };

    has_vowel("mythryl");
    has_vowel("crwth");
</PRE><P>When run, the above prints out</P><PRE CLASS="verbatim">    linux$ ./my-script
    'mythryl' contains a vowel.
    'crwth' does not contain a vowel.
    linux$
</PRE><P>Unlike Perl, Mythryl does not hardwire the meaning of the <CODE><TT>=~</TT></CODE> operator. 
We will cover defining such operators 
<A HREF="my-Binary_Operators.html#section:tut:delving-deeper:binary-operators">later</A>.</P><P>Other than matching a string against a regular expression, the most frequently used regular expression operation is 
doing substitutions of matched substrings.</P><P>Here is how to replace all substrings matching a given 
regular expression by a given constant replacement string:</P><PRE CLASS="verbatim">    linux$ my

    eval:  regex::replace_all ./f.t/ "FAT" "the fat father futzed";
    "the FAT FATher FATzed"
</PRE><P><B>Important detail:</B> If you need to include a <TT>/</TT> within 
a regular expression, you cannot do so by backslashing it; 
you must instead double it: </P><PRE CLASS="verbatim">    fun has_slash( string ) =   string =~ ./\//;      # Do NOT do this!  It will not work!
    fun has_slash( string ) =   string =~ .////;      # Do this instead.
    fun has_slash( string ) =   string =~ "/";        # Or this -- a regex is just a string, so string constants work fine.
    fun has_slash( string ) =   string =~ .&lt;/&gt;;       # Or this -- .&lt;foo&gt; is just like ./foo/ except for the delimiter chars.
    fun has_slash( string ) =   string =~ .|/|;       # Or this -- .|foo| is just like ./foo/ except for the delimiter chars.
    fun has_slash( string ) =   string =~ .#/#;       # Or this -- .#foo# is just like ./foo/ except for the delimiter chars.
</PRE><P>The above discussion is far from exhausting the topic of regular 
expressions, but it is enough for the first go-around; we will 
return to regular expressions <A HREF="my-More_Regular_Expressions.html#section:tut:full-monte:regex">later</A>.</P>
<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Packages.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-The_Bare_Essentials.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Mythryl_foreach_Loops.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
