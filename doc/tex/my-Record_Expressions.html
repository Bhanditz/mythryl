<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Record Expressions</TITLE>
</HEAD>
<BODY >
<A HREF="my-Tuple_Expressions.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Expressions.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-List_Expressions.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc249">10.5.6</A>  Record Expressions</H3><P>
<A NAME="section:ref:expressions:record-expressions"></A></P><P>Mythryl records are like tuples except that fields are 
accessed by name rather than by number. Records are 
in fact just syntactic sugar for tuples &#X2014; the compiler 
converts records into tuples early in processing after 
which they are compiled identically. Record labels 
occupy a separate namespace. Syntactically, records 
are created using curly braces rather than parentheses:</P><PRE CLASS="verbatim">    linux$ my

    eval:  r = { foo =&gt; 1, bar =&gt; 2.0, zot =&gt; "three" };        # Construct a record.

    eval:  r.foo;                                               # Access field 'foo'

    1

    eval:  r.bar;                                               # Access field 'bar'

    2.0

    eval:  r.zot;                                               # Access field 'zot'

    "three"

    eval:  .foo r;                                              # Access field 'foo', alternate syntax.

    1

    eval:  .bar r;                                              # Access field 'bar', alternate syntax.

    2.0

    eval:  .zot r;                                              # Access field 'zot', alternate syntax.

    "three"
</PRE><P>As with tuples, record fields are in practice usually accessed 
via pattern-matching:</P><PRE CLASS="verbatim">    linux$ my

    eval:  r = { foo =&gt; 1, bar =&gt; 2.0, zot =&gt; "three" };        # Construct a record.

    eval:  my { foo =&gt; f, bar =&gt; b, zot =&gt; z } = r;             # Unpack it into f,b,z via pattern-matching.

    eval:  f;

    1

    eval:  b;

    2.0

    eval:  z;

    "three"
</PRE><P>Frequently a record is unpacked into variables with the same 
names as the record fields:</P><PRE CLASS="verbatim">    linux$ my

    eval:  r = { foo =&gt; 1, bar =&gt; 2.0, zot =&gt; "three" };        # Construct a record.

    eval:  my { foo =&gt; foo, bar =&gt; bar, zot =&gt; zot } = r;       # Unpack it into foo, bar, zot via pattern-matching.

    eval:  foo;

    1

    eval:  bar;

    2.0

    eval:  zot;

    "three"

</PRE><P>Mythryl allows this case to be specially abbreviated: </P><PRE CLASS="verbatim">    linux$ my

    eval:  r = { foo =&gt; 1, bar =&gt; 2.0, zot =&gt; "three" };        # Construct a record.

    eval:  my { foo, bar, zot } = r;                            # Unpack it into foo, bar, zot via pattern-matching.

    eval:  foo;

    1

    eval:  bar;

    2.0

    eval:  zot;

    "three"

</PRE><P>A similar abbreviation is supported when creating a record:</P><PRE CLASS="verbatim">    linux$ my

    eval:  foo = 1;                             # Name an integer value.

    1

    eval:  bar = 2.0;                           # Name a float value.

    2.0

    eval:  zot = "three";                       # Name a string value.

    "three"

    eval:  r = { foo, bar, zot };               # Abbreviated record creation syntax.

    eval:  r.foo;                               # Extract field 'foo' from record.

    1

    eval:  r.bar;                               # Extract field 'bar' from record.

    2.0

    eval:  r.zot;                               # Extract field 'zot' from record.

    "three"
</PRE><P>Mythryl records are exactly as cheap as Mythryl tuples, 
and as with tuples, it is common and encouraged for 
Mythryl programs to create and discard millions of 
records during a run.</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Tuple_Expressions.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Expressions.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-List_Expressions.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
