<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>src/lib/compiler/back/low/static-single-assignment/ssa.api</TITLE>
</HEAD>
<BODY >
<A HREF="my-src_lib_compiler_back_low_sparc32_treecode_pseudo-instructions-sparc32_api.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Codebase__api_Files.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-src_lib_compiler_back_low_tools_adl-syntax_adl-raw-syntax-constants_api.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc1235">15.3.159</A>  src/lib/compiler/back/low/static-single-assignment/ssa.api</H3><P>
<A NAME="src/lib/compiler/back/low/static-single-assignment/ssa.api"></A>
<CODE>#&nbsp;</CODE><BR>
<CODE>#&nbsp;Machine&nbsp;SSA&nbsp;representation.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;Some&nbsp;conventions</CODE><BR>
<CODE>#&nbsp;----------------</CODE><BR>
<CODE>#&nbsp;&nbsp;1.&nbsp;&nbsp;Each&nbsp;machine&nbsp;instruction&nbsp;is&nbsp;mapped&nbsp;into&nbsp;an&nbsp;ssa_op.&nbsp;&nbsp;Some&nbsp;exceptions:</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;&nbsp;live-out&nbsp;and&nbsp;live-in&nbsp;for&nbsp;each&nbsp;entry&nbsp;and&nbsp;exit&nbsp;are&nbsp;represented&nbsp;as&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SINK&nbsp;and&nbsp;SOURCE&nbsp;nodes.</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;&nbsp;PHI&nbsp;functions&nbsp;may&nbsp;be&nbsp;inserted</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;&nbsp;COPYs&nbsp;may&nbsp;be&nbsp;propagated&nbsp;during&nbsp;construction&nbsp;of&nbsp;the&nbsp;ssa&nbsp;graph.&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;2.&nbsp;&nbsp;Each&nbsp;instruction&nbsp;set&nbsp;must&nbsp;provide&nbsp;the&nbsp;pseudo&nbsp;instructions&nbsp;SINK,&nbsp;SOURCE</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;PHI.</CODE><BR>
<CODE>#&nbsp;&nbsp;3.&nbsp;&nbsp;Each&nbsp;ssa_op&nbsp;is&nbsp;numbered&nbsp;with&nbsp;its&nbsp;own&nbsp;ssa_id,&nbsp;starting&nbsp;from&nbsp;0.</CODE><BR>
<CODE>#&nbsp;&nbsp;4.&nbsp;&nbsp;Each&nbsp;definition&nbsp;is&nbsp;given&nbsp;a&nbsp;unique&nbsp;(non-negative)&nbsp;value&nbsp;id</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IMPORTANT:&nbsp;ssa_id&nbsp;!=&nbsp;value.&nbsp;&nbsp;Each&nbsp;instructions&nbsp;may&nbsp;define&nbsp;multiple</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values,&nbsp;even&nbsp;zero.&nbsp;&nbsp;&nbsp;But&nbsp;each&nbsp;instruction&nbsp;is&nbsp;given&nbsp;its&nbsp;own&nbsp;unique&nbsp;id.</CODE><BR>
<CODE>#&nbsp;&nbsp;5.&nbsp;&nbsp;Negative&nbsp;value&nbsp;ids&nbsp;are&nbsp;immediate&nbsp;constants.&nbsp;&nbsp;&nbsp;These&nbsp;are&nbsp;value&nbsp;numbered</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;that&nbsp;the&nbsp;each&nbsp;distinct&nbsp;constant&nbsp;is&nbsp;given&nbsp;unique&nbsp;(negative)&nbsp;id.</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These&nbsp;constants&nbsp;are&nbsp;entered&nbsp;into&nbsp;the&nbsp;operandTable.</CODE><BR>
<CODE>#&nbsp;&nbsp;6.&nbsp;&nbsp;In-edges&nbsp;of&nbsp;the&nbsp;graph&nbsp;are&nbsp;use-def&nbsp;chains.&nbsp;&nbsp;These&nbsp;are&nbsp;computed&nbsp;on&nbsp;the</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fly.</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Out-edges&nbsp;are&nbsp;def-use&nbsp;chains.&nbsp;&nbsp;Both&nbsp;type&nbsp;of&nbsp;edges&nbsp;have&nbsp;the&nbsp;following</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;form:</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(source&nbsp;id,&nbsp;dst&nbsp;id,&nbsp;register)</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Of&nbsp;course,&nbsp;immedidate&nbsp;operands&nbsp;have&nbsp;no&nbsp;edges&nbsp;associated&nbsp;with&nbsp;them.</CODE><BR>
<CODE>#&nbsp;&nbsp;7.&nbsp;&nbsp;The&nbsp;graph&nbsp;interface&nbsp;has&nbsp;high&nbsp;overhead.&nbsp;&nbsp;So&nbsp;in&nbsp;order&nbsp;to&nbsp;allow&nbsp;faster</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implementation,&nbsp;we&nbsp;allow&nbsp;direct&nbsp;access&nbsp;to&nbsp;the&nbsp;internal&nbsp;data&nbsp;structures.</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These&nbsp;are:</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mapping&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Description</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------------------------------------------------------</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defSiteTable&nbsp;&nbsp;&nbsp;value&nbsp;-&gt;&nbsp;ssa_id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Definition&nbsp;site&nbsp;of&nbsp;a&nbsp;value</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(i.e.&nbsp;use/def&nbsp;chains)</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blockTable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa_id&nbsp;-&gt;&nbsp;block&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Block&nbsp;id&nbsp;of&nbsp;an&nbsp;instruction</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defsTable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa_id&nbsp;-&gt;&nbsp;value&nbsp;List&nbsp;Definitions&nbsp;of&nbsp;an&nbsp;ssa_op</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;usesTable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa_id&nbsp;-&gt;&nbsp;value&nbsp;List&nbsp;Uses&nbsp;of&nbsp;an&nbsp;ssa_op</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtlTable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa_id&nbsp;-&gt;&nbsp;rtl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RTL&nbsp;of&nbsp;an&nbsp;ssa_op</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;succTable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa_id&nbsp;-&gt;&nbsp;outedges&nbsp;&nbsp;&nbsp;Out&nbsp;edges&nbsp;of&nbsp;an&nbsp;ssa_op</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(i.e.&nbsp;def/use&nbsp;chains)</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssaOpTable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa_id&nbsp;-&gt;&nbsp;ssa_op&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa_op&nbsp;table</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registerKindTable&nbsp;&nbsp;value&nbsp;-&gt;&nbsp;ssa_id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registerkind&nbsp;of&nbsp;a&nbsp;value</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operandTable&nbsp;&nbsp;&nbsp;value&nbsp;-&gt;&nbsp;operand&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operand&nbsp;table</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;But&nbsp;in&nbsp;general,&nbsp;you&nbsp;should&nbsp;use&nbsp;the&nbsp;graph&nbsp;interface&nbsp;for&nbsp;traversal</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;are&nbsp;not&nbsp;sure&nbsp;how&nbsp;the&nbsp;internal&nbsp;tables&nbsp;work.</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#&nbsp;--&nbsp;Allen&nbsp;Leung&nbsp;(leunga@cs.nyu.edu)</CODE><BR><BR><BR><BR>
<CODE>###&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Symmetry&nbsp;is&nbsp;a&nbsp;complexity-reducing&nbsp;concept;</CODE><BR>
<CODE>###&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seek&nbsp;it&nbsp;everywhere."</CODE><BR>
<CODE>###</CODE><BR>
<CODE>###&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Alan&nbsp;Perlis</CODE><BR><BR><BR>
<CODE>api&nbsp;SSA&nbsp;=</CODE><BR>
<CODE>api</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;package&nbsp;i:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Machcode</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;package&nbsp;c:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;package&nbsp;sp:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SSA_PROPERTIES</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;package&nbsp;rtl:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Treecode_Rtl</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;package&nbsp;mcg:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SSA_FLOWGRAPH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;"mcg"&nbsp;==&nbsp;"machcode_controlflow_graph".</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;package&nbsp;dom:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dominator_Tree</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;package&nbsp;dj:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DJ_GRAPH</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;package&nbsp;gc_map:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GC_MAP</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;package&nbsp;translate_treecode_to_machcode:&nbsp;&nbsp;Translate_Treecode_To_Machcode</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;package&nbsp;w:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FREQ</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sharing&nbsp;sp::I&nbsp;=&nbsp;mcg::I&nbsp;=&nbsp;translate_treecode_to_machcode::I&nbsp;=&nbsp;I</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sharing&nbsp;sp::RTL&nbsp;=&nbsp;RTL</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sharing&nbsp;translate_treecode_to_machcode::T&nbsp;=&nbsp;RTL::T</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sharing&nbsp;i::C&nbsp;=&nbsp;sp::C&nbsp;=&nbsp;C&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sharing&nbsp;Dom&nbsp;=&nbsp;dj::Dom</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sharing&nbsp;mcg::W&nbsp;=&nbsp;W</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Basic&nbsp;type&nbsp;definitions&nbsp;used&nbsp;in&nbsp;the&nbsp;SSA&nbsp;form</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;value&nbsp;&nbsp;=&nbsp;Int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;value&nbsp;id&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;pos&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;Int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;position&nbsp;within&nbsp;a&nbsp;block&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;block&nbsp;&nbsp;=&nbsp;graph::node_id&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Block&nbsp;id&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;ssa_id&nbsp;=&nbsp;graph::node_id&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;ssa&nbsp;id&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;rtl&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;RTL::rtl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;RTL&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;const&nbsp;&nbsp;=&nbsp;sp::ot::const&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Constants&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;mcg&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;mcg::mcg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Control&nbsp;flow&nbsp;graph&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Dominator&nbsp;tree&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;dom&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;Dom::dominator_tree(&nbsp;mcg::block,&nbsp;mcg::edge_info,&nbsp;mcg::info&nbsp;)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;nameTable</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int_hashtable::Hashtable&nbsp;{</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldName:&nbsp;c::register,</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index:&nbsp;&nbsp;&nbsp;Int</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;An&nbsp;SSA&nbsp;op&nbsp;is&nbsp;an&nbsp;instruction&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;ssa_op&nbsp;=&nbsp;i::instruction</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Information&nbsp;about&nbsp;the&nbsp;SSA&nbsp;graph&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;ssa_info&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;The&nbsp;graph&nbsp;package</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;type&nbsp;ssa</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph::graph(&nbsp;ssa_op,&nbsp;value,&nbsp;ssa_info&nbsp;)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;How&nbsp;to&nbsp;create&nbsp;a&nbsp;new&nbsp;SSA&nbsp;graph</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Create&nbsp;an&nbsp;empty&nbsp;SSA&nbsp;graph&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;newSSA:&nbsp;&nbsp;{&nbsp;mcg:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mcg,&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dom:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mcg&nbsp;-&gt;&nbsp;dom,&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gcmap:&nbsp;&nbsp;&nbsp;Null_Or(&nbsp;GCMap::gcmap&nbsp;),</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nameTable:&nbsp;Null_Or(&nbsp;nameTable&nbsp;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;-&gt;&nbsp;ssa&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;newRenamedVariable:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;c::register&nbsp;-&gt;&nbsp;value&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;generate&nbsp;renamed&nbsp;variable&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;newVariable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;c::register&nbsp;-&gt;&nbsp;c::register&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Create&nbsp;a&nbsp;new&nbsp;op;&nbsp;but&nbsp;does&nbsp;not&nbsp;add&nbsp;edges&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;newOp:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;{&nbsp;id:&nbsp;&nbsp;&nbsp;&nbsp;ssa_id,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction:&nbsp;i::instruction,&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtl:&nbsp;&nbsp;&nbsp;rtl,&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defs:&nbsp;&nbsp;List(&nbsp;value&nbsp;),</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uses:&nbsp;&nbsp;List(&nbsp;value&nbsp;),</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block:&nbsp;block,</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos:&nbsp;&nbsp;&nbsp;pos</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;-&gt;&nbsp;Void</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;reserve:&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;Int&nbsp;-&gt;&nbsp;Void&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;reserve&nbsp;n&nbsp;nodes&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;immed:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;Int&nbsp;-&gt;&nbsp;value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;lookup&nbsp;immed&nbsp;value&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;operand:&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;i::operand&nbsp;-&gt;&nbsp;value&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;lookup&nbsp;perand&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;computeDefUseChains:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;Void</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Extract&nbsp;info&nbsp;from&nbsp;the&nbsp;SSA&nbsp;graph</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;dom:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;dom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;extracts&nbsp;the&nbsp;dominator&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;mcg:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;mcg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;extracts&nbsp;the&nbsp;machcode_controlflow_graph&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;maxVariable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;Int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;maximum&nbsp;number&nbsp;of&nbsp;ssa&nbsp;names&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;numberOfOperands:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;Int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;number&nbsp;of&nbsp;operands&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;const:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;value&nbsp;-&gt;&nbsp;const&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;lookup&nbsp;const&nbsp;values&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Extract&nbsp;the&nbsp;raw&nbsp;tables.&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;These&nbsp;should&nbsp;only&nbsp;be&nbsp;used&nbsp;when&nbsp;the&nbsp;optimization&nbsp;guarantees&nbsp;that</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;no&nbsp;new&nbsp;ssa&nbsp;ops&nbsp;are&nbsp;added&nbsp;to&nbsp;the&nbsp;graph,&nbsp;since&nbsp;that&nbsp;may&nbsp;involve&nbsp;resizing</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;these&nbsp;tables,&nbsp;rendering&nbsp;them&nbsp;obsolete.&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;defSiteTable:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;rw_vector::Rw_Vector(&nbsp;ssa_id&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;blockTable:&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;rw_vector::Rw_Vector(&nbsp;block&nbsp;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;posTable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;rw_vector::Rw_Vector(&nbsp;pos&nbsp;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;defsTable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;rw_vector::Rw_Vector(&nbsp;List(&nbsp;value&nbsp;)&nbsp;)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;usesTable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;rw_vector::Rw_Vector(&nbsp;List(&nbsp;value&nbsp;)&nbsp;)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;rtlTable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;rw_vector::Rw_Vector(&nbsp;rtl&nbsp;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;succTable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;rw_vector::Rw_Vector(&nbsp;List(&nbsp;graph::edge(&nbsp;value&nbsp;)&nbsp;)&nbsp;)&nbsp;#&nbsp;&nbsp;out&nbsp;edges&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;ssaOpTable:&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;rw_vector::Rw_Vector(&nbsp;ssa_op&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;node&nbsp;table</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;registerKindTable:&nbsp;ssa&nbsp;-&gt;&nbsp;int_hashtable::Hashtable(&nbsp;c::registerkind&nbsp;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Registerkind&nbsp;table&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;operandTable:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;sp::ot::operandTable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;minPos:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;REF(&nbsp;Int&nbsp;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;maxPos:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;REF(&nbsp;Int&nbsp;)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Zero&nbsp;registers,&nbsp;pinned&nbsp;registers</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;zeroRegs:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rw_vector_of_one_byte_unts::Rw_Vector</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;pinnedUseTable:&nbsp;&nbsp;rw_vector_of_one_byte_unts::Rw_Vector</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;pinnedDefTable:&nbsp;&nbsp;rw_vector_of_one_byte_unts::Rw_Vector</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Look&nbsp;up&nbsp;information&nbsp;(the&nbsp;safe&nbsp;way)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;defSite:&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;value&nbsp;-&gt;&nbsp;ssa_id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;lookup&nbsp;definition&nbsp;site&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;block:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;ssa_id&nbsp;-&gt;&nbsp;block&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;lookup&nbsp;block&nbsp;id&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;rtl:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;ssa_id&nbsp;-&gt;&nbsp;rtl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;lookup&nbsp;rtl&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;uses:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;ssa_id&nbsp;-&gt;&nbsp;List(&nbsp;value&nbsp;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;defs:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;ssa_id&nbsp;-&gt;&nbsp;List(&nbsp;value&nbsp;)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;nodes&nbsp;linearized&nbsp;and&nbsp;indexed&nbsp;by&nbsp;block&nbsp;id&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;nodes:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;{&nbsp;sources:&nbsp;&nbsp;rw_vector::Rw_Vector(&nbsp;&nbsp;List(&nbsp;&nbsp;ssa_id&nbsp;)&nbsp;),</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phis:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rw_vector::Rw_Vector(&nbsp;&nbsp;List(&nbsp;&nbsp;ssa_id&nbsp;)&nbsp;),</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ops:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rw_vector::Rw_Vector(&nbsp;&nbsp;List(&nbsp;&nbsp;ssa_id&nbsp;)&nbsp;),</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sinks:&nbsp;&nbsp;&nbsp;&nbsp;rw_vector::Rw_Vector(&nbsp;&nbsp;List(&nbsp;&nbsp;ssa_id&nbsp;)&nbsp;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;freqTable:&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;rw_vector::Rw_Vector(&nbsp;w::freq&nbsp;)&nbsp;&nbsp;#&nbsp;&nbsp;frequency&nbsp;indexed&nbsp;by&nbsp;block&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;noResize:&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;(X&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;X&nbsp;-&gt;&nbsp;Y</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Iterators</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;forallNodes:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;(ssa_id&nbsp;-&gt;&nbsp;Void)&nbsp;-&gt;&nbsp;Void</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;foldNodes:&nbsp;&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;(ssa_id&nbsp;*&nbsp;X&nbsp;-&gt;&nbsp;X)&nbsp;-&gt;&nbsp;X&nbsp;-&gt;&nbsp;X&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Remove&nbsp;all&nbsp;useless&nbsp;phi-functions&nbsp;from&nbsp;the&nbsp;graph.&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Useless&nbsp;phi-functions&nbsp;are&nbsp;self-loops&nbsp;of&nbsp;the&nbsp;form</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&lt;-&nbsp;phi&nbsp;(t,&nbsp;t,&nbsp;...,&nbsp;t,&nbsp;s,&nbsp;t,&nbsp;...,&nbsp;t)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;transformation&nbsp;removes&nbsp;this&nbsp;phi-function&nbsp;and&nbsp;replace&nbsp;all&nbsp;uses</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;of&nbsp;t&nbsp;by&nbsp;s.&nbsp;&nbsp;This&nbsp;process&nbsp;is&nbsp;worklist&nbsp;driven;&nbsp;removing&nbsp;a&nbsp;useless&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;phi-function&nbsp;can&nbsp;introduce&nbsp;other&nbsp;useless&nbsp;phi-functions.&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;removeUselessPhiFunctions:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;Void</CODE><BR>
<CODE>&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Remove&nbsp;all&nbsp;nodes&nbsp;from&nbsp;the&nbsp;graph.&nbsp;&nbsp;Note&nbsp;that&nbsp;no&nbsp;uses&nbsp;should&nbsp;be</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;present&nbsp;after&nbsp;this&nbsp;transformation.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;removeAllNodes:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;List(&nbsp;ssa_id&nbsp;)&nbsp;-&gt;&nbsp;Void</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Replace&nbsp;all&nbsp;use&nbsp;of&nbsp;one&nbsp;value&nbsp;with&nbsp;another.&nbsp;&nbsp;Return&nbsp;TRUE&nbsp;iff</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;all&nbsp;uses&nbsp;of&nbsp;"from"&nbsp;has&nbsp;been&nbsp;replaced&nbsp;by&nbsp;"to".</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Note:&nbsp;The&nbsp;definition&nbsp;of&nbsp;"from"&nbsp;must&nbsp;dominate&nbsp;all&nbsp;uses&nbsp;of&nbsp;"to",&nbsp;as</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;required&nbsp;by&nbsp;the&nbsp;SSA&nbsp;form.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;replaceAllUses:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;{&nbsp;from:&nbsp;value,&nbsp;to:&nbsp;value,&nbsp;vn:&nbsp;value&nbsp;}&nbsp;-&gt;&nbsp;Bool</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Replace&nbsp;the&nbsp;definition&nbsp;of&nbsp;value&nbsp;by&nbsp;const.&nbsp;&nbsp;Return&nbsp;TRUE&nbsp;iff</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;this&nbsp;operation&nbsp;is&nbsp;successful.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;foldConstant:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;{&nbsp;value:&nbsp;value,&nbsp;const:&nbsp;value&nbsp;}&nbsp;-&gt;&nbsp;Bool</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Move&nbsp;an&nbsp;instruction&nbsp;from&nbsp;one&nbsp;block&nbsp;to&nbsp;another</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;moveOp:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;{&nbsp;id:&nbsp;ssa_id,&nbsp;block:&nbsp;block&nbsp;}&nbsp;-&gt;&nbsp;Void</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Set&nbsp;the&nbsp;target&nbsp;of&nbsp;a&nbsp;conditional&nbsp;branch&nbsp;as&nbsp;TRUE&nbsp;or&nbsp;FALSE.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;removes&nbsp;the&nbsp;branch&nbsp;and&nbsp;eliminates&nbsp;all&nbsp;unreachable&nbsp;code.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;setBranch:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;{&nbsp;id:&nbsp;ssa_id,&nbsp;cond:&nbsp;Bool&nbsp;}&nbsp;-&gt;&nbsp;Void</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;Signal&nbsp;that&nbsp;an&nbsp;SSA&nbsp;has&nbsp;been&nbsp;changed.&nbsp;&nbsp;&nbsp;This&nbsp;uncaches&nbsp;all&nbsp;data&nbsp;structures.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;changed:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;Void</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Pretty&nbsp;printing&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;showOp:&nbsp;&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;ssa_id&nbsp;-&gt;&nbsp;String</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;showVal:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;value&nbsp;-&gt;&nbsp;String</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;showRTL:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;rtl&nbsp;-&gt;&nbsp;String</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Graphical&nbsp;viewing&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;viewAsCFG:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;graph_layout::layout</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;viewAsSSA:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;graph_layout::layout</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Check&nbsp;whether&nbsp;the&nbsp;ssa&nbsp;graph&nbsp;is&nbsp;consistent</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;------------------------------------------------------------------------</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;my&nbsp;consistencyCheck:&nbsp;&nbsp;ssa&nbsp;-&gt;&nbsp;Void</CODE><BR>
<CODE>end</CODE><BR><BR>
</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-src_lib_compiler_back_low_sparc32_treecode_pseudo-instructions-sparc32_api.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Codebase__api_Files.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-src_lib_compiler_back_low_tools_adl-syntax_adl-raw-syntax-constants_api.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
