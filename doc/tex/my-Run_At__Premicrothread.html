<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Run_At__Premicrothread</TITLE>
</HEAD>
<BODY >
<A HREF="my-Run_At.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Less_Frequently_Used_APIs.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Runtime_Internals.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc816">14.4.86</A>  Run_At__Premicrothread</H3><P>						<A NAME="@api149"></A>
<A NAME="api:Run_At__Premicrothread"></A>

The standard library <TT>Run_At__Premicrothread</TT> api defines access to functionality for registering 
functions to be run at system startup or shutdown. </P><P>The <TT>Run_At__Premicrothread</TT> api is implemented by the <A HREF="my-src_lib_std_src_nj_run-at__X2013_premicrothread_pkg.html#src/lib/std/src/nj/run-at--premicrothread.pkg">src/lib/std/src/nj/run-at&#X2013;premicrothread.pkg</A> package.</P><P>The <TT>Run_At__Premicrothread</TT> api source code is in <A HREF="my-src_lib_std_src_nj_run-at__X2013_premicrothread_api.html#src/lib/std/src/nj/run-at--premicrothread.api">src/lib/std/src/nj/run-at&#X2013;premicrothread.api</A>.</P><P><FONT SIZE=1><I>The above information is manually maintained and may contain errors.</I></FONT>
</P><PRE CLASS="verbatim">api {   When
        = FORK_TO_DISK
        |
        NEVER_RUN
        |
        SHUTDOWN_PHASE_1_USER_HOOKS
        |
        SHUTDOWN_PHASE_2_UNREDIRECT_SYSCALLS
        |
        SHUTDOWN_PHASE_3_STOP_THREAD_SCHEDULER
        |
        SHUTDOWN_PHASE_4_STOP_SUPPORT_HOSTTHREADS
        |
        SHUTDOWN_PHASE_5_ZERO_COMPILE_STATISTICS
        |
        SHUTDOWN_PHASE_6_CLOSE_OPEN_FILES
        |
        SHUTDOWN_PHASE_6_FLUSH_OPEN_FILES
        |
        SHUTDOWN_PHASE_7_CLEAR_POSIX_INTERPROCESS_SIGNAL_HANDLER_TABLE
        |
        SPAWN_TO_DISK
        |
        STARTUP_PHASE_10_START_NEW_DLOPEN_ERA
        |
        STARTUP_PHASE_11_START_SUPPORT_HOSTTHREADS
        |
        STARTUP_PHASE_12_START_THREAD_SCHEDULER
        |
        STARTUP_PHASE_13_REDIRECT_SYSCALLS
        |
        STARTUP_PHASE_14_START_BASE_IMPS
        |
        STARTUP_PHASE_15_START_XKIT_IMPS
        |
        STARTUP_PHASE_16_OF_HEAP_MADE_BY_FORK_TO_DISK
        |
        STARTUP_PHASE_16_OF_HEAP_MADE_BY_SPAWN_TO_DISK
        |
        STARTUP_PHASE_17_USER_HOOKS
        |
        STARTUP_PHASE_1_RESET_STATE_VARIABLES
        |
        STARTUP_PHASE_2_REOPEN_MYTHRYL_LOG
        |
        STARTUP_PHASE_3_REOPEN_USER_LOGS
        |
        STARTUP_PHASE_4_MAKE_STDIN_STDOUT_AND_STDERR
        |
        STARTUP_PHASE_5_CLOSE_STALE_OUTPUT_STREAMS
        |
        STARTUP_PHASE_6_INITIALIZE_POSIX_INTERPROCESS_SIGNAL_HANDLER_TABLE
        |
        STARTUP_PHASE_7_RESET_POSIX_INTERPROCESS_SIGNAL_HANDLER_TABLE
        |
        STARTUP_PHASE_8_RESET_COMPILER_STATISTICS
        |
        STARTUP_PHASE_9_RESET_CPU_AND_WALLCLOCK_TIMERS;
    schedule : (String , List(When ) , (When -&gt; Void)) -&gt; Null_Or(((List(When ) , (When -&gt; Void))) );
    deschedule : String -&gt; Null_Or(((List(When ) , (When -&gt; Void))) );
    run_functions_scheduled_to_run : When -&gt; Void;
    when_to_string : When -&gt; String;
    when_to_int : When -&gt; Int;
    when_compare : (When , When) -&gt; Order;
    when_gt : (When , When) -&gt; Bool;
    get_schedule : Void -&gt; List(((String , List(When ))) );};
</PRE><P><A NAME="@fun3623"></A>
<A NAME="@fun3624"></A>
<A NAME="@fun3625"></A>
<A NAME="@fun3626"></A>
<A NAME="@fun3627"></A>
<A NAME="@fun3628"></A>
<A NAME="@fun3629"></A>
<A NAME="@fun3630"></A>

</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Run_At.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Less_Frequently_Used_APIs.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Runtime_Internals.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
