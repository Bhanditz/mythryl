<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Binary Operators</TITLE>
</HEAD>
<BODY >
<A HREF="my-Balanced_Binary_Trees.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Delving_Deeper.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Roll-Your-Own_Objected_Oriented_Programming.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc77">5.3.12</A>  Binary Operators</H3><P>
<A NAME="section:tut:delving-deeper:binary-operators"></A></P><P>Some languages treat alphanumeric function names like <TT>sin</TT> as a 
totally separate category from infix operators like <TT>+</TT>. C, 
for example, will not let you define infix operators at all.</P><P>Mythryl regards the distinction between alpanumeric prefix function names and non-alpha 
infix function names as being a largely irrelevant matter of surface syntax. The 
Mythryl compiler resolves infix operators into exactly the same syntax tree form as 
prefix function names very early in processing and completely disregards the distinction 
thereafter.</P><P>Mythryl function names are prefix until specifically declared infix. Standard 
arithmetic operators like <TT>+</TT> are predefined as infix in the Mythryl standard 
library. If you wish to use any other function name as infix, you must declare it 
yourself.</P><P>Most of the default infix declarations may be found in 
<A HREF="my-src_lib_core_init_pervasive_pkg.html#src/lib/core/init/pervasive.pkg">src/lib/core/init/pervasive.pkg</A>:</P><PRE CLASS="verbatim">    infix  my 90  ** ;
    infix  my 80  * / % div &amp; // ;
    infix  my 70  $ + - ~ | ^ ? \ ;
    infixr my 60  @ . ! &lt;&lt; &gt;&gt; &gt;&gt;&gt; in ;
    infix  my 50  &gt; &lt; &gt;= &lt;= == != =~ .. ;
    infix  my 40  := o ;
    infix  my 20  ==&gt; ;
    infix  my 10  then ;
</PRE><P>The decimal numbers give precedence, larger numbers binding more tightly.</P><P>Operators declared infix using the <TT>infix</TT> form are treated as 
left-associative; those declared using <TT>infixr</TT> as right-associative.</P><P>The Mythryl parser makes no inherent distinction between alphabetic and 
non-alphabetic function names, as the above <TT>div</TT> and <TT>then</TT> 
declarations attest.</P><P>There are two ways to assign a meaning to a binary operator.</P><P>One is to simply to assign it the same meaning as some other function:</P><PRE CLASS="verbatim">    linux$ my

    eval:  fun divmod (i, j) = ((i / j), (i % j));

    eval:  infix my 80 /% ;

    eval:  /% = divmod;

    eval:  27 /% 6;
    (4, 3)
</PRE><P>This is often the most practical approach, since you typically want 
to have a convenient vanilla name for the function anyhow, for 
passing naturally to functions like <TT>map</TT>.</P><P>The second way is to just directly define the operator 
using infix syntax. This is unquestionably the more elegant approach:</P><PRE CLASS="verbatim">    linux$ my
    eval:  infix my 80  /% ;
    eval:  fun i /% j = ((i / j), (i % j));
    eval:  27 /% 6;
    (4, 3)
</PRE>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Balanced_Binary_Trees.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Delving_Deeper.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Roll-Your-Own_Objected_Oriented_Programming.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
