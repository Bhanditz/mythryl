<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Enum Types</TITLE>
</HEAD>
<BODY >
<A HREF="my-Ref_Types.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Types.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Type_Variables.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc281">10.10.9</A>  Enum Types</H3><P>
<A NAME="section:ref:types:enum-types"></A></P><P>Enum type declarations define a new type by enumeration:</P><PRE CLASS="verbatim">    Color = RED | GREEN | BLUE;
</PRE><P>Variables of type <TT>Color</TT> may take on only the values 
<TT>RED, GREEN</TT> or <TT>BLUE</TT>.</P><P>Every such declaration without exception creates a new 
type, not equal to any existing type, even if it is 
lexically identical to another such declaration.</P><P>The value keywords defined by such a declaration may have 
associated values:</P><PRE CLASS="verbatim">    Binary_Tree
        = LEAF
        | NODE { key:   Float,

                 left_kid:  Binary_Tree,
                 right_kid: Binary_Tree
               }
        ;
</PRE><P>Here internal nodes on the tree carry a record 
containing a float key and two child pointers; leaf nodes carry no value.</P><P>An instance of such a tree may be created by an expression such as</P><PRE CLASS="verbatim">    my_tree
        =
        NODE
          { key       =&gt; 2.0,
            left_kid  =&gt; NODE { key =&gt; 1.0, left_kid =&gt; LEAF, right_kid =&gt; LEAF },
            right_kid =&gt; NODE { key =&gt; 3.0, left_kid =&gt; LEAF, right_kid =&gt; LEAF }
          };
</PRE><P>Here <TT>NODE</TT> functions to construct records on the heap; 
consequently it is termed a <I>constructor</I>. By extension 
all such tags declared by an enum are called constructors, 
even those like <TT>RED, GREEN, BLUE</TT> and <TT>LEAF</TT> which 
have no associated types and thus construct nothing much of 
interest on the heap.</P><P>Recursive sumtypes such as <TT>Binary_Tree</TT> are usually 
processed via recursive functions, using <TT>case</TT> expressions 
to handle the various alternatives. Here is a little 
recursive function to print out such binary trees: </P><PRE CLASS="verbatim">    linux$ cat my-script
    #!/usr/bin/mythryl

    Binary_Tree
        = LEAF
        | NODE { key:   Float,

                 left_kid:  Binary_Tree,
                 right_kid: Binary_Tree
               }
        ;

    my_tree
        =
        NODE
          { key       =&gt; 2.0,
            left_kid  =&gt; NODE { key =&gt; 1.0, left_kid =&gt; LEAF, right_kid =&gt; LEAF },
            right_kid =&gt; NODE { key =&gt; 3.0, left_kid =&gt; LEAF, right_kid =&gt; LEAF }
          };


    fun print_tree LEAF
            =&gt;
            ();

        print_tree (NODE { key, left_kid, right_kid })
            =&gt;
            {   print "(";
                print_tree left_kid;
                printf "%2.1f" key;
                print_tree right_kid;
                print ")";
            };
    end;

    print_tree  my_tree;
    print "\n";

    linux$ ./my-script
    ((1.0)2.0(3.0))
</PRE>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Ref_Types.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Types.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Type_Variables.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
