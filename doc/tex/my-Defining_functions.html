<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Defining functions</TITLE>
</HEAD>
<BODY >
<A HREF="my-Mythryl_for_Loops.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-The_Bare_Essentials.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Lists_and_Strings.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc57">5.2.8</A>  Defining functions</H3><P>Suppose we want to convert more than one number from Arab to Roman numerals. 
Repeating the whole <TT>case</TT> statement from the previous examples each time 
would be absurd; instead we want to define a function once, which we may 
then invoke by name as many times as we please:</P><PRE CLASS="verbatim">    #!/usr/bin/mythryl

    fun to_roman( i ) = {

        case i
         1 =&gt; "I";
         2 =&gt; "II";
         3 =&gt; "III";
         4 =&gt; "IV";
         5 =&gt; "V";
         6 =&gt; "VI";
         7 =&gt; "VII";
         8 =&gt; "VIII";
         9 =&gt; "IX";
        10 =&gt; "X";
         _ =&gt; "Gee, I dunno!";
        esac;
    };

    printf "3 =&gt; %s\n" (to_roman 3);
    printf "5 =&gt; %s\n" (to_roman 5);
    printf "0 =&gt; %s\n" (to_roman 0);
</PRE><P>When run the above produces</P><PRE CLASS="verbatim">    linux$ ./my-script
    3 =&gt; III
    5 =&gt; V
    0 =&gt; Gee, I dunno!
    linux$
</PRE><P>The above function declaration looks a lot like a conventional C function 
declaration. It is not, but it will do no harm for the time being if you 
think of it that way.</P><P>Notice the <TT>=</TT> between the parameter list and 
the body. Later we will see that it is needed to support curried functions. 
For now, just remember not to leave it out!</P><P>Also notice the semicolon at the end of the function definition. C is a 
bit irregular about when terminating semicolons are needed. Mythryl is 
perfectly regular: All complete statements end with a semicolon.</P><P>As with almost all modern languages (even contemporary Fortran!) 
Mythryl function definitions can be recursive:</P><PRE CLASS="verbatim">    #!/usr/bin/mythryl

    fun factorial( i ) = {

        if (i == 1)   i;
        else          i * factorial( i - 1 );
        fi;
    };

    printf "factorial(3) =&gt; %d\n" (factorial(3));
    printf "factorial(5) =&gt; %d\n" (factorial(5));
</PRE><P>When run the above produces:</P><PRE CLASS="verbatim">    linux$ ./my-script
    factorial(3) =&gt; 6
    factorial(5) =&gt; 120
    linux$
</PRE><P>Later we shall see more concise ways of writing the above 
code, but for now the above gets the job done just fine.</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Mythryl_for_Loops.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-The_Bare_Essentials.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Lists_and_Strings.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
