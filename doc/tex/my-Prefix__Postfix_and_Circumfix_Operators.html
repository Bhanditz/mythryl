<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Prefix, Postfix and Circumfix Operators</TITLE>
</HEAD>
<BODY >
<A HREF="my-Roll-Your-Own_Objected_Oriented_Programming.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Delving_Deeper.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Multi-file_Projects__Libraries_and_API_Definitions.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc79">5.3.14</A>  Prefix, Postfix and Circumfix Operators</H3><P>The Mythryl lexer distinguishes between certain infix and prefix arithmetic 
operators by the presence or absence of adjacent whitespace:</P><PRE CLASS="verbatim">    a-b;               # binary infix
    a - b;             # binary infix
    a -b;              # unary prefix
    a- b;              # unary postfix
</PRE><P>This is something of a kludge, but it allows us to use ascii 
<I>-</I> for both subtraction and negation and ascii <TT>*</TT> for 
both multiplication and dereferencing, making the most of the 
very limited number of available seven-bit ascii characters.</P><P>Thus, in Mythryl one can define factorial quite naturally as</P><PRE CLASS="verbatim">    #!/usr/bin/mythryl

    fun 0! =&gt;  1;
        n! =&gt;  n * (n - 1)! ;
    end;

    printf "%d\n" 3! ;
</PRE><P>Running this yields:</P><PRE CLASS="verbatim">    linux$ ./my-script
    6
    linux$
</PRE><P>Judiciously used, this capability can significantly improve code readability.</P><P>Mythryl also supports a limited number of circumfix operators, including</P><PRE CLASS="verbatim">    |x|
    &lt;x&gt;
    /x/
    {i}
</PRE><P>This allows for example a more natural absolute value (or magnitude) 
function definitions:</P><PRE CLASS="verbatim">    #!/usr/bin/mythryl

    fun |x| =  (x &lt; 0) ?? -x :: x;

    a = -3;

    printf "%d\n" |a| ;
</PRE><P>Running this yields:</P><PRE CLASS="verbatim">    linux$ ./my-script
    3
    linux$
</PRE><P>Special for fans of quantum mechanics, Mythryl even allows you to define </P><PRE CLASS="verbatim">    &lt;x|
    |x&gt;
</PRE><P>For example:</P><PRE CLASS="verbatim">    #!/usr/bin/mythryl

    fun &lt;x| =  printf "Wait a minute! You don't look like a quantum mechanic!\n";

    psi = 42;

    &lt;psi| ;
</PRE><P>The script output when run should be no surprise:</P><PRE CLASS="verbatim">    linux$ ./my-script
    Wait a minute! You don't look like a quantum mechanic!
    linux$
</PRE>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Roll-Your-Own_Objected_Oriented_Programming.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Delving_Deeper.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Multi-file_Projects__Libraries_and_API_Definitions.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
