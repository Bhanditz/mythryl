<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>src/lib/c-glue-lib/c.api</TITLE>
</HEAD>
<BODY >
<A HREF="my-src_lib_c-glue-lib_c-debug_api.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Codebase__api_Files.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-src_lib_c-glue-lib_internals_ckit-internal_api.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc1122">15.3.46</A>  src/lib/c-glue-lib/c.api</H3><P>
<A NAME="src/lib/c-glue-lib/c.api"></A>
<CODE>#</CODE><BR>
<CODE>#&nbsp;Encoding&nbsp;the&nbsp;C&nbsp;type&nbsp;system&nbsp;in&nbsp;Mythryl.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;(C)&nbsp;2001,&nbsp;Lucent&nbsp;Technologies,&nbsp;Bell&nbsp;Laboratories</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;author:&nbsp;Matthias&nbsp;Blume</CODE><BR><BR>
<CODE>#&nbsp;Compiled&nbsp;by:</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_c-glue-lib_internals_c-internals_lib.html#src/lib/c-glue-lib/internals/c-internals.lib"><TT>src/lib/c-glue-lib/internals/c-internals.lib</TT></A><BR><BR><CODE>api&nbsp;Ctypes&nbsp;{</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;exception&nbsp;OUT_OF_MEMORY;</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Chunks&nbsp;of&nbsp;type&nbsp;T,&nbsp;constness&nbsp;C.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;The&nbsp;T&nbsp;type&nbsp;variable&nbsp;will&nbsp;be&nbsp;the&nbsp;chunk's&nbsp;"witness"&nbsp;type.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;The&nbsp;intention&nbsp;is&nbsp;that&nbsp;there&nbsp;be&nbsp;an&nbsp;isomorphism&nbsp;between&nbsp;such</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;witness&nbsp;types&nbsp;and&nbsp;corresponding&nbsp;C&nbsp;types.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Witness&nbsp;types&nbsp;are&nbsp;often&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;(abstract)&nbsp;type&nbsp;of&nbsp;the&nbsp;value</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;stored&nbsp;in&nbsp;the&nbsp;chunk.&nbsp;&nbsp;However,&nbsp;this&nbsp;is&nbsp;merely&nbsp;a&nbsp;coincidence.&nbsp;&nbsp;For</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;example,&nbsp;a&nbsp;constant&nbsp;chunk&nbsp;holding&nbsp;a&nbsp;pointer&nbsp;to&nbsp;a&nbsp;read-write&nbsp;integer</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;would&nbsp;have&nbsp;type&nbsp;Chunk&nbsp;(Ptr&nbsp;(Sint,&nbsp;Rw),&nbsp;Ro)&nbsp;&nbsp;and&nbsp;the&nbsp;value&nbsp;itself&nbsp;has</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;type&nbsp;Ptr&nbsp;(Sint,&nbsp;Rw).</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;However,&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;the&nbsp;"light"&nbsp;version&nbsp;of&nbsp;this&nbsp;chunk&nbsp;(see&nbsp;below),</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;the&nbsp;chunk&nbsp;type&nbsp;is&nbsp;Chunk'&nbsp;(Ptr&nbsp;(Sint,&nbsp;Rw),&nbsp;Ro)&nbsp;&nbsp;while&nbsp;fetching</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;from&nbsp;this&nbsp;chunk&nbsp;gives&nbsp;a&nbsp;value&nbsp;of&nbsp;type&nbsp;Ptr'&nbsp;(Sint,&nbsp;Rw).</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;(In&nbsp;other&nbsp;words,&nbsp;we&nbsp;use&nbsp;the&nbsp;"heavy"&nbsp;versions&nbsp;of&nbsp;value&nbsp;types&nbsp;as&nbsp;witness</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;types&nbsp;--&nbsp;even&nbsp;in&nbsp;the&nbsp;"light"&nbsp;case.)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Chunk&nbsp;(T,&nbsp;C);</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;An&nbsp;alternative&nbsp;"light-weight"&nbsp;version&nbsp;that&nbsp;does&nbsp;not&nbsp;carry</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;run-time&nbsp;type&nbsp;information&nbsp;(RTTI)&nbsp;at&nbsp;the&nbsp;cost&nbsp;of&nbsp;requiring</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;explicit&nbsp;passing&nbsp;of&nbsp;RTTI&nbsp;for&nbsp;certain&nbsp;operations:</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;Chunk'&nbsp;(T,&nbsp;C);</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Constness&nbsp;property,&nbsp;to&nbsp;be&nbsp;substituted&nbsp;for&nbsp;C&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Ro&nbsp;also&nbsp;Rw;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Pointers&nbsp;come&nbsp;in&nbsp;two&nbsp;varieties&nbsp;in&nbsp;C:&nbsp;&nbsp;Pointers&nbsp;to&nbsp;things&nbsp;we</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;know&nbsp;and&nbsp;pointers&nbsp;to&nbsp;"incomplete"&nbsp;types.&nbsp;&nbsp;The&nbsp;"ptr"&nbsp;type&nbsp;constructor</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;below&nbsp;encodes&nbsp;both&nbsp;kinds&nbsp;using&nbsp;the&nbsp;following&nbsp;convention:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;-&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;complete&nbsp;target&nbsp;types,&nbsp;O&nbsp;will&nbsp;be</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;some&nbsp;Chunk(T,&nbsp;C).&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;-&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;incomplete&nbsp;target&nbsp;types,&nbsp;O&nbsp;will</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;some&nbsp;fresh&nbsp;(abstract)&nbsp;type.&nbsp;(See&nbsp;iptr.api&nbsp;for&nbsp;what&nbsp;this&nbsp;will</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;look&nbsp;like&nbsp;in&nbsp;practice)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Ptr(&nbsp;O&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;pointer&nbsp;to&nbsp;O&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;N-sized&nbsp;Rw_Vector&nbsp;with&nbsp;T&nbsp;elements&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Light-weight&nbsp;alternative&nbsp;(no&nbsp;implicit&nbsp;RTTI):</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;Ptr'(&nbsp;O&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;Void;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;no&nbsp;values,&nbsp;admits&nbsp;equality&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;void*&nbsp;is&nbsp;really&nbsp;a&nbsp;base&nbsp;type,&nbsp;but&nbsp;it&nbsp;happens&nbsp;to&nbsp;take&nbsp;the</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;form&nbsp;of&nbsp;a&nbsp;light-weight&nbsp;pointer&nbsp;type&nbsp;(with&nbsp;an&nbsp;abstract&nbsp;target).</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;design&nbsp;makes&nbsp;it&nbsp;possible&nbsp;to&nbsp;use&nbsp;those&nbsp;ptr-related</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;functions&nbsp;that&nbsp;"make&nbsp;sense"&nbsp;for&nbsp;void*.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Voidptr&nbsp;=&nbsp;&nbsp;Ptr'(&nbsp;Void&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;C's&nbsp;void*&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Function&nbsp;pointers&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Fptr(&nbsp;F&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;A&nbsp;function&nbsp;pointer&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Lightweight&nbsp;function&nbsp;pointers:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;Fptr'(&nbsp;F&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Structures&nbsp;and&nbsp;unions:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Su(&nbsp;A_tag&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;struct/union&nbsp;named&nbsp;A_tag;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A_tag&nbsp;is&nbsp;drawn&nbsp;from&nbsp;the&nbsp;types</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;defined&nbsp;in&nbsp;the&nbsp;Tag&nbsp;module</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Enumerations:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;An_Enum(&nbsp;A_tag&nbsp;);</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Primtypes&nbsp;(signed/unsigned&nbsp;char,&nbsp;int,&nbsp;short,&nbsp;long;&nbsp;float,&nbsp;double)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;Schar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;also&nbsp;Uchar;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;Sint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;also&nbsp;Uint;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;Sshort&nbsp;&nbsp;&nbsp;&nbsp;also&nbsp;Ushort;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;Slong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;also&nbsp;Ulong;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;Slonglong&nbsp;also&nbsp;Ulonglong;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;also&nbsp;Double;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Going&nbsp;from&nbsp;abstract&nbsp;to&nbsp;concrete&nbsp;and&nbsp;vice&nbsp;versa.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;(This&nbsp;shouldn't&nbsp;be&nbsp;needed&nbsp;except&nbsp;when&nbsp;calling</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;functions&nbsp;through&nbsp;function&nbsp;pointers.)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;convert:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Mythryl&nbsp;-&gt;&nbsp;C&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_schar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::signed::Int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Schar;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_uchar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::unsigned::Unt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Uchar;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_sint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::signed::Int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Sint;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_uint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::unsigned::Unt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Uint;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_sshort:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::signed::Int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Sshort;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_ushort:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::unsigned::Unt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Ushort;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_slong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::signed::Int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Slong;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_ulong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::unsigned::Unt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Ulong;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_slonglong:&nbsp;&nbsp;mlrep::long_long_signed::Int&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Slonglong;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_ulonglong:&nbsp;&nbsp;mlrep::long_long_unsigned::Unt&nbsp;-&gt;&nbsp;Ulonglong;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_float:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::float::Float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Float;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_double:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::float::Float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Double;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i2c_enum:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlrep::signed::Int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;An_Enum(&nbsp;E&nbsp;);</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;C&nbsp;-&gt;&nbsp;Mythryl</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_schar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Schar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_uchar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uchar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_sint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_uint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_sshort:&nbsp;&nbsp;&nbsp;&nbsp;Sshort&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_ushort:&nbsp;&nbsp;&nbsp;&nbsp;Ushort&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_slong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Slong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_ulong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ulong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_slonglong:&nbsp;Slonglong&nbsp;-&gt;&nbsp;mlrep::long_long_signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_ulonglong:&nbsp;Ulonglong&nbsp;-&gt;&nbsp;mlrep::long_long_unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_float:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::float::Float;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_double:&nbsp;&nbsp;&nbsp;&nbsp;Double&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::float::Float;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2i_enum:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An_Enum(&nbsp;E&nbsp;)&nbsp;&nbsp;&nbsp;-&gt;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Type-abbreviations&nbsp;for&nbsp;a&nbsp;bit&nbsp;more&nbsp;convenience.&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Schar_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Schar,&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Uchar_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Uchar,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Sint_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Sint,&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Uint_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Uint,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Sshort_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Sshort,&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Ushort_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Ushort,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Slong_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Slong,&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Ulong_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Ulong,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Slonglong_Chunk(&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Slonglong,&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Ulonglong_Chunk(&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Ulonglong,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Float_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Float,&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Double_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Double,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Voidptr_Chunk(&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Voidptr,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Enum_Chunk(&nbsp;&nbsp;&nbsp;E,&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;An_Enum(&nbsp;E&nbsp;),&nbsp;C&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Fptr_Chunk(&nbsp;&nbsp;&nbsp;F,&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Fptr(&nbsp;F&nbsp;),&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Su_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S,&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Su(&nbsp;S&nbsp;),&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alternate&nbsp;lightweight&nbsp;versions&nbsp;(no&nbsp;implicit&nbsp;RTTI):</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Schar_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Schar,&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Uchar_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Uchar,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Sint_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Sint,&nbsp;C&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Uint_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Uint,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Sshort_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Sshort,&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Ushort_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Ushort,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Slong_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Slong,&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Ulong_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Ulong,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Slonglong_Chunk'(&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Slonglong,&nbsp;C&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Ulonglong_Chunk'(&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Ulonglong,&nbsp;C&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Float_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Float,&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Double_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Double,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Voidptr_Chunk'(&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Voidptr,&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Enum_Chunk'&nbsp;&nbsp;&nbsp;(E,&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;An_Enum(&nbsp;E&nbsp;),&nbsp;C&nbsp;);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Fptr_Chunk'&nbsp;&nbsp;&nbsp;(F,&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Fptr(&nbsp;F&nbsp;),&nbsp;C);&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Su_Chunk'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(S,&nbsp;C&nbsp;)&nbsp;=&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Su(&nbsp;S&nbsp;),&nbsp;C&nbsp;);&nbsp;</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Bitfields&nbsp;aren't&nbsp;"ordinary&nbsp;chunks",</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;so&nbsp;they&nbsp;have&nbsp;their&nbsp;own&nbsp;type:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;eqtype&nbsp;Sbf&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;"Sbf"&nbsp;==&nbsp;&nbsp;&nbsp;"signed&nbsp;bitfield"</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;also&nbsp;&nbsp;&nbsp;Ubf&nbsp;C;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;"Ubf"&nbsp;==&nbsp;"unsigned&nbsp;bitfield"</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;w:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Conversion&nbsp;"witness"&nbsp;values&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Witness(&nbsp;A_from,&nbsp;A_to&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A&nbsp;small&nbsp;calculus&nbsp;for&nbsp;generating&nbsp;new&nbsp;witnesses.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Since&nbsp;the&nbsp;only&nbsp;witness&nbsp;constructors&nbsp;that&nbsp;do&nbsp;anything&nbsp;real&nbsp;are</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;rw&nbsp;and&nbsp;ro,&nbsp;all&nbsp;this&nbsp;calculus&nbsp;gives&nbsp;you&nbsp;is&nbsp;a&nbsp;way&nbsp;of&nbsp;changing</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;"const"&nbsp;attributes&nbsp;at&nbsp;any&nbsp;level&nbsp;within&nbsp;a&nbsp;bigger&nbsp;type.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;(The&nbsp;calculus&nbsp;can&nbsp;express&nbsp;nonsensical&nbsp;witnesses&nbsp;--&nbsp;which</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;fortunately&nbsp;are&nbsp;harmless&nbsp;because&nbsp;they&nbsp;can't&nbsp;be&nbsp;applied&nbsp;to&nbsp;any</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;values.)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trivial:&nbsp;&nbsp;Witness(&nbsp;T,&nbsp;T&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointer:&nbsp;&nbsp;Witness(&nbsp;A_from,&nbsp;A_to&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Witness(&nbsp;Ptr(&nbsp;A_from&nbsp;),&nbsp;Ptr(&nbsp;A_to&nbsp;)&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chunk:&nbsp;&nbsp;&nbsp;&nbsp;Witness(&nbsp;A_st,&nbsp;&nbsp;&nbsp;A_tt&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Witness&nbsp;(Chunk(&nbsp;A_st,&nbsp;C&nbsp;),&nbsp;Chunk(&nbsp;A_tt,&nbsp;C&nbsp;));</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Witness(&nbsp;A_st,&nbsp;&nbsp;&nbsp;A_tt&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Witness&nbsp;(Arr(&nbsp;A_st,&nbsp;N&nbsp;),&nbsp;&nbsp;&nbsp;Arr(&nbsp;A_tt,&nbsp;N&nbsp;));</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ro:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Witness(&nbsp;A_st,&nbsp;&nbsp;&nbsp;A_tt&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Witness&nbsp;(Chunk(&nbsp;A_st,&nbsp;C&nbsp;),&nbsp;&nbsp;&nbsp;&nbsp;Chunk(&nbsp;A_tt,&nbsp;Ro&nbsp;));</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rw:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Witness(&nbsp;A_st,&nbsp;&nbsp;&nbsp;A_tt&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Witness&nbsp;(Chunk(&nbsp;A_st,&nbsp;A_sc&nbsp;),&nbsp;Chunk(&nbsp;A_tt,&nbsp;A_tc&nbsp;));</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Chunk&nbsp;conversions&nbsp;that&nbsp;rely&nbsp;on&nbsp;witnesses:&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;convert:&nbsp;&nbsp;&nbsp;w::Witness&nbsp;(Chunk(&nbsp;A_st,&nbsp;A_sc&nbsp;),&nbsp;Chunk(&nbsp;A_tt,&nbsp;A_tc&nbsp;))&nbsp;-&gt;&nbsp;Chunk(&nbsp;A_st,&nbsp;&nbsp;A_sc&nbsp;)&nbsp;-&gt;&nbsp;Chunk&nbsp;(&nbsp;A_tt,&nbsp;A_tc&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;convert':&nbsp;&nbsp;w::Witness&nbsp;(Chunk(&nbsp;A_st,&nbsp;A_sc&nbsp;),&nbsp;Chunk(&nbsp;A_tt,&nbsp;A_tc&nbsp;))&nbsp;-&gt;&nbsp;Chunk'(&nbsp;A_st,&nbsp;A_sc&nbsp;)&nbsp;-&gt;&nbsp;Chunk'(&nbsp;A_tt,&nbsp;A_tc&nbsp;);</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A&nbsp;family&nbsp;of&nbsp;types&nbsp;and&nbsp;corresponding&nbsp;values&nbsp;representing&nbsp;natural&nbsp;numbers.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;(An&nbsp;encoding&nbsp;in&nbsp;Mythryl&nbsp;without&nbsp;using&nbsp;dependent&nbsp;types.)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;dim:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Internally,&nbsp;a&nbsp;value&nbsp;of&nbsp;type&nbsp;Dim0&nbsp;(X,&nbsp;Z)&nbsp;is&nbsp;just&nbsp;a&nbsp;number.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;The&nbsp;trick&nbsp;here&nbsp;is&nbsp;to&nbsp;give&nbsp;each&nbsp;of&nbsp;these&nbsp;numbers&nbsp;a&nbsp;different&nbsp;unique</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;type.&nbsp;X&nbsp;will&nbsp;be&nbsp;a&nbsp;decimal&nbsp;encoding&nbsp;of&nbsp;the&nbsp;number's&nbsp;value&nbsp;in</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;"type&nbsp;digits".&nbsp;Z&nbsp;keeps&nbsp;track&nbsp;of&nbsp;whether&nbsp;the&nbsp;number&nbsp;is&nbsp;zero&nbsp;or&nbsp;not.</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;We&nbsp;can&nbsp;always&nbsp;get&nbsp;the&nbsp;internal&nbsp;number&nbsp;back...&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to_int:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Int;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;These&nbsp;two&nbsp;types&nbsp;act&nbsp;as&nbsp;"flags".&nbsp;They&nbsp;will&nbsp;be&nbsp;substituted&nbsp;for&nbsp;Z</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;and&nbsp;remember&nbsp;whether&nbsp;the&nbsp;value&nbsp;is&nbsp;zero&nbsp;or&nbsp;not.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Zero;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nonzero;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dim(X)&nbsp;=&nbsp;Dim0(&nbsp;X,&nbsp;Nonzero&nbsp;);&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;These&nbsp;are&nbsp;the&nbsp;"type&nbsp;digits".&nbsp;&nbsp;Type&nbsp;"Dec"&nbsp;acts&nbsp;as&nbsp;a&nbsp;"terminator".</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;We&nbsp;chose&nbsp;its&nbsp;name&nbsp;so&nbsp;to&nbsp;remind&nbsp;us&nbsp;that&nbsp;the&nbsp;encoding&nbsp;is&nbsp;decimal.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;If&nbsp;a&nbsp;nonzero&nbsp;value's&nbsp;decimal&nbsp;representation&nbsp;is&nbsp;"&lt;Dn&gt;...&lt;D0&gt;",&nbsp;then</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;its&nbsp;type&nbsp;will&nbsp;be&nbsp;"Dim0&nbsp;(&nbsp;dg&lt;D0&gt;&nbsp;...&nbsp;Dg&lt;Dn&gt;&nbsp;Dec,&nbsp;Nonzero)&nbsp;",&nbsp;which</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;"Dim&nbsp;Dg&lt;D0&gt;&nbsp;...&nbsp;Dg&lt;Dn&gt;&nbsp;Dec".&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;the&nbsp;zero</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;value&nbsp;is&nbsp;"Dim0(&nbsp;Dec,&nbsp;Zero&nbsp;)".</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dec;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dg0(X)&nbsp;also&nbsp;Dg1(X)&nbsp;also&nbsp;Dg2(X)&nbsp;also&nbsp;Dg3(X)&nbsp;also&nbsp;Dg4(X);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dg5(X)&nbsp;also&nbsp;Dg6(X)&nbsp;also&nbsp;Dg7(X)&nbsp;also&nbsp;Dg8(X)&nbsp;also&nbsp;Dg9(X);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Here&nbsp;are&nbsp;the&nbsp;corresponding&nbsp;constructors&nbsp;for&nbsp;Dim0&nbsp;(X,&nbsp;Z)&nbsp;values.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;The&nbsp;type&nbsp;for&nbsp;dg0&nbsp;ensures&nbsp;that&nbsp;there&nbsp;will&nbsp;be&nbsp;no&nbsp;"leading&nbsp;zeros"&nbsp;in</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;any&nbsp;encoding.&nbsp;&nbsp;This&nbsp;guarantees&nbsp;a&nbsp;1-1&nbsp;correspondence&nbsp;of&nbsp;constructable</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;values&nbsp;and&nbsp;their&nbsp;types.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;To&nbsp;construct&nbsp;the&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;a&nbsp;nonzero&nbsp;number&nbsp;whose</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;decimal&nbsp;representation&nbsp;is&nbsp;"&lt;Dn&gt;...&lt;D0&gt;",&nbsp;one&nbsp;must&nbsp;invoke</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;"dg&lt;D0&gt;'&nbsp;(...&nbsp;(dg&lt;Dn&gt;'&nbsp;dec')...)",&nbsp;i.e.,&nbsp;the&nbsp;least&nbsp;significant</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;digit&nbsp;appears&nbsp;leftmost.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dec'&nbsp;:&nbsp;Dim0(&nbsp;Dec,&nbsp;Zero&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg0'&nbsp;:&nbsp;Dim(X)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Dim(&nbsp;Dg0(X)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg1'&nbsp;:&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Dim(&nbsp;Dg1(X)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg2'&nbsp;:&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Dim(&nbsp;Dg2(X)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg3'&nbsp;:&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Dim(&nbsp;Dg3(X)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg4'&nbsp;:&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Dim(&nbsp;Dg4(X)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg5'&nbsp;:&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Dim(&nbsp;Dg5(X)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg6'&nbsp;:&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Dim(&nbsp;Dg6(X)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg7'&nbsp;:&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Dim(&nbsp;Dg7(X)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg8'&nbsp;:&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Dim(&nbsp;Dg8(X)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg9'&nbsp;:&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Dim(&nbsp;Dg9(X)&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Since&nbsp;having&nbsp;to&nbsp;reverse&nbsp;the&nbsp;sequence&nbsp;of&nbsp;digits&nbsp;seems&nbsp;unnatural,</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;here&nbsp;is&nbsp;another&nbsp;set&nbsp;of&nbsp;constructors&nbsp;for&nbsp;dim&nbsp;values.&nbsp;&nbsp;These</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;constructors&nbsp;use&nbsp;fate-passing&nbsp;style&nbsp;and&nbsp;themselves</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;have&nbsp;more&nbsp;complicated&nbsp;types.&nbsp;&nbsp;But&nbsp;their&nbsp;use&nbsp;is&nbsp;easier:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;To&nbsp;construct&nbsp;the&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;a&nbsp;nonzero&nbsp;number&nbsp;whose</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;decimal&nbsp;representation&nbsp;is&nbsp;"&lt;Dn&gt;...&lt;D0&gt;",&nbsp;one&nbsp;must&nbsp;invoke</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;"dec&nbsp;dg&lt;Dn&gt;&nbsp;...&nbsp;dg&lt;D0&gt;&nbsp;dim";&nbsp;i.e.,&nbsp;the&nbsp;least&nbsp;significant</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;digit&nbsp;appears&nbsp;rightmost&nbsp;--&nbsp;just&nbsp;like&nbsp;in&nbsp;the&nbsp;usual&nbsp;decimal</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;notation&nbsp;for&nbsp;numbers&nbsp;that&nbsp;we&nbsp;are&nbsp;all&nbsp;familiar&nbsp;with.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Moreover,&nbsp;for&nbsp;any&nbsp;dim(X)&nbsp;value&nbsp;we&nbsp;have&nbsp;the&nbsp;neat&nbsp;property&nbsp;that</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;it&nbsp;can&nbsp;be&nbsp;constructed&nbsp;by&nbsp;taking&nbsp;its&nbsp;type&nbsp;(expressed&nbsp;using&nbsp;"dim")</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;and&nbsp;interpreting&nbsp;it&nbsp;as&nbsp;an&nbsp;expression.&nbsp;&nbsp;For&nbsp;example,&nbsp;the&nbsp;dim</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;value&nbsp;representing&nbsp;312&nbsp;is&nbsp;"dec&nbsp;dg3&nbsp;dg1&nbsp;dg2&nbsp;dim"&nbsp;and&nbsp;it&nbsp;can</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;be&nbsp;constructed&nbsp;by&nbsp;evaluating&nbsp;"dec&nbsp;dg3&nbsp;dg1&nbsp;dg2&nbsp;dim".</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dec:&nbsp;&nbsp;(Dim0(&nbsp;Dec,&nbsp;Zero&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg0:&nbsp;&nbsp;Dim(X)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;(Dim(&nbsp;Dg0(X)&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg1:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;(Dim(&nbsp;Dg1(X)&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg2:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;(Dim(&nbsp;Dg2(X)&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg3:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;(Dim(&nbsp;Dg3(X)&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg4:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;(Dim(&nbsp;Dg4(X)&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg5:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;(Dim(&nbsp;Dg5(X)&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg6:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;(Dim(&nbsp;Dg6(X)&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg7:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;(Dim(&nbsp;Dg7(X)&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg8:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;(Dim(&nbsp;Dg8(X)&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dg9:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;(Dim(&nbsp;Dg9(X)&nbsp;)&nbsp;-&gt;&nbsp;Y)&nbsp;-&gt;&nbsp;Y;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dim:&nbsp;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;)&nbsp;-&gt;&nbsp;Dim0(&nbsp;X,&nbsp;Z&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A&nbsp;sub-package&nbsp;for&nbsp;dealing&nbsp;with&nbsp;run-time&nbsp;type&nbsp;info&nbsp;(sizes&nbsp;only):&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;s:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Our&nbsp;size&nbsp;info&nbsp;itself&nbsp;is&nbsp;statically&nbsp;typed!</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;The&nbsp;size&nbsp;info&nbsp;for&nbsp;a&nbsp;value&nbsp;stored&nbsp;in&nbsp;chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;has</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;the&nbsp;following&nbsp;type:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;T&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;a&nbsp;number&nbsp;out:&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to_word:&nbsp;&nbsp;Size(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;Unt;</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Sizes&nbsp;for&nbsp;simple&nbsp;things:&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Schar&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uchar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Uchar&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Sint&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Uint&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sshort:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Sshort&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ushort:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Ushort&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Slong&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Ulong&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slonglong:&nbsp;&nbsp;Size(&nbsp;&nbsp;Slonglong&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulonglong:&nbsp;&nbsp;Size(&nbsp;&nbsp;Ulonglong&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Float&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Double&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;voidptr:&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Voidptr&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Ptr(&nbsp;&nbsp;O&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fptr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;Fptr(&nbsp;F&nbsp;)&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an_enum:&nbsp;&nbsp;&nbsp;&nbsp;Size(&nbsp;&nbsp;An_Enum(&nbsp;&nbsp;A_tag&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Sub-package&nbsp;for&nbsp;dealing&nbsp;with&nbsp;run-time&nbsp;type&nbsp;info:&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;t:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Our&nbsp;RTTI&nbsp;itself&nbsp;is&nbsp;statically&nbsp;typed!</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;The&nbsp;RTTI&nbsp;for&nbsp;a&nbsp;value&nbsp;stored&nbsp;in&nbsp;chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;has</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;the&nbsp;following&nbsp;type:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;T&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;the&nbsp;RTTI&nbsp;from&nbsp;an&nbsp;actual&nbsp;chunk:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;typeof:&nbsp;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;Type(&nbsp;T&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Construct&nbsp;a&nbsp;new&nbsp;RTTI&nbsp;from&nbsp;existing&nbsp;RTTI:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointer:&nbsp;&nbsp;Type(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;Type(&nbsp;Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;Rw&nbsp;)&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target:&nbsp;&nbsp;&nbsp;Type(&nbsp;Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;Type(&nbsp;T&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Type(&nbsp;T&nbsp;),&nbsp;dim::Dim(&nbsp;N&nbsp;))&nbsp;-&gt;&nbsp;Type(&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element:&nbsp;&nbsp;Type(&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;Type(&nbsp;T&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ro:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;Type(&nbsp;Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;Ro&nbsp;)&nbsp;)&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Calculate&nbsp;the&nbsp;size&nbsp;of&nbsp;a&nbsp;chunk&nbsp;given&nbsp;its&nbsp;RTTI:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof:&nbsp;&nbsp;Type(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;s::Size(&nbsp;T&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Dimension&nbsp;of&nbsp;rw_vector&nbsp;type&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dim:&nbsp;&nbsp;Type(&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;dim::Dim(&nbsp;N&nbsp;);</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;RTTI&nbsp;for&nbsp;simple&nbsp;things:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Schar&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uchar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Uchar&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Sint&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Uint&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sshort:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Sshort&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ushort:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Ushort&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Slong&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Ulong&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slonglong:&nbsp;&nbsp;Type(&nbsp;&nbsp;Slonglong&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulonglong:&nbsp;&nbsp;Type(&nbsp;&nbsp;Ulonglong&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Float&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Double&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;voidptr:&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;Voidptr&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an_enum:&nbsp;&nbsp;&nbsp;&nbsp;Type(&nbsp;&nbsp;An_Enum(&nbsp;&nbsp;A_tag&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Convert&nbsp;from&nbsp;regular&nbsp;(heavy)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;to&nbsp;alternative&nbsp;(light)&nbsp;versions:&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;light:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chunk:&nbsp;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;T,&nbsp;C&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr:&nbsp;&nbsp;&nbsp;&nbsp;Ptr(&nbsp;&nbsp;O&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr'(&nbsp;O&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fptr:&nbsp;&nbsp;&nbsp;Fptr(&nbsp;F&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Fptr'(&nbsp;F&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;And&nbsp;vice&nbsp;versa:</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;heavy:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chunk:&nbsp;&nbsp;t::Type(&nbsp;T&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;T,&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr:&nbsp;&nbsp;&nbsp;&nbsp;t::Type(&nbsp;Ptr(&nbsp;O&nbsp;)&nbsp;)&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr'(&nbsp;&nbsp;O&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Ptr(&nbsp;O&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fptr:&nbsp;&nbsp;&nbsp;t::Type(&nbsp;Fptr(&nbsp;F&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Fptr'(&nbsp;F&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Fptr(&nbsp;F&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Calculate&nbsp;size&nbsp;of&nbsp;an&nbsp;chunk&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;sizeof:&nbsp;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;s::Size(&nbsp;T&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;"fetch"&nbsp;methods&nbsp;for&nbsp;various&nbsp;types;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;fetching&nbsp;does&nbsp;not&nbsp;care&nbsp;about&nbsp;constness</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;get:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Primitive&nbsp;types.&nbsp;&nbsp;The&nbsp;results&nbsp;are&nbsp;concrete&nbsp;here:</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Schar_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uchar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uchar_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sint_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uint_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sshort:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sshort_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ushort:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ushort_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Slong_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ulong_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slonglong:&nbsp;&nbsp;Slonglong_Chunk(&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::long_long_signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulonglong:&nbsp;&nbsp;Ulonglong_Chunk(&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::long_long_unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Float_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::float::Float;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Double_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::float::Float;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an_enum:&nbsp;&nbsp;&nbsp;&nbsp;Enum_Chunk(&nbsp;&nbsp;&nbsp;E,&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::signed::Int;</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schar'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Schar_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uchar'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Uchar_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sint'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Sint_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Uint_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sshort'&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Sshort_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ushort'&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Ushort_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slong'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Slong_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulong'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Ulong_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slonglong'&nbsp;:&nbsp;Slonglong_Chunk'(&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::long_long_signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulonglong'&nbsp;:&nbsp;Ulonglong_Chunk'(&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::long_long_unsigned::Unt;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Float_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::float::Float;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double'&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Double_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::float::Float;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an_enum'&nbsp;&nbsp;&nbsp;:&nbsp;Enum_Chunk'(&nbsp;&nbsp;&nbsp;E,&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;mlrep::signed::Int;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Fetching&nbsp;pointers.&nbsp;&nbsp;Results&nbsp;have&nbsp;to&nbsp;be&nbsp;abstract:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Ptr(&nbsp;O&nbsp;),&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr(&nbsp;O&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fptr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fptr_Chunk(&nbsp;&nbsp;&nbsp;F,&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Fptr(&nbsp;F&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;voidptr:&nbsp;&nbsp;Voidptr_Chunk(&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Voidptr;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr'&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Ptr(&nbsp;O&nbsp;),&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr'(&nbsp;O&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fptr'&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;Fptr_Chunk'(&nbsp;&nbsp;&nbsp;F,&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Fptr'(&nbsp;F&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;voidptr'&nbsp;:&nbsp;Voidptr_Chunk'(&nbsp;&nbsp;&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Voidptr;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Bitfields.&nbsp;&nbsp;Concrete&nbsp;again:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sbf:&nbsp;&nbsp;Sbf(&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::signed::Int;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ubf:&nbsp;&nbsp;Ubf(&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;mlrep::unsigned::Unt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;"store"&nbsp;methods.&nbsp;&nbsp;These&nbsp;require&nbsp;rw&nbsp;chunks:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;set:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Primitive&nbsp;types.&nbsp;&nbsp;Use&nbsp;concrete&nbsp;values:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Schar_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uchar:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Uchar_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::unsigned::Unt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Sint_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Uint_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::unsigned::Unt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sshort:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Sshort_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ushort:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ushort_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::unsigned::Unt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Slong_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulong:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ulong_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::unsigned::Unt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slonglong:&nbsp;&nbsp;(Slonglong_Chunk(&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::long_long_signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulonglong:&nbsp;&nbsp;(Ulonglong_Chunk(&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::long_long_unsigned::Unt)&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Float_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::float::Float)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Double_Chunk(&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::float::Float)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an_enum:&nbsp;&nbsp;&nbsp;&nbsp;(Enum_Chunk(&nbsp;E,&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alternative&nbsp;lightweight&nbsp;versions&nbsp;(no&nbsp;implicit&nbsp;RTTI):</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schar'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(Schar_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uchar'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(Uchar_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::unsigned::Unt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sint'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(Sint_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(Uint_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::unsigned::Unt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sshort'&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(Sshort_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ushort'&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(Ushort_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::unsigned::Unt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slong'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(Slong_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulong'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(Ulong_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::unsigned::Unt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slonglong'&nbsp;:&nbsp;(Slonglong_Chunk'(&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::long_long_signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ulonglong'&nbsp;:&nbsp;(Ulonglong_Chunk'(&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::long_long_unsigned::Unt)&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(Float_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::float::Float)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double'&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(Double_Chunk'(&nbsp;&nbsp;&nbsp;&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::float::Float)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an_enum'&nbsp;&nbsp;&nbsp;:&nbsp;(Enum_Chunk'(&nbsp;&nbsp;&nbsp;E,&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Storing&nbsp;pointers.&nbsp;&nbsp;&nbsp;Abstract:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr:&nbsp;&nbsp;&nbsp;(Chunk(&nbsp;Ptr(&nbsp;O&nbsp;),&nbsp;Rw&nbsp;),&nbsp;Ptr(&nbsp;O&nbsp;))&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fptr:&nbsp;&nbsp;&nbsp;(Fptr_Chunk(&nbsp;F,&nbsp;Rw&nbsp;),&nbsp;Fptr(&nbsp;F&nbsp;))&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;voidptr:&nbsp;&nbsp;(Voidptr_Chunk(&nbsp;Rw&nbsp;),&nbsp;Voidptr)&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alternative&nbsp;lightweight&nbsp;variants:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr'&nbsp;:&nbsp;(Chunk'(&nbsp;Ptr(&nbsp;O&nbsp;),&nbsp;Rw&nbsp;),&nbsp;Ptr'(&nbsp;O&nbsp;))&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fptr'&nbsp;:&nbsp;(Fptr_Chunk'(&nbsp;F,&nbsp;Rw&nbsp;),&nbsp;Fptr'(&nbsp;F&nbsp;))&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;voidptr'&nbsp;:&nbsp;(Voidptr_Chunk'(&nbsp;Rw&nbsp;),&nbsp;Voidptr)&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;When&nbsp;storing,&nbsp;voidptr&nbsp;is&nbsp;compatible</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;with&nbsp;any&nbsp;ptr&nbsp;type&nbsp;--&nbsp;just&nbsp;as&nbsp;in&nbsp;C.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;should&nbsp;eliminate&nbsp;most&nbsp;need&nbsp;for</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;run-time&nbsp;type&nbsp;information&nbsp;in&nbsp;practice:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr_voidptr:&nbsp;&nbsp;(Chunk(&nbsp;Ptr(&nbsp;O&nbsp;),&nbsp;Rw&nbsp;),&nbsp;Voidptr)&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr_voidptr'&nbsp;:&nbsp;(Chunk'(&nbsp;Ptr(&nbsp;O&nbsp;),&nbsp;Rw&nbsp;),&nbsp;Voidptr)&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Bitfields;&nbsp;concrete&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sbf:&nbsp;&nbsp;(Sbf(&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::signed::Int)&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ubf:&nbsp;&nbsp;(Ubf(&nbsp;Rw&nbsp;),&nbsp;&nbsp;mlrep::unsigned::Unt)&nbsp;-&gt;&nbsp;Void;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Copy&nbsp;contents&nbsp;of&nbsp;an&nbsp;arbitrary&nbsp;chunk:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;copy:&nbsp;&nbsp;{&nbsp;from:&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;),</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to:&nbsp;&nbsp;&nbsp;Chunk(&nbsp;T,&nbsp;Rw&nbsp;)&nbsp;}&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;copy'&nbsp;:&nbsp;s::Size(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;{&nbsp;from:&nbsp;Chunk'(&nbsp;T,&nbsp;C&nbsp;),</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to:&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;T,&nbsp;Rw&nbsp;)&nbsp;}&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Manipulating&nbsp;chunk&nbsp;constness:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;rw&nbsp;-&gt;&nbsp;ro:&nbsp;&nbsp;This&nbsp;direction&nbsp;just&nbsp;accounts&nbsp;for&nbsp;the&nbsp;fact&nbsp;that</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rw&nbsp;is&nbsp;conceptually&nbsp;a&nbsp;subtype&nbsp;of&nbsp;ro</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;ro&nbsp;-&gt;&nbsp;rw:&nbsp;&nbsp;This&nbsp;is&nbsp;not&nbsp;safe,&nbsp;but&nbsp;C&nbsp;makes&nbsp;it&nbsp;so&nbsp;easy&nbsp;that&nbsp;we</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;might&nbsp;as&nbsp;well&nbsp;directly&nbsp;support&nbsp;it;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Concretely,&nbsp;we&nbsp;make&nbsp;both&nbsp;operations&nbsp;typeagnostic&nbsp;in&nbsp;the&nbsp;argument</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;constness.&nbsp;&nbsp;Moreover,&nbsp;the&nbsp;second&nbsp;(unsafe)&nbsp;direction&nbsp;is&nbsp;also</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;typeagnostic&nbsp;in&nbsp;the&nbsp;result.&nbsp;&nbsp;This&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;effectively</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;implement&nbsp;a&nbsp;conversion&nbsp;to&nbsp;"whatever&nbsp;the&nbsp;context&nbsp;wants".</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Note:&nbsp;fun&nbsp;ro&nbsp;x&nbsp;=&nbsp;convert&nbsp;(w::ro&nbsp;w::trivial)&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;etc.</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;ro:&nbsp;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Chunk(&nbsp;T,&nbsp;Ro&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;rw:&nbsp;&nbsp;Chunk(&nbsp;T,&nbsp;A_sc&nbsp;)&nbsp;-&gt;&nbsp;Chunk(&nbsp;T,&nbsp;A_tc&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;ro'&nbsp;:&nbsp;Chunk'(&nbsp;T,&nbsp;C&nbsp;)&nbsp;&nbsp;-&gt;&nbsp;Chunk'(&nbsp;T,&nbsp;Ro&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;rw'&nbsp;:&nbsp;Chunk'(&nbsp;T,&nbsp;A_sc&nbsp;)&nbsp;-&gt;&nbsp;Chunk'(&nbsp;T,&nbsp;A_tc&nbsp;);</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Operations&nbsp;on&nbsp;(mostly)&nbsp;pointers:</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;ptr:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Going&nbsp;from&nbsp;chunk&nbsp;to&nbsp;pointer&nbsp;and&nbsp;vice&nbsp;versa,&nbsp;like&nbsp;C&nbsp;&amp;val&nbsp;and&nbsp;*ptr:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enref:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deref:&nbsp;Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;)&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Alternate&nbsp;"lightweight"&nbsp;versions&nbsp;(no&nbsp;implicit&nbsp;run-time&nbsp;type&nbsp;info):</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enref'&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;T,&nbsp;C&nbsp;)&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr'(&nbsp;Chunk&nbsp;(&nbsp;T,&nbsp;C&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deref'&nbsp;:&nbsp;Ptr'(&nbsp;Chunk&nbsp;(&nbsp;T,&nbsp;C&nbsp;)&nbsp;)&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;T,&nbsp;C&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Comparing&nbsp;pointers&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compare:&nbsp;&nbsp;(Ptr(&nbsp;O&nbsp;),&nbsp;Ptr(&nbsp;O&nbsp;))&nbsp;&nbsp;-&gt;&nbsp;&nbsp;Order;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compare'&nbsp;:&nbsp;(Ptr'(&nbsp;O&nbsp;),&nbsp;Ptr'(&nbsp;O&nbsp;))&nbsp;&nbsp;-&gt;&nbsp;&nbsp;Order;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Going&nbsp;from&nbsp;pointer&nbsp;to&nbsp;void*;&nbsp;&nbsp;this&nbsp;also&nbsp;accounts&nbsp;for&nbsp;a&nbsp;conceptual</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;subtyping&nbsp;relation&nbsp;and&nbsp;is&nbsp;safe</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inject:&nbsp;&nbsp;Ptr(&nbsp;O&nbsp;)&nbsp;-&gt;&nbsp;Voidptr;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inject'&nbsp;:&nbsp;Ptr'(&nbsp;O&nbsp;)&nbsp;-&gt;&nbsp;Voidptr;</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;The&nbsp;opposite&nbsp;is&nbsp;not&nbsp;safe,&nbsp;but&nbsp;C&nbsp;makes&nbsp;it</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;not&nbsp;only&nbsp;easy&nbsp;but&nbsp;also&nbsp;almost&nbsp;necessary.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;We&nbsp;use&nbsp;our&nbsp;RTTI&nbsp;interface&nbsp;to&nbsp;specify</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;the&nbsp;pointer&nbsp;type&nbsp;(not&nbsp;the&nbsp;element&nbsp;type!)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cast:&nbsp;&nbsp;t::Type(&nbsp;Ptr(&nbsp;O&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;Voidptr&nbsp;-&gt;&nbsp;Ptr(&nbsp;O&nbsp;);</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt,&nbsp;needs&nbsp;explicit&nbsp;type&nbsp;constraint&nbsp;on&nbsp;result!&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cast'&nbsp;:&nbsp;Voidptr&nbsp;-&gt;&nbsp;Ptr'(&nbsp;O&nbsp;);</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;NULL&nbsp;as&nbsp;void*&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_null:&nbsp;&nbsp;Voidptr;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Projecting&nbsp;v_null&nbsp;to&nbsp;given&nbsp;pointer&nbsp;type:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;null:&nbsp;&nbsp;t::Type(&nbsp;Ptr(&nbsp;O&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;Ptr(&nbsp;O&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;The&nbsp;"light"&nbsp;NULL&nbsp;pointer&nbsp;is&nbsp;simply&nbsp;a&nbsp;typeagnostic&nbsp;constant&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;null'&nbsp;:&nbsp;Ptr'(&nbsp;O&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;fptr&nbsp;version&nbsp;of&nbsp;NULL&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fnull:&nbsp;&nbsp;t::Type(&nbsp;Fptr(&nbsp;F&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;Fptr(&nbsp;F&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Again,&nbsp;"light"&nbsp;version&nbsp;is&nbsp;simply&nbsp;a&nbsp;typeagnostic&nbsp;constant&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fnull'&nbsp;:&nbsp;Fptr'(&nbsp;F&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Checking&nbsp;for&nbsp;NULL&nbsp;pointer&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_is_null:&nbsp;&nbsp;Voidptr&nbsp;-&gt;&nbsp;Bool;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Combining&nbsp;inject&nbsp;and&nbsp;v_is_null&nbsp;for&nbsp;convenience:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_null:&nbsp;&nbsp;Ptr(&nbsp;O&nbsp;)&nbsp;-&gt;&nbsp;Bool;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_null'&nbsp;:&nbsp;Ptr'(&nbsp;O&nbsp;)&nbsp;-&gt;&nbsp;Bool;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Checking&nbsp;a&nbsp;function&nbsp;pointer&nbsp;for&nbsp;NULL&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_fnull:&nbsp;&nbsp;Fptr(&nbsp;F&nbsp;)&nbsp;-&gt;&nbsp;Bool;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_fnull'&nbsp;:&nbsp;Fptr'(&nbsp;F&nbsp;)&nbsp;-&gt;&nbsp;Bool;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;pointer&nbsp;arithmetic&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plus:&nbsp;(Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;),&nbsp;Int)&nbsp;-&gt;&nbsp;Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;diff:&nbsp;(Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;),&nbsp;Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;))&nbsp;-&gt;&nbsp;Int;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt;&nbsp;needs&nbsp;explicit&nbsp;size&nbsp;(for&nbsp;element)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plus'&nbsp;:&nbsp;s::Size(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;(Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;),&nbsp;Int)&nbsp;-&gt;&nbsp;Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;diff'&nbsp;:&nbsp;s::Size(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;(Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;),&nbsp;Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;))&nbsp;-&gt;&nbsp;Int;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Subscript&nbsp;through&nbsp;a&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is&nbsp;unchecked:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub:&nbsp;&nbsp;(Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;),&nbsp;Int)&nbsp;-&gt;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt;&nbsp;needs&nbsp;explicit&nbsp;size&nbsp;(for&nbsp;element)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub'&nbsp;:&nbsp;s::Size(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;(Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;),&nbsp;Int)&nbsp;-&gt;&nbsp;Chunk'(&nbsp;T,&nbsp;C&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Conversions&nbsp;that&nbsp;rely&nbsp;on&nbsp;witnesses&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;convert:&nbsp;&nbsp;&nbsp;w::Witness&nbsp;(Ptr(&nbsp;Chunk(&nbsp;A_st,&nbsp;A_sc&nbsp;)&nbsp;),&nbsp;Ptr(&nbsp;Chunk(&nbsp;A_tt,&nbsp;A_tc&nbsp;)&nbsp;))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ptr(&nbsp;Chunk(&nbsp;A_st,&nbsp;A_sc&nbsp;)&nbsp;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ptr(&nbsp;Chunk(&nbsp;A_tt,&nbsp;A_tc&nbsp;)&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;convert'&nbsp;:&nbsp;w::Witness&nbsp;(Ptr(&nbsp;Chunk(&nbsp;A_st,&nbsp;A_sc&nbsp;)&nbsp;),&nbsp;Ptr(&nbsp;Chunk(&nbsp;A_tt,&nbsp;A_tc&nbsp;)&nbsp;))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ptr'(&nbsp;Chunk(&nbsp;A_st,&nbsp;A_sc&nbsp;)&nbsp;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ptr'(&nbsp;Chunk(&nbsp;A_tt,&nbsp;A_tc&nbsp;)&nbsp;);</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Constness&nbsp;manipulation&nbsp;for&nbsp;pointers.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Note:&nbsp;fun&nbsp;ro&nbsp;x&nbsp;=&nbsp;convert&nbsp;(w::pointer&nbsp;(w::ro&nbsp;w::trivial))&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;etc.</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ro:&nbsp;&nbsp;Ptr&nbsp;(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr&nbsp;(&nbsp;Chunk(&nbsp;T,&nbsp;Ro&nbsp;&nbsp;&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rw:&nbsp;&nbsp;Ptr&nbsp;(&nbsp;Chunk(&nbsp;T,&nbsp;A_sc&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr&nbsp;(&nbsp;Chunk(&nbsp;T,&nbsp;A_tc&nbsp;)&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ro':&nbsp;Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;Ro&nbsp;&nbsp;&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rw':&nbsp;Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;A_sc&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;A_tc&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Operations&nbsp;on&nbsp;(mostly)&nbsp;arrays&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;arr:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Array&nbsp;subscript.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Since&nbsp;we&nbsp;have&nbsp;RTTI,&nbsp;we&nbsp;can&nbsp;actually&nbsp;make&nbsp;this&nbsp;safe:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;We&nbsp;raise&nbsp;exceptions::INDEX_OUT_OF_BOUNDS&nbsp;for&nbsp;out-of-bounds&nbsp;access;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;for&nbsp;unchecked&nbsp;access,&nbsp;go&nbsp;through&nbsp;arr_decay&nbsp;and&nbsp;ptr_sub</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub:&nbsp;&nbsp;&nbsp;(Chunk(&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;),&nbsp;C),&nbsp;Int)&nbsp;-&gt;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt;&nbsp;needs&nbsp;element&nbsp;size&nbsp;and&nbsp;rw_vector&nbsp;dimension&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub'&nbsp;:&nbsp;(s::Size(&nbsp;T&nbsp;),&nbsp;dim::Dim(&nbsp;N&nbsp;))&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Chunk'(&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;),&nbsp;C),&nbsp;Int)&nbsp;-&gt;&nbsp;Chunk'(&nbsp;T,&nbsp;C&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Let&nbsp;a&nbsp;rw_vector&nbsp;chunk&nbsp;decay,&nbsp;yielding&nbsp;pointer&nbsp;to&nbsp;first&nbsp;element:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decay:&nbsp;&nbsp;&nbsp;Chunk&nbsp;(&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;),&nbsp;C)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr&nbsp;(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decay':&nbsp;&nbsp;Chunk'(&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;),&nbsp;C)&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Reconstruct&nbsp;an&nbsp;rw_vector&nbsp;chunk&nbsp;from&nbsp;the&nbsp;pointer&nbsp;to&nbsp;its&nbsp;first&nbsp;element&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reconstruct&nbsp;:&nbsp;(Ptr&nbsp;(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;),&nbsp;dim::Dim(&nbsp;N&nbsp;))&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Chunk&nbsp;(&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;),&nbsp;C);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reconstruct':&nbsp;(Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;),&nbsp;dim::Dim(&nbsp;N&nbsp;))&nbsp;-&gt;&nbsp;&nbsp;&nbsp;Chunk'(&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;),&nbsp;C);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Dimension&nbsp;of&nbsp;rw_vector&nbsp;chunk&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dim:&nbsp;&nbsp;&nbsp;Chunk(&nbsp;Arr(&nbsp;T,&nbsp;N&nbsp;),&nbsp;C)&nbsp;-&gt;&nbsp;dim::Dim(&nbsp;N&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Allocating&nbsp;new&nbsp;chunks&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;new:&nbsp;&nbsp;t::Type(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;new'&nbsp;:&nbsp;s::Size(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;Chunk'(&nbsp;T,&nbsp;C&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;freeing&nbsp;chunks&nbsp;that&nbsp;were&nbsp;allocated&nbsp;earlier&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;discard:&nbsp;&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;discard'&nbsp;:&nbsp;Chunk'(&nbsp;T,&nbsp;C&nbsp;)&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Allocating&nbsp;a&nbsp;dynamically-sized&nbsp;rw_vector&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;allot:&nbsp;&nbsp;t::Type(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;Unt&nbsp;-&gt;&nbsp;Ptr(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;allot'&nbsp;:&nbsp;s::Size(&nbsp;T&nbsp;)&nbsp;-&gt;&nbsp;Unt&nbsp;-&gt;&nbsp;Ptr'(&nbsp;Chunk(&nbsp;T,&nbsp;C&nbsp;)&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Freeing&nbsp;through&nbsp;pointers:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;free:&nbsp;&nbsp;Ptr(&nbsp;O&nbsp;)&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Alt&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;free'&nbsp;:&nbsp;Ptr'(&nbsp;O&nbsp;)&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Perform&nbsp;a&nbsp;function&nbsp;call&nbsp;through&nbsp;a&nbsp;function-pointer:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;call:&nbsp;&nbsp;(Fptr(&nbsp;X&nbsp;-&gt;&nbsp;Y&nbsp;),&nbsp;X)&nbsp;-&gt;&nbsp;Y;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Alt:&nbsp;&nbsp;Needs&nbsp;explicit&nbsp;type&nbsp;for&nbsp;the&nbsp;function&nbsp;pointer:&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;call'&nbsp;:&nbsp;t::Type(&nbsp;Fptr(&nbsp;X&nbsp;-&gt;&nbsp;Y&nbsp;)&nbsp;)&nbsp;-&gt;&nbsp;(Fptr'(&nbsp;X&nbsp;-&gt;&nbsp;Y&nbsp;),&nbsp;X)&nbsp;-&gt;&nbsp;Y;</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Completely&nbsp;unsafe&nbsp;stuff,&nbsp;but&nbsp;common&nbsp;in&nbsp;C&nbsp;code:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;u:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fcast:&nbsp;&nbsp;Fptr'(X)&nbsp;-&gt;&nbsp;Fptr'(Y);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p2i:&nbsp;&nbsp;&nbsp;&nbsp;Ptr'&nbsp;(&nbsp;O&nbsp;)&nbsp;-&gt;&nbsp;Ulong;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i2p:&nbsp;&nbsp;&nbsp;&nbsp;Ulong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Ptr'(&nbsp;O&nbsp;);</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR>
<CODE>};</CODE><BR>
</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-src_lib_c-glue-lib_c-debug_api.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Codebase__api_Files.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-src_lib_c-glue-lib_internals_ckit-internal_api.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
