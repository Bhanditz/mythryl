<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Io_Wait_Hostthread</TITLE>
</HEAD>
<BODY >
<A HREF="my-Io_Startup_And_Shutdown__Premicrothread.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Less_Frequently_Used_APIs.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Issue_Unique_Id.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc768">14.4.38</A>  Io_Wait_Hostthread</H3><P>						<A NAME="@api101"></A>
<A NAME="api:Io_Wait_Hostthread"></A>

The standard library <TT>Io_Wait_Hostthread</TT> api defines the interface for a dedicated 
hostthread which 
essentially sits in a loop doing C select() on the currently interesting set of file descriptors, 
pipe descriptors and socket descriptors. The primary purpose is to offload blocking I/O from 
the main <A HREF="my-threadkit.html#pkg:threadkit">threadkit</A> hostthread, allowing it to run full speed. (A secondary purpose is to generate a timeslicing clock for threadkit via the select() timeout.) </P><P>The <TT>Io_Wait_Hostthread</TT> api is implemented by the <A HREF="my-io_wait_hostthread.html#pkg:io_wait_hostthread">io_wait_hostthread</A> package.</P><P>The <TT>Io_Wait_Hostthread</TT> api source code is in <A HREF="my-src_lib_std_src_hostthread_io-wait-hostthread_api.html#src/lib/std/src/hostthread/io-wait-hostthread.api">src/lib/std/src/hostthread/io-wait-hostthread.api</A>.
<FONT SIZE=1><I>The above information is manually maintained and may contain errors.</I></FONT>
</P><PRE CLASS="verbatim">api {
    is_running : Void -&gt; Bool;
    start_server_hostthread_if_not_running : String -&gt; Void;
    Do_Stop  = {per_who:String, reply:Void -&gt; Void};
    stop_server_hostthread_if_running : Do_Stop -&gt; Void;
    Do_Echo  = {reply:String -&gt; Void, what:String};
    echo : Do_Echo -&gt; Void;
    Do_Note_Iod_Reader  = {io_descriptor:Int, read_fn:Int -&gt; Void};
    note_iod_reader : Do_Note_Iod_Reader -&gt; Void;
    drop_iod_reader : Int -&gt; Void;
    Do_Note_Iod_Writer  = {io_descriptor:Int, write_fn:Int -&gt; Void};
    note_iod_writer : Do_Note_Iod_Writer -&gt; Void;
    drop_iod_writer : Int -&gt; Void;
    Do_Note_Iod_Oobder  = {io_descriptor:Int, oobd_fn:Int -&gt; Void};
    note_iod_oobder : Do_Note_Iod_Oobder -&gt; Void;
    drop_iod_oobder : Int -&gt; Void;
    get_timeout_interval : Void -&gt; time::Time;
    set_timeout_interval : time::Time -&gt; Void;
    is_doing_useful_work : Void -&gt; Bool;};
</PRE><P><A NAME="@fun3060"></A>
<A NAME="@fun3061"></A>
<A NAME="@fun3062"></A>
<A NAME="@fun3063"></A>
<A NAME="@fun3064"></A>
<A NAME="@fun3065"></A>
<A NAME="@fun3066"></A>
<A NAME="@fun3067"></A>
<A NAME="@fun3068"></A>
<A NAME="@fun3069"></A>
<A NAME="@fun3070"></A>
<A NAME="@fun3071"></A>
<A NAME="@fun3072"></A>

</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Io_Startup_And_Shutdown__Premicrothread.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Less_Frequently_Used_APIs.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Issue_Unique_Id.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
