<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Red-Black Trees: String Keys</TITLE>
</HEAD>
<BODY >
<A HREF="my-Red-Black_Trees.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Balanced_Binary_Trees.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Red-Black_Trees__Int_Keys.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H4 CLASS="subsubsection">Red-Black Trees: String Keys</H4><P>One frequently used tree variant is <TT>string_map</TT>, which may be used to 
maps strings to any sort of value desired, although in any single tree all 
values must be of the same type.</P><P>The typical pattern of usage is to create an empty tree, enter key-value pairs into 
it, and then retrieve the values by key. Here is a simple script doing that with 
pairs where both key and value are strings.</P><P>Notice that when we create the empty 
map, we declare what type of value we intend to store in it. This is not 
always necessary, but it is a good habit; It helps both the compiler and 
the human reader.</P><P>Notice Also that since 
<TT>string_map::get</TT> returns either <TT>NULL</TT> or else <TT>THE value</TT> we use the 
<TT>the</TT> function to drop the unwanted <TT>THE</TT> from its return value:</P><PRE CLASS="verbatim">    #!/usr/bin/mythryl

    m = (string_map::empty: string_map::Map( String ));

    m = string_map::set (m, "Key1", "Value1");
    m = string_map::set (m, "Key2", "Value2");
    m = string_map::set (m, "Key3", "Value3");

    printf "%s -&gt; %s\n"  "Key1"  (the (string_map::get (m, "Key1")) );
    printf "%s -&gt; %s\n"  "Key2"  (the (string_map::get (m, "Key2")) );
    printf "%s -&gt; %s\n"  "Key3"  (the (string_map::get (m, "Key3")) );
</PRE><P>When run this yields just what you expect:</P><PRE CLASS="verbatim">    linux$ ./my-script
    Key1 -&gt; Value1
    Key2 -&gt; Value2
    Key3 -&gt; Value3
</PRE><P>Just to demonstrate the parametric polymorphism of the <TT>string_map</TT> tree 
in its values, here is the above example rewritten to use <TT>Int</TT> values:</P><PRE CLASS="verbatim">    #!/usr/bin/mythryl

    m = (string_map::empty: string_map::Map( Int ));

    m = string_map::set (m, "Key1", 111);
    m = string_map::set (m, "Key2", 222);
    m = string_map::set (m, "Key3", 333);

    printf "%s -&gt; %d\n"  "Key1"  (the (string_map::get (m, "Key1")) );
    printf "%s -&gt; %d\n"  "Key2"  (the (string_map::get (m, "Key2")) );
    printf "%s -&gt; %d\n"  "Key3"  (the (string_map::get (m, "Key3")) );
</PRE><P>Execution of the script is again unsurprising:</P><PRE CLASS="verbatim">    linux$ ./my-script
    Key1 -&gt; 111
    Key2 -&gt; 222
    Key3 -&gt; 333
</PRE><P>Here is the same script rewritten yet again, this time to use float values:</P><PRE CLASS="verbatim">    #!/usr/bin/mythryl

    m = (string_map::empty: string_map::Map( Float ));

    m = string_map::set (m, "Key1", 0.111);
    m = string_map::set (m, "Key2", 0.222);
    m = string_map::set (m, "Key3", 0.333);

    printf "%s -&gt; %f\n"  "Key1"  (the (string_map::get (m, "Key1")) );
    printf "%s -&gt; %f\n"  "Key2"  (the (string_map::get (m, "Key2")) );
    printf "%s -&gt; %f\n"  "Key3"  (the (string_map::get (m, "Key3")) );
</PRE><P>Execution of this script version will not surprise you either:</P><PRE CLASS="verbatim">    linux$ ./my-script
    Key1 -&gt; 0.111000
    Key2 -&gt; 0.222000
    Key3 -&gt; 0.333000
</PRE>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Red-Black_Trees.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Balanced_Binary_Trees.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Red-Black_Trees__Int_Keys.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
