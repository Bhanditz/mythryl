
The standard library {\tt int\_binary\_set} package implements sets of 
{\tt Int}s. This is a pure (side-effect free) datastructure.  

The implementation is based on Binary search trees of Bounded 
Balance, similar to Nievergelt & Reingold, SIAM J. Computing 
2 (1), March 1973.  The main advantage of these trees is that 
they keep the size of the tree in the node, giving a constant 
time size operation.

The bounded balance criterion is simpler than N&R's alpha. 
Simply, one subtree must not have more than `weight' times as 
many elements as the opposite subtree.  Rebalancing is 
guaranteed to reinstate the criterion for weight>2.23, but 
the occasional incorrect behaviour for weight=2 is not 
detrimental to performance.

There are two implementations of union.  The default, 
hedge\_union, is much more complex and usually 20% faster.  I 
am not sure that the performance increase warrants the 
complexity (and time it took to write), but I am leaving it 
in for the competition.  It is derived from the original 
union by replacing the split\_lt (gt) operations with a lazy 
version. The `obvious' version is called old\_union.

Most time is spent in rebalance, the rebalancing constructor.

The {\tt int\_binary\_set} package implements the \ahrefloc{api:Set}{Set} API.

The {\tt int\_binary\_set} package source code is in \ahrefloc{src/lib/src/int-binary-set.pkg}{src/lib/src/int-binary-set.pkg}.

See also:  \ahrefloc{pkg:int\_red\_black\_set}{int\_red\_black\_set}.

See also:  \ahrefloc{pkg:int\_list\_set}{int\_list\_set}.

See also:  \ahrefloc{pkg:int\_binary\_map}{int\_binary\_map}.


