<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Type Constraint Expressions</TITLE>
</HEAD>
<BODY >
<A HREF="my-Type_Variables.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Types.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-The_Value_Restriction.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc283">10.10.11</A>  Type Constraint Expressions</H3><P>
<A NAME="section:ref:types:type-constraint-expressions"></A></P><P>The type constraint expression is used to declare (or restrict) the type of some expression. 
It takes the form</P><BLOCKQUOTE CLASS="quotation">
    <I>expression</I>: <I>type</I>
</BLOCKQUOTE><P>Typically such an expression gets wrapped in parentheses to make sure 
the lexical scope is as intended, but this is not required.</P><P>One typical use is to declare the argument types for a function.</P><P>For example the function</P><PRE CLASS="verbatim">    fun add (x, y) = x + y;
</PRE><P>will default to doing integer addition, because there is no 
information available at compiletime from which to infer the 
types of the arguments, and integer is the default in such 
cases.</P><P>This can be overridden by writing</P><PRE CLASS="verbatim">    fun add (x: Float, y: Float) = x + y;
</PRE><P>to force floating point addition, or</P><PRE CLASS="verbatim">    fun add (x: String, y: String) = x + y;
</PRE><P>to force string concatenation.</P><P>Such declarations can also be just good documentation in cases 
where it may be unclear what type is involved or intended.</P><P>A type constraint expression is legal anywhere an expression is 
legal. For example we might instead have written</P><PRE CLASS="verbatim">    fun add (x, y) = (x: Float) + (y: Float);
</PRE><P>or</P><PRE CLASS="verbatim">    fun add (x, y) = (x: String) + (y: String);
</PRE><P>One situation in which an explicit type declaration is frequently 
necessary is when setting a variable to an empty list:</P><PRE CLASS="verbatim">    empty = [];
</PRE><P>Here the compiler has no way of knowing whether you have in mind 
a list of ints, floats, strings, or Library of Congresses. It will 
probably guess wrong, resulting in odd error messages when you 
later use the variable. Consequently, you will usualy instead write 
something like</P><PRE CLASS="verbatim">    empty  =  []: List(String);
</PRE>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Type_Variables.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Types.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-The_Value_Restriction.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
