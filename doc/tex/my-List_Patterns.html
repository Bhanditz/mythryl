<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>List Patterns</TITLE>
</HEAD>
<BODY >
<A HREF="my-Record_Patterns.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Case_Expressions_and_Pattern-Matching.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Pattern-Match_Statement.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc262">10.8.6</A>  List Patterns</H3><P>
<A NAME="section:ref:case-expressions-and-pattern-matching:list-patterns"></A></P><P>List patterns are written using syntax 
essentially identical to those of list expressions. Lists 
may be matched in their entirety using notation 
like <TT>[ a, b, c ]</TT>:</P><PRE CLASS="verbatim">    linux$ cat my-script
    #!/usr/bin/mythryl

    r = [ 1, 2, 3 ];    # List expression.

    case r
        [ a, b, c ] =&gt; printf "Three-element list summing to %d.\n" (a+b+c);
        [ a, b ]    =&gt; printf "Two-element list summing to %d.\n" (a+b);
        [ a ]       =&gt; printf "One-element list summing to %d.\n" a;
        []          =&gt; printf "Zero-element list summing to 0.\n";
        _           =&gt; printf "Unsupported list length.\n";
    esac;

    linux$ ./my-script
    Three-element list summing to 6.
</PRE><P>More typically, lists are pattern-matched into head-tail pairs 
<TT>head ! tail</TT> and processed recursively:</P><PRE CLASS="verbatim">    linux$ cat my-script
    #!/usr/bin/mythryl

    r = [ 1, 2, 3 ];

    fun sum_list ([],       sum) =&gt; sum;
        sum_list (i ! rest, sum) =&gt; sum_list (rest, sum + i);
    end;

    printf "%d-element list summing to %d.\n" (list::length r) (sum_list (r, 0));

    linux$ ./my-script
    3-element list summing to 6.
</PRE><P>List patterns and other patterns may be nested arbitrarily:</P><PRE CLASS="verbatim">    linux$ cat my-script
    #!/usr/bin/mythryl

    r = [ (1,2), (3,4), (5,6) ];

    fun sum_list ([],          sum) =&gt; sum;
        sum_list (pair ! rest, sum) =&gt; sum_list (rest, sum + (+)pair);
    end;

    printf "%d-pair list summing to %d.\n" (list::length r) (sum_list (r, 0));

    linux$ ./my-script
    3-pair list summing to 21.
</PRE>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Record_Patterns.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Case_Expressions_and_Pattern-Matching.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Pattern-Match_Statement.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
