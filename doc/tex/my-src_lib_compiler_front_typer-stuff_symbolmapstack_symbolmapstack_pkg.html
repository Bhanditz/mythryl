<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack.pkg</TITLE>
</HEAD>
<BODY >
<A HREF="my-src_lib_compiler_front_typer-stuff_symbolmapstack_symbolmapstack-entry_pkg.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Codebase__pkg_Files.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-src_lib_compiler_front_typer-stuff_symbolmapstack_unparse-compiler-state_pkg.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc2510">15.4.622</A>  src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack.pkg</H3><P>
<A NAME="src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack.pkg"></A>
<CODE>##&nbsp;symbolmapstack.pkg&nbsp;--&nbsp;&nbsp;Core&nbsp;frontend&nbsp;"symbol&nbsp;table"</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;See&nbsp;nomenclature&nbsp;comments&nbsp;in</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_symbolmapstack_symbolmapstack_api.html#src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack.api"><TT>src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack.api</TT></A><BR><CODE>#</CODE><BR>
<CODE>#&nbsp;In&nbsp;the&nbsp;early&nbsp;phases&nbsp;of&nbsp;the&nbsp;compiler&nbsp;we&nbsp;track</CODE><BR>
<CODE>#&nbsp;variables,&nbsp;functions,&nbsp;types&nbsp;etc&nbsp;by&nbsp;assigning</CODE><BR>
<CODE>#&nbsp;them&nbsp;symbols&nbsp;which&nbsp;we&nbsp;store&nbsp;in&nbsp;symbolmapstacks.</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These&nbsp;'symbols'&nbsp;correspond&nbsp;directly&nbsp;to&nbsp;user</CODE><BR>
<CODE>#&nbsp;identifiers&nbsp;appearing&nbsp;in&nbsp;the&nbsp;source&nbsp;code.&nbsp;&nbsp;See:</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_basics_map_symbol_pkg.html#src/lib/compiler/front/basics/map/symbol.pkg"><TT>src/lib/compiler/front/basics/map/symbol.pkg</TT></A><BR><CODE>#</CODE><BR>
<CODE>#&nbsp;In&nbsp;the&nbsp;later&nbsp;phases&nbsp;of&nbsp;the&nbsp;compiler,&nbsp;as&nbsp;we&nbsp;simplify</CODE><BR>
<CODE>#&nbsp;and&nbsp;abstract&nbsp;away&nbsp;from&nbsp;the&nbsp;sourcecode,&nbsp;we&nbsp;in&nbsp;essence</CODE><BR>
<CODE>#&nbsp;switch&nbsp;from&nbsp;*naming*&nbsp;things&nbsp;to&nbsp;*numbering*&nbsp;them.</CODE><BR>
<CODE>#&nbsp;Instead&nbsp;of&nbsp;looking&nbsp;up&nbsp;symbols&nbsp;in&nbsp;symbolmapstacks</CODE><BR>
<CODE>#&nbsp;we&nbsp;look&nbsp;up&nbsp;stamps&nbsp;in&nbsp;stampmapstacks,&nbsp;where&nbsp;'stamps'</CODE><BR>
<CODE>#&nbsp;are&nbsp;in&nbsp;essence&nbsp;small&nbsp;integers&nbsp;sequentially&nbsp;assigned</CODE><BR>
<CODE>#&nbsp;starting&nbsp;at&nbsp;zero&nbsp;whose&nbsp;only&nbsp;property&nbsp;of&nbsp;interest&nbsp;is</CODE><BR>
<CODE>#&nbsp;uniqueness&nbsp;--&nbsp;being&nbsp;unequal&nbsp;to&nbsp;all&nbsp;other&nbsp;stamps&nbsp;of</CODE><BR>
<CODE>#&nbsp;interest.&nbsp;&nbsp;See:</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_basics_stamp_pkg.html#src/lib/compiler/front/typer-stuff/basics/stamp.pkg"><TT>src/lib/compiler/front/typer-stuff/basics/stamp.pkg</TT></A><BR><CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_modules_stampmapstack_pkg.html#src/lib/compiler/front/typer-stuff/modules/stampmapstack.pkg"><TT>src/lib/compiler/front/typer-stuff/modules/stampmapstack.pkg</TT></A><BR><BR><CODE>#&nbsp;Compiled&nbsp;by:</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_typecheckdata_sublib.html#src/lib/compiler/front/typer-stuff/typecheckdata.sublib"><TT>src/lib/compiler/front/typer-stuff/typecheckdata.sublib</TT></A><BR><BR><BR><BR><CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OVERVIEW</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;The&nbsp;royal&nbsp;road&nbsp;to&nbsp;understanding&nbsp;the&nbsp;typical</CODE><BR>
<CODE>#&nbsp;large&nbsp;program&nbsp;is&nbsp;to&nbsp;study&nbsp;first&nbsp;its&nbsp;principal</CODE><BR>
<CODE>#&nbsp;datastructures.&nbsp;&nbsp;Their&nbsp;definition&nbsp;will&nbsp;be&nbsp;perhaps</CODE><BR>
<CODE>#&nbsp;one&nbsp;percent&nbsp;of&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;program&nbsp;as&nbsp;a&nbsp;whole,</CODE><BR>
<CODE>#&nbsp;and&nbsp;once&nbsp;understood,&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;program&nbsp;will</CODE><BR>
<CODE>#&nbsp;become&nbsp;reasonably&nbsp;intelligible.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;The&nbsp;heart&nbsp;and&nbsp;soul&nbsp;of&nbsp;the&nbsp;compiler&nbsp;frontend</CODE><BR>
<CODE>#&nbsp;is&nbsp;the&nbsp;symbol&nbsp;table,&nbsp;which&nbsp;records&nbsp;everything</CODE><BR>
<CODE>#&nbsp;the&nbsp;compiler&nbsp;knows&nbsp;about&nbsp;each&nbsp;user-defined</CODE><BR>
<CODE>#&nbsp;identifier.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;The&nbsp;compiler&nbsp;represents&nbsp;user-defined&nbsp;identifiers</CODE><BR>
<CODE>#&nbsp;using&nbsp;Symbols,&nbsp;defined&nbsp;essentially&nbsp;as&nbsp;a&nbsp;string</CODE><BR>
<CODE>#&nbsp;plus&nbsp;an&nbsp;integer&nbsp;hash&nbsp;of&nbsp;that&nbsp;string&nbsp;(for&nbsp;fast</CODE><BR>
<CODE>#&nbsp;hashtable&nbsp;lookups).&nbsp;&nbsp;For&nbsp;details,&nbsp;see</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_basics_map_symbol_pkg.html#src/lib/compiler/front/basics/map/symbol.pkg"><TT>src/lib/compiler/front/basics/map/symbol.pkg</TT></A><BR><CODE>#&nbsp;</CODE><BR>
<CODE>#&nbsp;Abstractly,&nbsp;the&nbsp;symbol&nbsp;table&nbsp;is&nbsp;just&nbsp;a&nbsp;mapping</CODE><BR>
<CODE>#&nbsp;from&nbsp;Symbols&nbsp;to&nbsp;values&nbsp;containing&nbsp;everything&nbsp;the</CODE><BR>
<CODE>#&nbsp;compiler&nbsp;frontend&nbsp;knows&nbsp;about&nbsp;that&nbsp;user-defined</CODE><BR>
<CODE>#&nbsp;symbol.</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#&nbsp;The&nbsp;compiler&nbsp;divides&nbsp;user-defined&nbsp;identifiers</CODE><BR>
<CODE>#&nbsp;into&nbsp;eight&nbsp;mutually&nbsp;exclusive&nbsp;namespaces:</CODE><BR>
<CODE>#&nbsp;A&nbsp;given&nbsp;identifier&nbsp;'x'&nbsp;can&nbsp;have&nbsp;separate</CODE><BR>
<CODE>#&nbsp;values&nbsp;in&nbsp;all&nbsp;eight&nbsp;namespaces.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;These&nbsp;eight&nbsp;namespaces&nbsp;are:</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;1)&nbsp;Named&nbsp;values,&nbsp;introduced&nbsp;by&nbsp;syntax&nbsp;such&nbsp;a</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my_val&nbsp;=&nbsp;1;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;Named&nbsp;functions&nbsp;introduced&nbsp;by&nbsp;syntax&nbsp;like</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;my_fun&nbsp;i&nbsp;=&nbsp;i&nbsp;+&nbsp;1;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;included&nbsp;in&nbsp;this&nbsp;namespace,&nbsp;because&nbsp;they</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;just&nbsp;syntactic&nbsp;sugar&nbsp;for&nbsp;core&nbsp;syntax&nbsp;like</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my_fun&nbsp;=&nbsp;&nbsp;&nbsp;\\&nbsp;i&nbsp;=&nbsp;i&nbsp;+&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;2)&nbsp;Named&nbsp;sumtype&nbsp;constructors&nbsp;such&nbsp;as&nbsp;LEAF&nbsp;and&nbsp;NODE,</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;introduced&nbsp;by&nbsp;syntax&nbsp;like</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My_Tree(X)&nbsp;=&nbsp;NODE&nbsp;(My_Tree,&nbsp;My_Tree)</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><CODE>|&nbsp;LEAF&nbsp;(X)</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;3)&nbsp;Named&nbsp;types,&nbsp;introduced&nbsp;by&nbsp;syntax&nbsp;like</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My_Type&nbsp;=&nbsp;Int;</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;4)&nbsp;Named&nbsp;apis,&nbsp;introduced&nbsp;by&nbsp;syntax&nbsp;like</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api&nbsp;An_Api&nbsp;{&nbsp;...&nbsp;};</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;5)&nbsp;Named&nbsp;packages,&nbsp;introduced&nbsp;by&nbsp;syntax&nbsp;like</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;my_package&nbsp;{&nbsp;...&nbsp;};</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;6)&nbsp;Named&nbsp;generics,&nbsp;introduced&nbsp;by&nbsp;syntax&nbsp;like</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic&nbsp;package&nbsp;my_package_g&nbsp;(...)&nbsp;{&nbsp;...&nbsp;};</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;7)&nbsp;Named&nbsp;generic&nbsp;apis.&nbsp;&nbsp;I'm&nbsp;a&nbsp;bit&nbsp;baffled&nbsp;by&nbsp;this</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one,&nbsp;since&nbsp;it&nbsp;seems&nbsp;that&nbsp;generic&nbsp;apis&nbsp;can</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only&nbsp;be&nbsp;introduced&nbsp;anonymously&nbsp;by&nbsp;syntax&nbsp;such&nbsp;as</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic&nbsp;package&nbsp;x(&nbsp;a:&nbsp;A&nbsp;):&nbsp;B&nbsp;{&nbsp;...&nbsp;}</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;the&nbsp;generic&nbsp;api&nbsp;A&nbsp;-&gt;&nbsp;B&nbsp;has</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no&nbsp;explicit&nbsp;'my_generic_api'&nbsp;name.</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;8)&nbsp;Named&nbsp;fixities,&nbsp;introduced&nbsp;by&nbsp;syntax&nbsp;like</CODE><BR>
<CODE>#&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;infixr&nbsp;my&nbsp;50&nbsp;&amp;&nbsp;;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;Each&nbsp;Symbol&nbsp;is&nbsp;tagged&nbsp;with&nbsp;the&nbsp;namespace&nbsp;to</CODE><BR>
<CODE>#&nbsp;which&nbsp;it&nbsp;belongs&nbsp;(via&nbsp;a&nbsp;bitfield&nbsp;tucked&nbsp;into</CODE><BR>
<CODE>#&nbsp;the&nbsp;hashcode).</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;The&nbsp;first&nbsp;thing&nbsp;the&nbsp;front&nbsp;end&nbsp;does&nbsp;when</CODE><BR>
<CODE>#&nbsp;encountering&nbsp;any&nbsp;user-defined&nbsp;identifier&nbsp;in</CODE><BR>
<CODE>#&nbsp;the&nbsp;source&nbsp;code&nbsp;is&nbsp;to&nbsp;assign&nbsp;it&nbsp;to&nbsp;one&nbsp;of</CODE><BR>
<CODE>#&nbsp;the&nbsp;above&nbsp;eight&nbsp;namespaces,&nbsp;and&nbsp;translate</CODE><BR>
<CODE>#&nbsp;it&nbsp;into&nbsp;an&nbsp;appropriate&nbsp;symbol.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;Consequently,&nbsp;identifiers&nbsp;in&nbsp;different</CODE><BR>
<CODE>#&nbsp;namespaces&nbsp;live&nbsp;entirely&nbsp;separate&nbsp;lives.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;The&nbsp;symbol&nbsp;table&nbsp;maps&nbsp;all&nbsp;identifiers&nbsp;in</CODE><BR>
<CODE>#&nbsp;a&nbsp;given&nbsp;namespace&nbsp;to&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;same&nbsp;type,</CODE><BR>
<CODE>#&nbsp;recording&nbsp;everything&nbsp;which&nbsp;is&nbsp;known&nbsp;about&nbsp;that</CODE><BR>
<CODE>#&nbsp;identifier.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;That&nbsp;value&nbsp;type&nbsp;is&nbsp;however&nbsp;different&nbsp;for</CODE><BR>
<CODE>#&nbsp;different&nbsp;namespaces:&nbsp;We&nbsp;need&nbsp;to&nbsp;remember</CODE><BR>
<CODE>#&nbsp;different&nbsp;information&nbsp;about&nbsp;a&nbsp;type&nbsp;name</CODE><BR>
<CODE>#&nbsp;than&nbsp;about&nbsp;a&nbsp;generic&nbsp;name,&nbsp;for&nbsp;example.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;The&nbsp;resulting&nbsp;eight&nbsp;different&nbsp;value&nbsp;types</CODE><BR>
<CODE>#&nbsp;are&nbsp;declared&nbsp;and&nbsp;defined&nbsp;(respectively)&nbsp;in</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_symbolmapstack_symbolmapstack-entry_api.html#src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack-entry.api"><TT>src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack-entry.api</TT></A><BR><CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_symbolmapstack_symbolmapstack-entry_pkg.html#src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack-entry.pkg"><TT>src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack-entry.pkg</TT></A><BR><CODE>#</CODE><BR>
<CODE>#&nbsp;with&nbsp;the&nbsp;detailed&nbsp;records&nbsp;declared&nbsp;and&nbsp;defined&nbsp;in</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_deep-syntax_variables-and-constructors_api.html#src/lib/compiler/front/typer-stuff/deep-syntax/variables-and-constructors.api"><TT>src/lib/compiler/front/typer-stuff/deep-syntax/variables-and-constructors.api</TT></A><BR><CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_deep-syntax_variables-and-constructors_pkg.html#src/lib/compiler/front/typer-stuff/deep-syntax/variables-and-constructors.pkg"><TT>src/lib/compiler/front/typer-stuff/deep-syntax/variables-and-constructors.pkg</TT></A><BR><CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_types_type-declaration-types_api.html#src/lib/compiler/front/typer-stuff/types/type-declaration-types.api"><TT>src/lib/compiler/front/typer-stuff/types/type-declaration-types.api</TT></A><BR><CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_types_type-declaration-types_pkg.html#src/lib/compiler/front/typer-stuff/types/type-declaration-types.pkg"><TT>src/lib/compiler/front/typer-stuff/types/type-declaration-types.pkg</TT></A><BR><CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_modules_module-level-declarations_api.html#src/lib/compiler/front/typer-stuff/modules/module-level-declarations.api"><TT>src/lib/compiler/front/typer-stuff/modules/module-level-declarations.api</TT></A><BR><CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_modules_module-level-declarations_pkg.html#src/lib/compiler/front/typer-stuff/modules/module-level-declarations.pkg"><TT>src/lib/compiler/front/typer-stuff/modules/module-level-declarations.pkg</TT></A><BR><CODE>#</CODE><BR>
<CODE>#&nbsp;Although&nbsp;conceptually&nbsp;we&nbsp;have&nbsp;eight&nbsp;separate&nbsp;symbol</CODE><BR>
<CODE>#&nbsp;tables,&nbsp;one&nbsp;per&nbsp;namespace,&nbsp;we&nbsp;actually&nbsp;implement&nbsp;them</CODE><BR>
<CODE>#&nbsp;all&nbsp;in&nbsp;one&nbsp;integrated&nbsp;package.&nbsp;&nbsp;Since&nbsp;the&nbsp;same</CODE><BR>
<CODE>#&nbsp;user&nbsp;identifier&nbsp;is&nbsp;given&nbsp;different&nbsp;Symbols&nbsp;in</CODE><BR>
<CODE>#&nbsp;different&nbsp;namespaces,&nbsp;no&nbsp;conflicts&nbsp;result.</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>#&nbsp;The&nbsp;key&nbsp;implementation&nbsp;component&nbsp;of&nbsp;the&nbsp;symbol</CODE><BR>
<CODE>#&nbsp;table&nbsp;is&nbsp;a&nbsp;hashtable&nbsp;mapping&nbsp;from&nbsp;symbols&nbsp;to</CODE><BR>
<CODE>#&nbsp;symbol&nbsp;table&nbsp;entries.</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>#&nbsp;These&nbsp;hashtables&nbsp;are&nbsp;implemented&nbsp;in</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_basics_symbol-hashtable-stack_api.html#src/lib/compiler/front/typer-stuff/basics/symbol-hashtable-stack.api"><TT>src/lib/compiler/front/typer-stuff/basics/symbol-hashtable-stack.api</TT></A><BR><CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_basics_symbol-hashtable-stack_pkg.html#src/lib/compiler/front/typer-stuff/basics/symbol-hashtable-stack.pkg"><TT>src/lib/compiler/front/typer-stuff/basics/symbol-hashtable-stack.pkg</TT></A><BR><CODE>#&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>#&nbsp;In&nbsp;general,&nbsp;we&nbsp;maintain&nbsp;a&nbsp;stack&nbsp;of&nbsp;these</CODE><BR>
<CODE>#&nbsp;hashtables,&nbsp;one&nbsp;per&nbsp;lexical&nbsp;scope,&nbsp;pushing</CODE><BR>
<CODE>#&nbsp;and&nbsp;popping&nbsp;the&nbsp;stack&nbsp;as&nbsp;we&nbsp;enter&nbsp;and&nbsp;leave</CODE><BR>
<CODE>#&nbsp;lexical&nbsp;scopes&nbsp;in&nbsp;the&nbsp;source&nbsp;code.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;This&nbsp;stacking&nbsp;is&nbsp;likewise&nbsp;implemented&nbsp;in</CODE><BR>
<CODE>#&nbsp;the&nbsp;above&nbsp;symbol-hashtable&nbsp;module.</CODE><BR><BR><BR>
<CODE>stipulate</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;lms&nbsp;=&nbsp;&nbsp;list_mergesort;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;list_mergesort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;from&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_src_list-mergesort_pkg.html#src/lib/src/list-mergesort.pkg"><TT>src/lib/src/list-mergesort.pkg</TT></A><BR><CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;mld&nbsp;=&nbsp;&nbsp;module_level_declarations;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;module_level_declarations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;from&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_modules_module-level-declarations_pkg.html#src/lib/compiler/front/typer-stuff/modules/module-level-declarations.pkg"><TT>src/lib/compiler/front/typer-stuff/modules/module-level-declarations.pkg</TT></A><BR><CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;shs&nbsp;=&nbsp;&nbsp;symbol_hashtable_stack;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;symbol_hashtable_stack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;from&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_basics_symbol-hashtable-stack_pkg.html#src/lib/compiler/front/typer-stuff/basics/symbol-hashtable-stack.pkg"><TT>src/lib/compiler/front/typer-stuff/basics/symbol-hashtable-stack.pkg</TT></A><BR><CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;sxe&nbsp;=&nbsp;&nbsp;symbolmapstack_entry;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;symbolmapstack_entry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;from&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_symbolmapstack_symbolmapstack-entry_pkg.html#src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack-entry.pkg"><TT>src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack-entry.pkg</TT></A><BR><CODE>herein&nbsp;</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;&nbsp;&nbsp;symbolmapstack</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;(weak)&nbsp;&nbsp;Symbolmapstack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Symbolmapstack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;from&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_compiler_front_typer-stuff_symbolmapstack_symbolmapstack_api.html#src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack.api"><TT>src/lib/compiler/front/typer-stuff/symbolmapstack/symbolmapstack.api</TT></A><BR><CODE>&nbsp;&nbsp;&nbsp;&nbsp;{</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Entry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;sxe::Symbolmapstack_Entry;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Full_Entry&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;{&nbsp;entry:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Entry,</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modtree:&nbsp;&nbsp;Null_Or(mld::Modtree)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Symbolmapstack</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shs::Symbol_Hashtable_Stack(&nbsp;Full_Entry&nbsp;);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exception&nbsp;UNBOUND&nbsp;=&nbsp;shs::UNBOUND;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;entry_to_full_entry&nbsp;entry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Convert&nbsp;a&nbsp;Entry&nbsp;-&gt;&nbsp;Full_Entry&nbsp;by&nbsp;adding&nbsp;a&nbsp;null&nbsp;modtree.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;entry,</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modtree&nbsp;=&gt;&nbsp;NULL</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;empty&nbsp;=&nbsp;shs::empty;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;get&nbsp;(symbolmapstack,&nbsp;symbol)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;full_entry&nbsp;=&nbsp;&nbsp;&nbsp;shs::get&nbsp;(symbolmapstack,&nbsp;symbol):&nbsp;&nbsp;&nbsp;Full_Entry;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_entry.entry;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bind_full_entry&nbsp;=&nbsp;&nbsp;shs::bind;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;bind&nbsp;(symbol,&nbsp;symbolmapstack_entry,&nbsp;symbolmapstack)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shs::bind&nbsp;(symbol,&nbsp;entry_to_full_entry&nbsp;symbolmapstack_entry,&nbsp;symbolmapstack);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;special&nbsp;(mkb,&nbsp;mks)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shs::special&nbsp;(entry_to_full_entry&nbsp;o&nbsp;mkb,&nbsp;mks);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;atop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;shs::atop;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consolidate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;shs::consolidate;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consolidate_lazy&nbsp;=&nbsp;&nbsp;shs::consolidate_lazy;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;apply&nbsp;user_fn&nbsp;&nbsp;symbolmapstack</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shs::apply</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\\&nbsp;(symbol,&nbsp;full_entry:&nbsp;Full_Entry)&nbsp;=&nbsp;&nbsp;user_fn&nbsp;(symbol,&nbsp;full_entry.entry))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;symbolmapstack;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;map&nbsp;&nbsp;user_fn&nbsp;&nbsp;symbolmapstack</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shs::map</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(entry_to_full_entry&nbsp;&nbsp;o&nbsp;&nbsp;user_fn&nbsp;&nbsp;o&nbsp;&nbsp;.entry)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;symbolmapstack;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;fold&nbsp;&nbsp;user_fn&nbsp;&nbsp;result_initializer&nbsp;&nbsp;symbolmapstack</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shs::fold</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\\&nbsp;((symbol,&nbsp;full_entry:&nbsp;Full_Entry),&nbsp;result)&nbsp;=&nbsp;&nbsp;&nbsp;user_fn&nbsp;&nbsp;((symbol,&nbsp;full_entry.entry),&nbsp;result))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result_initializer</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;symbolmapstack;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fold_full_entries&nbsp;=&nbsp;&nbsp;shs::fold;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;symbols&nbsp;&nbsp;=&nbsp;&nbsp;shs::symbols;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;sort:&nbsp;Sort&nbsp;the&nbsp;entries&nbsp;in&nbsp;a&nbsp;dictionary.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;is&nbsp;used&nbsp;for&nbsp;the&nbsp;assignment&nbsp;of&nbsp;dynamic&nbsp;access&nbsp;slots</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;during&nbsp;typechecking,&nbsp;for&nbsp;printing,&nbsp;and&nbsp;for&nbsp;other&nbsp;purposes.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;The&nbsp;entries&nbsp;are&nbsp;sorted&nbsp;in&nbsp;the&nbsp;following&nbsp;order:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;values</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;constructors</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;types</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;apis</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;packages</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;generic&nbsp;apis</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;generics</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;fixity&nbsp;declarations</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;It&nbsp;is&nbsp;only&nbsp;correct&nbsp;to&nbsp;sort&nbsp;dictionaries&nbsp;which&nbsp;have&nbsp;no&nbsp;duplicate&nbsp;entries.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;All&nbsp;routines&nbsp;which&nbsp;build&nbsp;package&nbsp;dictionaries&nbsp;maintain&nbsp;this</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;invariant,&nbsp;so&nbsp;it&nbsp;is&nbsp;ok&nbsp;to&nbsp;sort&nbsp;any&nbsp;package&nbsp;dictionary&nbsp;using</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;this&nbsp;function.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;to_sorted_list&nbsp;&nbsp;dictionary</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lms::sort_list&nbsp;&nbsp;sxe::greater_than&nbsp;(fold&nbsp;(!)&nbsp;NIL&nbsp;dictionary);</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;filter&nbsp;(symbolmapstack,&nbsp;symbols)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fold_forward&nbsp;add&nbsp;empty&nbsp;symbols</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;add&nbsp;(symbol,&nbsp;symbolmapstack')</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bind&nbsp;(symbol,&nbsp;get&nbsp;(symbolmapstack,&nbsp;symbol),&nbsp;symbolmapstack')</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNBOUND&nbsp;=&nbsp;&nbsp;symbolmapstack';</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;package&nbsp;symbolmapstack&nbsp;</CODE><BR>
<CODE>end;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;stipulate</CODE><BR><BR>
</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-src_lib_compiler_front_typer-stuff_symbolmapstack_symbolmapstack-entry_pkg.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Codebase__pkg_Files.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-src_lib_compiler_front_typer-stuff_symbolmapstack_unparse-compiler-state_pkg.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
