<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Unsafe</TITLE>
</HEAD>
<BODY >
<A HREF="my-Unsafe_Vector.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Less_Frequently_Used_APIs.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Wallclock_Timer.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc866">14.4.136</A>  Unsafe</H3><P>								<A NAME="@api199"></A>
<A NAME="api:Unsafe"></A>

The standard library <TT>Unsafe</TT> api defines access to various datastructures 
and functions which by-pass the usual compiler type-safeness guarantees. By 
using this api, you can write code just as flaky and core-dump prone as any 
C program! This functionality is occasionally used in truly time-critical code 
to avoid some runtime checks.</P><P>In general the best advice when tempted to use this module is &#X2014; don&#X2019;t!</P><P>The <TT>Unsafe</TT> api is implemented by the <A HREF="my-unsafe.html#pkg:unsafe">unsafe</A> package.</P><P>The <TT>Unsafe</TT> api source code is in <A HREF="my-src_lib_std_src_unsafe_unsafe_api.html#src/lib/std/src/unsafe/unsafe.api">src/lib/std/src/unsafe/unsafe.api</A>.</P><P><FONT SIZE=1><I>The above information is manually maintained and may contain errors.</I></FONT>
</P><PRE CLASS="verbatim">api {   package mythryl_callable_c_library_interface
          : api {
                exception CFUN_NOT_FOUND String;
                find_c_function : {fun_name:String, lib_name:String} -&gt; X -&gt; Y;
                    find_c_function' :
                        {fun_name:String, lib_name:String}
                        -&gt;
                        (Ref((X -&gt; Y) ) , (({fun_name:String, io_call:X -&gt; Y, lib_name:String} -&gt; X -&gt; Y) -&gt; Void));
                    find_c_function'' :
                        {fun_name:String, lib_name:String}
                        -&gt;
                        ((X -&gt; Y) , Ref((X -&gt; Y) ) , (({fun_name:String, io_call:X -&gt; Y, lib_name:String} -&gt; X -&gt; Y) -&gt; Void));
                    find_c_function''' :
                        {fun_name:String, lib_name:String}
                        -&gt;
                        (   (Y -&gt; X) , Ref((Y -&gt; X) ) , (({fun_name:String, io_call:Y -&gt; X, lib_name:String} -&gt; Y -&gt; X) -&gt; Void)
                            , (Y -&gt; Z) , Ref((Y -&gt; Z) ) ,
                            (({fun_name:String, io_call:Y -&gt; X, lib_name:String} -&gt; Y -&gt; Z) -&gt; Void)
                        );
                restore_redirected_syscalls_to_direct_form : Void -&gt; Void;
                System_Constant  = {id:Int, name:String};
                exception SYSTEM_CONSTANT_NOT_FOUND String;
                find_system_constant : (String , List(System_Constant )) -&gt; Null_Or(System_Constant );
                bind_system_constant : (String , List(System_Constant )) -&gt; System_Constant;};;
        package unsafe_chunk
          : api {
                Chunk;
                    Representation
                    = BYTE_RO_VECTOR
                    |
                    BYTE_RW_VECTOR
                    |
                    FLOAT64
                    |
                    FLOAT64_RW_VECTOR
                    |
                    LAZY_SUSPENSION
                    |
                    PAIR
                    |
                    RECORD
                    |
                    REF
                    |
                    TYPEAGNOSTIC_RO_VECTOR
                    |
                    TYPEAGNOSTIC_RW_VECTOR
                    |
                    UNBOXED
                    |
                    UNT1
                    |
                    WEAK_POINTER;
                to_chunk : X -&gt; Chunk;
                make_tuple : List(Chunk ) -&gt; Chunk;
                boxed : Chunk -&gt; Bool;
                unboxed : Chunk -&gt; Bool;
                rep : Chunk -&gt; Representation;
                length : Chunk -&gt; Int;
                exception REPRESENTATION;
                to_tuple : Chunk -&gt; List(Chunk );
                to_string : Chunk -&gt; String;
                to_ref : Chunk -&gt; Ref(Chunk );
                to_rw_vector : Chunk -&gt; Rw_Vector(Chunk );
                to_float64_rw_vector : Chunk -&gt; runtime::asm::Float64_Rw_Vector;
                to_byte_rw_vector : Chunk -&gt; runtime::asm::Unt8_Rw_Vector;
                to_vector : Chunk -&gt; ?.Vector(Chunk );
                to_byte_vector : Chunk -&gt; ?.vector_of_one_byte_unts::Vector;
                to_exn : Chunk -&gt; Exception;
                to_float : Chunk -&gt; Float;
                to_int : Chunk -&gt; Int;
                to_int1 : Chunk -&gt; one_word_int::Int;
                to_unt : Chunk -&gt; Unt;
                to_unt8 : Chunk -&gt; one_byte_unt::Unt;
                to_unt1 : Chunk -&gt; one_word_unt::Unt;
                nth : (Chunk , Int) -&gt; Chunk;};;
        package software_generated_periodic_events
          : api {
                exception BAD_SOFTWARE_GENERATED_PERIODIC_EVENT_INTERVAL;
                software_generated_periodic_events_switch_refcell__global : Ref(Bool );
                    set_software_generated_periodic_event_handler :
                    Null_Or((fate::Fate(Void ) -&gt; fate::Fate(Void )) ) -&gt; Void;
                    get_software_generated_periodic_event_handler :
                    Void -&gt; Null_Or((fate::Fate(Void ) -&gt; fate::Fate(Void )) );
                set_software_generated_periodic_event_interval : Null_Or(Int ) -&gt; Void;
                get_software_generated_periodic_event_interval : Void -&gt; Null_Or(Int );};;
        package vector
          : api {
                get : (?.Vector(X ) , Int) -&gt; X;
                make : (Int , List(X )) -&gt; ?.Vector(X );};;
        package rw_vector
          : api {
                get : (Rw_Vector(X ) , Int) -&gt; X;
                set : (Rw_Vector(X ) , Int , X) -&gt; Void;
                make : (Int , X) -&gt; Rw_Vector(X );};;
        package vector_of_chars
          : api {
                Vector  = Vector;
                Element  = Element;
                get : (Vector , Int) -&gt; Element;
                set : (Vector , Int , Element) -&gt; Void;
                make : Int -&gt; Vector;};;
        package rw_vector_of_chars
          : api {
                Rw_Vector  = Rw_Vector;
                Element  = Element;
                get : (Rw_Vector , Int) -&gt; Element;
                set : (Rw_Vector , Int , Element) -&gt; Void;
                make : Int -&gt; Rw_Vector;};;
        package vector_of_one_byte_unts
          : api {
                Vector  = Vector;
                Element  = Element;
                get : (Vector , Int) -&gt; Element;
                set : (Vector , Int , Element) -&gt; Void;
                make : Int -&gt; Vector;};;
        package rw_vector_of_one_byte_unts
          : api {
                Rw_Vector  = Rw_Vector;
                Element  = Element;
                get : (Rw_Vector , Int) -&gt; Element;
                set : (Rw_Vector , Int , Element) -&gt; Void;
                make : Int -&gt; Rw_Vector;};;
        package rw_vector_of_eight_byte_floats
          : api {
                Rw_Vector  = Rw_Vector;
                Element  = Element;
                get : (Rw_Vector , Int) -&gt; Element;
                set : (Rw_Vector , Int , Element) -&gt; Void;
                make : Int -&gt; Rw_Vector;};;
    get_handler : Void -&gt; fate::Fate(X );
    set_handler : fate::Fate(X ) -&gt; Void;
    get_current_microthread_register : Void -&gt; X;
    set_current_microthread_register : X -&gt; Void;
    get_pseudo : Int -&gt; X;
    set_pseudo : (X , Int) -&gt; Void;
    unpickle_datastructure : vector_of_one_byte_unts::Vector -&gt; X;
    pickle_datastructure : X -&gt; vector_of_one_byte_unts::Vector;
    boxed : X -&gt; Bool;
    cast : X -&gt; Y;
        package p
          : api {   Pervasive_Package_Pickle_List
                      = CONS (vector_of_one_byte_unts::Vector , unsafe_chunk::Chunk , Pervasive_Package_Pickle_List) | NIL;};;
    pervasive_package_pickle_list__global : Ref(p::Pervasive_Package_Pickle_List );
    sigint_fate : Ref(fate::Fate(Void ) );
        posix_interprocess_signal_handler_refcell__global :
        Ref(((Int , Int , fate::Fate(Void )) -&gt; fate::Fate(Void )) );};
</PRE><P><A NAME="@fun4959"></A>
<A NAME="@fun4960"></A>
<A NAME="@fun4961"></A>
<A NAME="@fun4962"></A>
<A NAME="@fun4963"></A>
<A NAME="@fun4964"></A>
<A NAME="@fun4965"></A>
<A NAME="@fun4966"></A>
<A NAME="@fun4967"></A>
<A NAME="@fun4968"></A>
<A NAME="@fun4969"></A>
<A NAME="@fun4970"></A>
<A NAME="@fun4971"></A>
<A NAME="@fun4972"></A>
<A NAME="@fun4973"></A>
<A NAME="@fun4974"></A>
<A NAME="@fun4975"></A>
<A NAME="@fun4976"></A>
<A NAME="@fun4977"></A>
<A NAME="@fun4978"></A>
<A NAME="@fun4979"></A>
<A NAME="@fun4980"></A>
<A NAME="@fun4981"></A>
<A NAME="@fun4982"></A>
<A NAME="@fun4983"></A>
<A NAME="@fun4984"></A>
<A NAME="@fun4985"></A>
<A NAME="@fun4986"></A>
<A NAME="@fun4987"></A>
<A NAME="@fun4988"></A>
<A NAME="@fun4989"></A>
<A NAME="@fun4990"></A>
<A NAME="@fun4991"></A>
<A NAME="@fun4992"></A>
<A NAME="@fun4993"></A>
<A NAME="@fun4994"></A>
<A NAME="@fun4995"></A>
<A NAME="@fun4996"></A>
<A NAME="@fun4997"></A>
<A NAME="@fun4998"></A>
<A NAME="@fun4999"></A>
<A NAME="@fun5000"></A>
<A NAME="@fun5001"></A>
<A NAME="@fun5002"></A>
<A NAME="@fun5003"></A>
<A NAME="@fun5004"></A>
<A NAME="@fun5005"></A>
<A NAME="@fun5006"></A>
<A NAME="@fun5007"></A>
<A NAME="@fun5008"></A>
<A NAME="@fun5009"></A>
<A NAME="@fun5010"></A>
<A NAME="@fun5011"></A>
<A NAME="@fun5012"></A>
<A NAME="@fun5013"></A>
<A NAME="@fun5014"></A>
<A NAME="@fun5015"></A>
<A NAME="@fun5016"></A>
<A NAME="@fun5017"></A>
<A NAME="@fun5018"></A>
<A NAME="@fun5019"></A>
<A NAME="@fun5020"></A>
<A NAME="@fun5021"></A>
<A NAME="@fun5022"></A>
<A NAME="@fun5023"></A>
<A NAME="@fun5024"></A>
<A NAME="@fun5025"></A>

</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Unsafe_Vector.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Less_Frequently_Used_APIs.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Wallclock_Timer.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
