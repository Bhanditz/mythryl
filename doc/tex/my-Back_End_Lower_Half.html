<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Back End Lower Half</TITLE>
</HEAD>
<BODY >
<A HREF="my-Back_End_Upper_Half.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Compiler_Internals.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-History.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc3592">16.1.5</A>  Back End Lower Half</H3><P>
<A NAME="section:compiler:backend-lowhalf"></A></P><P>The back end lower half originated in the 
<SPAN STYLE="font-variant:small-caps">NYU</SPAN> / Bell Labs <SPAN STYLE="font-variant:small-caps">MLRISC</SPAN> project [11].</P><P>A different lower half is generated for each supported 
architecture, using generics to share common code.</P><P>For clarity and simplicity, the following will discuss 
only the intel32 back end; The others are similar.</P><P>In a general sense, the root of the lower half is</P><BLOCKQUOTE CLASS="quote">
<A HREF="my-src_lib_compiler_back_low_main_intel32_backend-lowhalf-intel32-g_pkg.html#src/lib/compiler/back/low/main/intel32/backend-lowhalf-intel32-g.pkg">src/lib/compiler/back/low/main/intel32/backend-lowhalf-intel32-g.pkg</A></BLOCKQUOTE><P>This is a simple wrapper supplying platform-appropriate 
arguments to <TT>low_end_toplevel_loop_g</TT>, which is defined in</P><BLOCKQUOTE CLASS="quote">
<A HREF="my-src_lib_compiler_back_low_main_main_backend-lowhalf-g_pkg.html#src/lib/compiler/back/low/main/main/backend-lowhalf-g.pkg">src/lib/compiler/back/low/main/main/backend-lowhalf-g.pkg</A></BLOCKQUOTE><P>This contains the function <TT>compile</TT> which is the 
the toplevel driver for the backend, selecting 
which optimization phases to run and in what 
order per user options or else compiled-in defaults.</P><P>The lion&#X2019;s share of the detail work is delegated 
to <TT>translate_fate_passing_style_to_binary_g</TT>, which is defined in</P><BLOCKQUOTE CLASS="quote">
<A HREF="my-src_lib_compiler_back_low_main_main_translate-nextcode-to-treecode-g_pkg.html#src/lib/compiler/back/low/main/main/translate-nextcode-to-treecode-g.pkg">src/lib/compiler/back/low/main/main/translate-nextcode-to-treecode-g.pkg</A></BLOCKQUOTE><P>whose principal export is the function <TT>translate_fate_passing_style_to_binary</TT> 
which encapsulates the complete process of compiling 
FPS intermediate code all the way down to native machine 
code for the intel32 architecture. At runtime, this function 
gets called from <TT>translate_anormcode_to_binary</TT> in</P><BLOCKQUOTE CLASS="quote">
<A HREF="my-src_lib_compiler_back_top_main_backend-tophalf-g_pkg.html#src/lib/compiler/back/top/main/backend-tophalf-g.pkg">src/lib/compiler/back/top/main/backend-tophalf-g.pkg</A></BLOCKQUOTE><P>this constituting the runtime transition from the 
back end upper half to lower half.</P><P>The original and still primary code representation used 
in the back end is a simple register transfer level 
language defined in</P><BLOCKQUOTE CLASS="quote">
<A HREF="my-src_lib_compiler_back_low_treecode_treecode-form_api.html#src/lib/compiler/back/low/treecode/treecode-form.api">src/lib/compiler/back/low/treecode/treecode-form.api</A></BLOCKQUOTE><P>A (currently unused) high-level intermediate representation API is defined in </P><BLOCKQUOTE CLASS="quote">
<A HREF="my-src_lib_compiler_back_low_ir_lowhalf-ir_api.html#src/lib/compiler/back/low/ir/lowhalf-ir.api">src/lib/compiler/back/low/ir/lowhalf-ir.api</A></BLOCKQUOTE><P>A (also currently unused) control-flow graph representation is defined in: </P><BLOCKQUOTE CLASS="quote">
<A HREF="my-src_lib_compiler_back_low_ir_lowhalf-mcg_api.html#src/lib/compiler/back/low/ir/lowhalf-mcg.api">src/lib/compiler/back/low/ir/lowhalf-mcg.api</A></BLOCKQUOTE><P>Later an (again, currently unused) additional SSA ("Static Single Assignment") 
representation was added, defined in</P><BLOCKQUOTE CLASS="quote">
<A HREF="my-src_lib_compiler_back_low_static-single-assignment_ssa_api.html#src/lib/compiler/back/low/static-single-assignment/ssa.api">src/lib/compiler/back/low/static-single-assignment/ssa.api</A></BLOCKQUOTE><P>SSA optimizations have their own driver, implemented in</P><BLOCKQUOTE CLASS="quote">
<A HREF="my-src_lib_compiler_back_low_glue_lowhalf-ssa-improver-g_pkg.html#src/lib/compiler/back/low/glue/lowhalf-ssa-improver-g.pkg">src/lib/compiler/back/low/glue/lowhalf-ssa-improver-g.pkg</A></BLOCKQUOTE><P>which is currently nowhere invoked.</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Back_End_Upper_Half.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Compiler_Internals.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-History.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
