<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>src/lib/std/src/math64-none.pkg</TITLE>
</HEAD>
<BODY >
<A HREF="my-src_lib_std_src_math64-intel32_pkg.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Codebase__pkg_Files.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-src_lib_std_src_math64-sqrt_pkg.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc3010">15.4.1122</A>  src/lib/std/src/math64-none.pkg</H3><P>
<A NAME="src/lib/std/src/math64-none.pkg"></A>
<CODE>##&nbsp;math64.sml</CODE><BR>
<CODE>##&nbsp;*************************************************************************</CODE><BR>
<CODE>##&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</CODE><BR>
<CODE>##&nbsp;Copyright&nbsp;(c)&nbsp;1985&nbsp;Regents&nbsp;of&nbsp;the&nbsp;University&nbsp;of&nbsp;California.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</CODE><BR>
<CODE>##&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</CODE><BR>
<CODE>##&nbsp;Use&nbsp;and&nbsp;reproduction&nbsp;of&nbsp;this&nbsp;software&nbsp;are&nbsp;granted&nbsp;&nbsp;in&nbsp;&nbsp;accordance&nbsp;&nbsp;with&nbsp;*</CODE><BR>
<CODE>##&nbsp;the&nbsp;terms&nbsp;and&nbsp;conditions&nbsp;specified&nbsp;in&nbsp;&nbsp;the&nbsp;&nbsp;Berkeley&nbsp;&nbsp;Software&nbsp;&nbsp;License&nbsp;*</CODE><BR>
<CODE>##&nbsp;Agreement&nbsp;(in&nbsp;particular,&nbsp;this&nbsp;entails&nbsp;acknowledgement&nbsp;of&nbsp;the&nbsp;programs'&nbsp;*</CODE><BR>
<CODE>##&nbsp;source,&nbsp;and&nbsp;inclusion&nbsp;of&nbsp;this&nbsp;notice)&nbsp;with&nbsp;the&nbsp;additional&nbsp;understanding&nbsp;*</CODE><BR>
<CODE>##&nbsp;that&nbsp;&nbsp;all&nbsp;&nbsp;recipients&nbsp;&nbsp;should&nbsp;regard&nbsp;themselves&nbsp;as&nbsp;participants&nbsp;&nbsp;in&nbsp;&nbsp;an&nbsp;*</CODE><BR>
<CODE>##&nbsp;ongoing&nbsp;&nbsp;research&nbsp;&nbsp;project&nbsp;and&nbsp;hence&nbsp;should&nbsp;&nbsp;feel&nbsp;&nbsp;obligated&nbsp;&nbsp;to&nbsp;report&nbsp;*</CODE><BR>
<CODE>##&nbsp;their&nbsp;&nbsp;experiences&nbsp;(good&nbsp;or&nbsp;bad)&nbsp;with&nbsp;these&nbsp;elementary&nbsp;function&nbsp;&nbsp;codes,&nbsp;*</CODE><BR>
<CODE>##&nbsp;using&nbsp;"sendbug&nbsp;4bsd-bugs@BERKELEY",&nbsp;to&nbsp;the&nbsp;authors.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</CODE><BR>
<CODE>##&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</CODE><BR>
<CODE>##&nbsp;K.C.&nbsp;Ng,&nbsp;with&nbsp;Z-S.&nbsp;Alex&nbsp;Liu,&nbsp;S.&nbsp;McDonald,&nbsp;P.&nbsp;Tang,&nbsp;W.&nbsp;Kahan.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</CODE><BR>
<CODE>##&nbsp;Revised&nbsp;on&nbsp;5/10/85,&nbsp;5/13/85,&nbsp;6/14/85,&nbsp;8/20/85,&nbsp;8/27/85,&nbsp;9/11/85.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</CODE><BR>
<CODE>##&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</CODE><BR>
<CODE>##&nbsp;*************************************************************************</CODE><BR><BR>
<CODE>#&nbsp;The&nbsp;following&nbsp;functions&nbsp;were&nbsp;adapted&nbsp;from&nbsp;the&nbsp;4.3BSD&nbsp;math&nbsp;library.</CODE><BR>
<CODE>#&nbsp;Eventually,&nbsp;each&nbsp;machine&nbsp;supported&nbsp;should&nbsp;have&nbsp;a&nbsp;hand-coded&nbsp;math</CODE><BR>
<CODE>#&nbsp;generic&nbsp;with&nbsp;more&nbsp;efficient&nbsp;versions&nbsp;of&nbsp;these&nbsp;functions.</CODE><BR><BR><BR><BR>
<CODE>###&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Lisp&nbsp;...&nbsp;made&nbsp;me&nbsp;aware&nbsp;that&nbsp;software</CODE><BR>
<CODE>###&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;could&nbsp;be&nbsp;close&nbsp;to&nbsp;executable&nbsp;mathematics."</CODE><BR>
<CODE>###&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;L.&nbsp;Peter&nbsp;Deutsch</CODE><BR><BR><BR>
<CODE>package&nbsp;math64:&nbsp;&nbsp;Math&nbsp;{</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;real&nbsp;=&nbsp;real</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;infix&nbsp;50&nbsp;====&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;op&nbsp;+&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;inline_t::f64::(+)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;op&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;inline_t::f64::(-)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;op&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;inline_t::f64::(*)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;op&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;inline_t::f64::(/)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;op&nbsp;(-_)&nbsp;=&nbsp;inline_t::f64::(~)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;op&nbsp;&lt;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;inline_t::f64::(&lt;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;op&nbsp;&lt;=&nbsp;&nbsp;&nbsp;=&nbsp;inline_t::f64::(&lt;=)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;op&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;inline_t::f64::(&gt;)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;op&nbsp;&gt;=&nbsp;&nbsp;&nbsp;=&nbsp;inline_t::f64::(&gt;=)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;op&nbsp;====&nbsp;&nbsp;=&nbsp;inline_t::f64::(====)</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;package&nbsp;i&nbsp;=&nbsp;inline_t::DfltInt</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;lessu:&nbsp;&nbsp;Int&nbsp;*&nbsp;Int&nbsp;-&gt;&nbsp;Bool&nbsp;=&nbsp;i::ltu</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;pi&nbsp;=&nbsp;3.14159265358979323846</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;=&nbsp;2.7182818284590452354</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;isNan&nbsp;x&nbsp;=&nbsp;&nbsp;bool::not&nbsp;(x====x)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;plusInfinity&nbsp;=&nbsp;1E300&nbsp;*&nbsp;1E300</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;minusInfinity&nbsp;=&nbsp;-plusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;NaN&nbsp;=&nbsp;0.0&nbsp;/&nbsp;0.0</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;two_to_the_54&nbsp;=&nbsp;18014398509481984.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;two_to_the_minus_54&nbsp;=&nbsp;1.0&nbsp;/&nbsp;18014398509481984.0</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;function&nbsp;is&nbsp;IEEE&nbsp;double-precision&nbsp;specific.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;It&nbsp;works&nbsp;correctly&nbsp;on&nbsp;subnormal&nbsp;inputs&nbsp;and&nbsp;outputs;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;we&nbsp;do&nbsp;not&nbsp;apply&nbsp;it&nbsp;to&nbsp;inf's&nbsp;and&nbsp;nan's</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;scalb&nbsp;(x,&nbsp;k)&nbsp;=&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;j&nbsp;=&nbsp;assembly::a::logb&nbsp;x&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k'&nbsp;=&nbsp;I.+(k,&nbsp;j)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;if&nbsp;j&nbsp;==&nbsp;-1023</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;scalb&nbsp;(x*two_to_the_54,&nbsp;I.-(k,&nbsp;54))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;2</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;lessu&nbsp;(I.+(k',&nbsp;1022),&nbsp;2046)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;assembly::a::scalb&nbsp;(x,&nbsp;k)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;I.&lt;(k',&nbsp;0)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;I.&lt;(k',&nbsp;I.-(-1022,&nbsp;54))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;3</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;scalb&nbsp;(x,&nbsp;I.+(k,&nbsp;54))&nbsp;*&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;two_to_the_minus_54&nbsp;&nbsp;#&nbsp;4</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;x&nbsp;*&nbsp;plusInfinity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;5</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>&nbsp;/*&nbsp;Proof&nbsp;of&nbsp;correctness&nbsp;of&nbsp;scalb:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Appel)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;if&nbsp;x&nbsp;is&nbsp;normal&nbsp;and&nbsp;x*2^k&nbsp;is&nbsp;normal&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;case&nbsp;/*1*/&nbsp;applies,&nbsp;computes&nbsp;right&nbsp;answer</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;if&nbsp;x&nbsp;is&nbsp;subnormal&nbsp;and&nbsp;x*2^k&nbsp;is&nbsp;normal</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;case&nbsp;/*2*/&nbsp;reduces&nbsp;problem&nbsp;to&nbsp;case&nbsp;1.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;if&nbsp;x*2^k&nbsp;is&nbsp;sub-subnormal&nbsp;(i.e.&nbsp;0)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;case&nbsp;/*3*/&nbsp;applies,&nbsp;returns&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.&nbsp;if&nbsp;x*2^k&nbsp;is&nbsp;subnormal</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;-1076&nbsp;&lt;&nbsp;k'&nbsp;&lt;=&nbsp;-1023,&nbsp;case&nbsp;/*4*/&nbsp;applies,</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;computes&nbsp;right&nbsp;answer</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5.&nbsp;if&nbsp;x*2^k&nbsp;is&nbsp;supernormal&nbsp;(i.e.&nbsp;infinity)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;case&nbsp;/*5*/&nbsp;computes&nbsp;right&nbsp;answer</CODE><BR>
<CODE>*/</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;/*&nbsp;This&nbsp;function&nbsp;is&nbsp;IEEE&nbsp;double-precision&nbsp;specific;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;works&nbsp;correctly&nbsp;on&nbsp;subnormal&nbsp;inputs;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;must&nbsp;not&nbsp;be&nbsp;applied&nbsp;to&nbsp;inf's&nbsp;and&nbsp;nan's&nbsp;*/</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;logb&nbsp;(x)&nbsp;=&nbsp;(case&nbsp;assembly::a::logb&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;-1023&nbsp;=&gt;&nbsp;#&nbsp;&nbsp;Denormalized&nbsp;number&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I.-(assembly::a::logb&nbsp;(x*two_to_the_54),&nbsp;54)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><CODE>|&nbsp;i&nbsp;=&gt;&nbsp;i</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;end&nbsp;case</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;negone&nbsp;=&nbsp;-1.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;zero&nbsp;=&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;half&nbsp;=&nbsp;0.5</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;one&nbsp;=&nbsp;1.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;two&nbsp;=&nbsp;2.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;four&nbsp;=&nbsp;4.0</CODE><BR><BR>
<CODE>#&nbsp;*&nbsp;SHOULD&nbsp;BE&nbsp;INLINE&nbsp;OP&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XXX&nbsp;BUGGO&nbsp;FIXME</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;May&nbsp;be&nbsp;applied&nbsp;to&nbsp;inf's&nbsp;and&nbsp;nan's</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;GETS&nbsp;MINUS-ZERO&nbsp;WRONG!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XXX&nbsp;BUGGO&nbsp;FIXME</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;copysign&nbsp;(a,&nbsp;b)&nbsp;=&nbsp;(case&nbsp;(a&lt;zero,&nbsp;b&lt;zero)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;(TRUE,&nbsp;true)&nbsp;=&gt;&nbsp;a</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><CODE>|&nbsp;(FALSE,&nbsp;false)&nbsp;=&gt;&nbsp;a</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><CODE>|&nbsp;_&nbsp;=&gt;&nbsp;-a</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;end&nbsp;case</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;may&nbsp;be&nbsp;applied&nbsp;to&nbsp;inf's&nbsp;and&nbsp;nan's&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;abs&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;zero&nbsp;then&nbsp;-x&nbsp;else&nbsp;x</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;op&nbsp;mod&nbsp;(a,&nbsp;b)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I.-(a,&nbsp;I.*(i::div&nbsp;(a,&nbsp;b),&nbsp;b))</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;we&nbsp;will&nbsp;never&nbsp;call&nbsp;floor&nbsp;with&nbsp;an&nbsp;inf&nbsp;or&nbsp;nan&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;floor&nbsp;x&nbsp;=&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;1073741824.0&nbsp;and&nbsp;x&nbsp;&gt;=&nbsp;-1073741824.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;assembly::a::floor&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;isNan&nbsp;x&nbsp;then&nbsp;raise&nbsp;exception&nbsp;exceptions::DOMAIN</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;raise&nbsp;exception&nbsp;exceptions::OVERFLOW</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;real&nbsp;=&nbsp;inline_t::f64::from_tagged_int</CODE><BR><BR>
<CODE>&nbsp;&nbsp;#&nbsp;&nbsp;This&nbsp;is&nbsp;the&nbsp;IEEE&nbsp;double-precision&nbsp;maxint;&nbsp;won't&nbsp;work&nbsp;accurately&nbsp;on&nbsp;VAX&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;maxint&nbsp;=&nbsp;4503599627370496.0</CODE><BR><BR>
<CODE>&nbsp;&nbsp;/*&nbsp;realround&nbsp;(x)&nbsp;returns&nbsp;x&nbsp;rounded&nbsp;to&nbsp;some&nbsp;nearby&nbsp;integer,&nbsp;almost&nbsp;always</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;nearest&nbsp;integer.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;May&nbsp;be&nbsp;applied&nbsp;to&nbsp;inf's&nbsp;and&nbsp;nan's.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;*/</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;realround&nbsp;x&nbsp;=&nbsp;if&nbsp;x&gt;=0.0&nbsp;then&nbsp;x+maxint-maxint&nbsp;else&nbsp;x-maxint+maxint</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;###&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Sin&nbsp;is&nbsp;geographical."</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;###</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;###&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Bertrand&nbsp;Russell</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;#&nbsp;&nbsp;sin/cos&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;stipulate</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S0&nbsp;=&nbsp;-1.6666666666666463126E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S1&nbsp;=&nbsp;&nbsp;8.3333333332992771264E-3</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S2&nbsp;=&nbsp;-1.9841269816180999116E-4</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S3&nbsp;=&nbsp;&nbsp;2.7557309793219876880E-6</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S4&nbsp;=&nbsp;-2.5050225177523807003E-8</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S5&nbsp;=&nbsp;&nbsp;1.5868926979889205164E-10</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;herein</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;sin__S&nbsp;z&nbsp;=&nbsp;(z*(S0+z*(S1+z*(S2+z*(S3+z*(S4+z*S5))))))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;stipulate</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C0&nbsp;=&nbsp;&nbsp;4.1666666666666504759E-2</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C1&nbsp;=&nbsp;-1.3888888888865301516E-3</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C2&nbsp;=&nbsp;&nbsp;2.4801587269650015769E-5</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C3&nbsp;=&nbsp;-2.7557304623183959811E-7</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C4&nbsp;=&nbsp;&nbsp;2.0873958177697780076E-9</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C5&nbsp;=&nbsp;-1.1250289076471311557E-11</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;herein</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;cos__C&nbsp;z&nbsp;=&nbsp;(z*z*(C0+z*(C1+z*(C2+z*(C3+z*(C4+z*C5))))))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR><BR>
<CODE>PIo4&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;7.853981633974483096E-1</CODE><BR>
<CODE>PIo2&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;1.5707963267948966192E0</CODE><BR>
<CODE>PI3o4&nbsp;&nbsp;=&nbsp;&nbsp;2.3561944901923449288E0</CODE><BR>
<CODE>PI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;pi</CODE><BR>
<CODE>PI2&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;6.2831853071795864769E0</CODE><BR>
<CODE>oneOver2Pi&nbsp;=&nbsp;0.1591549430918953357688837633725143620345</CODE><BR><BR>
<CODE>stipulate</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;thresh&nbsp;=&nbsp;&nbsp;2.6117239648121182150E-1</CODE><BR>
<CODE>herein&nbsp;&nbsp;fun&nbsp;sss&nbsp;y&nbsp;=&nbsp;y&nbsp;+&nbsp;y&nbsp;*&nbsp;sin__S&nbsp;(y*y)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;ccc&nbsp;y&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;yy&nbsp;=&nbsp;y*y</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;cos__C&nbsp;yy</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Y&nbsp;=&nbsp;yy/two</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;&nbsp;if&nbsp;Y&nbsp;&lt;&nbsp;thresh&nbsp;then&nbsp;one&nbsp;-&nbsp;(Y&nbsp;-&nbsp;c)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;half&nbsp;-&nbsp;(Y&nbsp;-&nbsp;half&nbsp;-&nbsp;c)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>end</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;sin&nbsp;x&nbsp;=&nbsp;&nbsp;#&nbsp;&nbsp;This&nbsp;function&nbsp;propagages&nbsp;Inf's&nbsp;and&nbsp;Nan's&nbsp;correctly.&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;#&nbsp;&nbsp;x&nbsp;may&nbsp;be&nbsp;finite,&nbsp;inf,&nbsp;or&nbsp;nan&nbsp;at&nbsp;this&nbsp;point.&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xover2pi&nbsp;=&nbsp;x&nbsp;*&nbsp;oneOver2Pi</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;PI2*(xover2pi&nbsp;-&nbsp;realround&nbsp;(xover2pi))</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;now,&nbsp;probably,&nbsp;&nbsp;-pi&nbsp;&lt;=&nbsp;x&nbsp;&lt;=&nbsp;pi,&nbsp;except&nbsp;on&nbsp;vaxes.</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;x&nbsp;may&nbsp;be&nbsp;a&nbsp;nan,&nbsp;but&nbsp;cannot&nbsp;now&nbsp;be&nbsp;an&nbsp;inf.</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;lessPIo2&nbsp;x&nbsp;=&nbsp;if&nbsp;x&gt;PIo4&nbsp;then&nbsp;ccc&nbsp;(PIo2-x)&nbsp;else&nbsp;sss&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;lessPI&nbsp;x&nbsp;=&nbsp;if&nbsp;x&gt;PIo2&nbsp;then&nbsp;lessPIo2&nbsp;(PI-x)&nbsp;else&nbsp;lessPIo2&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;positive&nbsp;x&nbsp;=&nbsp;if&nbsp;x&gt;PI&nbsp;then&nbsp;sin&nbsp;(x-PI2)&nbsp;#&nbsp;&nbsp;exceedingly&nbsp;rare&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;lessPI&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;if&nbsp;x&gt;=0.0&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;positive&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;-(positive(-x))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;cos&nbsp;x&nbsp;=&nbsp;sin&nbsp;(PIo2-x)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;tan&nbsp;x&nbsp;=&nbsp;sin&nbsp;x&nbsp;/&nbsp;cos&nbsp;x</CODE><BR><BR>
<CODE>local</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;p1&nbsp;=&nbsp;&nbsp;1.3887401997267371720E-2</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;p2&nbsp;=&nbsp;&nbsp;3.3044019718331897649E-5</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;q1&nbsp;=&nbsp;&nbsp;1.1110813732786649355E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;q2&nbsp;=&nbsp;&nbsp;9.9176615021572857300E-4</CODE><BR>
<CODE>in&nbsp;&nbsp;fun&nbsp;exp__E&nbsp;(x:&nbsp;real,&nbsp;c:&nbsp;real)&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;z&nbsp;=&nbsp;x*x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;=&nbsp;z*(p1+z*p2)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;z*(q1+z*q2)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xp=&nbsp;x*p&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xh=&nbsp;x*half</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;=&nbsp;xh-(q-xp)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;c+x*((xh*w-(q-(p+p+xp)))/(one-w)+c)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;&nbsp;z*half+c</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>end</CODE><BR><BR>
<CODE>#&nbsp;&nbsp;for&nbsp;expression&nbsp;and&nbsp;ln&nbsp;</CODE><BR>
<CODE>ln2hi&nbsp;=&nbsp;6.9314718036912381649E-1</CODE><BR>
<CODE>ln2lo&nbsp;=&nbsp;1.9082149292705877000E-10</CODE><BR>
<CODE>sqrt2&nbsp;=&nbsp;1.4142135623730951455E0</CODE><BR>
<CODE>lnhuge&nbsp;=&nbsp;&nbsp;7.1602103751842355450E2</CODE><BR>
<CODE>lntiny&nbsp;=&nbsp;-7.5137154372698068983E2</CODE><BR>
<CODE>invln2&nbsp;=&nbsp;&nbsp;1.4426950408889633870E0</CODE><BR><BR>
<CODE>fun&nbsp;expression&nbsp;(x:&nbsp;real)&nbsp;=&nbsp;&nbsp;#&nbsp;&nbsp;propagates&nbsp;and&nbsp;generates&nbsp;inf's&nbsp;and&nbsp;nan's&nbsp;correctly&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fun&nbsp;exp_norm&nbsp;x&nbsp;=</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;#&nbsp;&nbsp;Argument&nbsp;reduction:&nbsp;&nbsp;x&nbsp;--&gt;&nbsp;x&nbsp;-&nbsp;k*ln2&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;=&nbsp;floor&nbsp;(invln2*x+copysign&nbsp;(half,&nbsp;x))&nbsp;#&nbsp;&nbsp;k=NINT&nbsp;(x/ln2)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;=&nbsp;real&nbsp;k</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;express&nbsp;x-k*ln2&nbsp;as&nbsp;z+c&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hi&nbsp;=&nbsp;x-K*ln2hi</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lo&nbsp;=&nbsp;K*ln2lo</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;=&nbsp;hi&nbsp;-&nbsp;lo</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;(hi-z)-lo</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;return&nbsp;2^k*[expm1&nbsp;(x)&nbsp;+&nbsp;1]&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;=&nbsp;z&nbsp;+&nbsp;exp__E&nbsp;(z,&nbsp;c)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;&nbsp;scalb&nbsp;(z+one,&nbsp;k)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;&nbsp;if&nbsp;x&nbsp;&lt;=&nbsp;lnhuge&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;lntiny</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;exp_norm&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;zero</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;isNan&nbsp;x&nbsp;then&nbsp;x&nbsp;else&nbsp;plusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR><BR>
<CODE>local</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;L1&nbsp;=&nbsp;6.6666666666667340202E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;L2&nbsp;=&nbsp;3.9999999999416702146E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;L3&nbsp;=&nbsp;2.8571428742008753154E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;L4&nbsp;=&nbsp;2.2222198607186277597E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;L5&nbsp;=&nbsp;1.8183562745289935658E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;L6&nbsp;=&nbsp;1.5314087275331442206E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;L7&nbsp;=&nbsp;1.4795612545334174692E-1</CODE><BR>
<CODE>in&nbsp;&nbsp;fun&nbsp;log__L&nbsp;(z)&nbsp;=&nbsp;z*(L1+z*(L2+z*(L3+z*(L4+z*(L5+z*(L6+z*L7))))))</CODE><BR>
<CODE>end</CODE><BR><BR>
<CODE>fun&nbsp;ln&nbsp;(x:&nbsp;real)&nbsp;=&nbsp;&nbsp;#&nbsp;&nbsp;handles&nbsp;inf's&nbsp;and&nbsp;nan's&nbsp;correctly&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;x&gt;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;plusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;let</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;=&nbsp;logb&nbsp;(x)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;scalb&nbsp;(x,&nbsp;I::(-_)&nbsp;k)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my&nbsp;(k,&nbsp;x)&nbsp;=&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;sqrt2&nbsp;then&nbsp;(I.+(k,&nbsp;1),&nbsp;x*half)&nbsp;else&nbsp;(k,&nbsp;x)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;=&nbsp;real&nbsp;k</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;x&nbsp;-&nbsp;one</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Compute&nbsp;log&nbsp;(1+x)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;=&nbsp;x/(two+x)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;=&nbsp;x*x*half</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;=&nbsp;K*ln2lo+s*(t+log__L&nbsp;(s*s))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;x&nbsp;+&nbsp;(z&nbsp;-&nbsp;t)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K*ln2hi+x&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(x&nbsp;====&nbsp;0.0)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;minusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;isNan&nbsp;x&nbsp;then&nbsp;x&nbsp;else&nbsp;NaN</CODE><BR><BR>
<CODE>oneOverln10&nbsp;=&nbsp;1.0&nbsp;/&nbsp;ln&nbsp;10.0</CODE><BR><BR>
<CODE>fun&nbsp;log10&nbsp;x&nbsp;=&nbsp;ln&nbsp;x&nbsp;*&nbsp;oneOverln10</CODE><BR><BR>
<CODE>fun&nbsp;isInt&nbsp;y&nbsp;=&nbsp;realround&nbsp;(y)-y&nbsp;====&nbsp;0.0</CODE><BR>
<CODE>fun&nbsp;isOddInt&nbsp;(y)&nbsp;=&nbsp;isInt((y&nbsp;-&nbsp;1.0)*0.5)</CODE><BR><BR>
<CODE>fun&nbsp;intpow&nbsp;(x,&nbsp;0)&nbsp;=&nbsp;1.0</CODE><BR>
<CODE>&nbsp;&nbsp;</CODE><CODE>|&nbsp;intpow&nbsp;(x,&nbsp;y)&nbsp;=&nbsp;let&nbsp;h&nbsp;=&nbsp;i::rshift&nbsp;(y,&nbsp;1)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;=&nbsp;intpow&nbsp;(x,&nbsp;h)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zz&nbsp;=&nbsp;z*z</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;if&nbsp;y==I::(+)&nbsp;(h,&nbsp;h)&nbsp;then&nbsp;zz&nbsp;else&nbsp;x*zz</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR><BR>
<CODE>#&nbsp;Mythryl&nbsp;doesn't&nbsp;properly&nbsp;handle&nbsp;negative&nbsp;zeros.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XXX&nbsp;BUGGO&nbsp;FIXME</CODE><BR>
<CODE>#&nbsp;Also,&nbsp;the&nbsp;copysign&nbsp;function&nbsp;works&nbsp;incorrectly&nbsp;on&nbsp;negative&nbsp;zero.</CODE><BR>
<CODE>#&nbsp;The&nbsp;code&nbsp;for&nbsp;"pow"&nbsp;below&nbsp;should&nbsp;work&nbsp;correctly&nbsp;when&nbsp;these&nbsp;other&nbsp;</CODE><BR>
<CODE>#&nbsp;bugs&nbsp;are&nbsp;fixed.&nbsp;&nbsp;A.&nbsp;Appel,&nbsp;5/8/97</CODE><BR>
<CODE>#</CODE><BR>
<CODE>fun&nbsp;pow&nbsp;(x,&nbsp;y)&nbsp;=&nbsp;if&nbsp;y&gt;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;y&lt;plusInfinity&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;minusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;expression&nbsp;(y*ln&nbsp;(x))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;x&nbsp;====&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;isOddInt&nbsp;(y)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;isInt&nbsp;(y)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;intpow&nbsp;(x,&nbsp;floor&nbsp;(y+0.5))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;NaN</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;isNan&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;isOddInt&nbsp;(y)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;plusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;let&nbsp;ax&nbsp;=&nbsp;abs&nbsp;(x)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;if&nbsp;ax&gt;1.0&nbsp;then&nbsp;plusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;ax&lt;1.0&nbsp;then&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;NaN</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;y&nbsp;&lt;&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;y&gt;minusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;minusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;expression&nbsp;(y*ln&nbsp;(x))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;x====0.0&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;isOddInt&nbsp;(y)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;copysign&nbsp;(plusInfinity,&nbsp;x)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;plusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;isInt&nbsp;(y)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;1.0&nbsp;/&nbsp;intpow&nbsp;(x,&nbsp;floor(-y+0.5))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;NaN</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;isNan&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;isOddInt&nbsp;(y)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;-0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;let&nbsp;ax&nbsp;=&nbsp;abs&nbsp;(x)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;if&nbsp;ax&gt;1.0&nbsp;then&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;ax&lt;1.0&nbsp;then&nbsp;plusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;NaN</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;isNan&nbsp;y</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;y</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;1.0</CODE><BR>
<CODE>local</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;athfhi&nbsp;=&nbsp;&nbsp;4.6364760900080611433E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;athflo&nbsp;=&nbsp;&nbsp;1.0147340032515978826E-18</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;at1hi&nbsp;=&nbsp;&nbsp;&nbsp;0.78539816339744830676</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;at1lo&nbsp;=&nbsp;&nbsp;&nbsp;1.11258708870781088040E-18</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;3.3333333333333942106E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;-1.9999999999979536924E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;1.4285714278004377209E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;-1.1111110579344973814E-1</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;9.0908906105474668324E-2</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;-7.6919217767468239799E-2</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;6.6614695906082474486E-2</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;-5.8358371008508623523E-2</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;4.9850617156082015213E-2</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a10&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;-3.6700606902093604877E-2</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;a11&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;1.6438029044759730479E-2</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;atn&nbsp;(t,&nbsp;hi,&nbsp;lo)&nbsp;=&nbsp;#&nbsp;&nbsp;for&nbsp;-0.4375&nbsp;&lt;=&nbsp;t&nbsp;&lt;=&nbsp;0.4375&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;z&nbsp;=&nbsp;t*t</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;hi+(t+(lo-t*(z*(a1+z*(a2+z*(a3+z*(a4+z*(a5+z*(a6+z*(a7+</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z*(a8+z*(a9+z*(a10+z*a11)))))))))))))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;atan&nbsp;(t)&nbsp;=&nbsp;#&nbsp;&nbsp;0&nbsp;&lt;=&nbsp;t&nbsp;&lt;=&nbsp;1&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;t&nbsp;&lt;=&nbsp;0.4375&nbsp;then&nbsp;atn&nbsp;(t,&nbsp;zero,&nbsp;zero)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;t&nbsp;&lt;=&nbsp;0.6875&nbsp;then&nbsp;atn((t-half)/(one+half*t),&nbsp;athfhi,&nbsp;athflo)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;atn((t-one)/(one+t),&nbsp;at1hi,&nbsp;at1lo)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;atanpy&nbsp;y&nbsp;=&nbsp;#&nbsp;&nbsp;y&gt;=0&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;y&gt;one&nbsp;then&nbsp;PIo2&nbsp;-&nbsp;atan&nbsp;(one/y)&nbsp;else&nbsp;atan&nbsp;(y)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;atan2pypx&nbsp;(x,&nbsp;y)&nbsp;=&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;y&gt;x&nbsp;then&nbsp;PIo2&nbsp;-&nbsp;atan&nbsp;(x/y)&nbsp;else&nbsp;atan&nbsp;(y/x)</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;atan2py&nbsp;(x,&nbsp;y)&nbsp;=&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;0.0&nbsp;then&nbsp;atan2pypx&nbsp;(x,&nbsp;y)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;x&nbsp;====&nbsp;0.0&nbsp;and&nbsp;y&nbsp;====&nbsp;0.0&nbsp;then&nbsp;0.0</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;PI&nbsp;-&nbsp;atan2pypx(-x,&nbsp;y)</CODE><BR><BR>
<CODE>in&nbsp;&nbsp;fun&nbsp;atan&nbsp;y&nbsp;=&nbsp;#&nbsp;&nbsp;miraculously&nbsp;handles&nbsp;inf's&nbsp;and&nbsp;nan's&nbsp;correctly&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;y&lt;=0.0&nbsp;then&nbsp;-(atanpy(-y))&nbsp;else&nbsp;atanpy&nbsp;y</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;atan2&nbsp;(y,&nbsp;x)&nbsp;=&nbsp;#&nbsp;&nbsp;miraculously&nbsp;handles&nbsp;inf's&nbsp;and&nbsp;nan's&nbsp;correctly&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;y&gt;=0.0&nbsp;then&nbsp;atan2py&nbsp;(x,&nbsp;y)&nbsp;else&nbsp;-(atan2py&nbsp;(x,-y))</CODE><BR>
<CODE>end</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;sqrt&nbsp;(x:&nbsp;real)&nbsp;=&nbsp;#&nbsp;&nbsp;handles&nbsp;inf's&nbsp;and&nbsp;nan's&nbsp;correctly&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;x&gt;zero</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;plusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;let</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;=&nbsp;6&nbsp;#&nbsp;&nbsp;log&nbsp;base&nbsp;2&nbsp;of&nbsp;the&nbsp;precision&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;=&nbsp;i::rshift&nbsp;(logb&nbsp;x,&nbsp;1)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;scalb&nbsp;(x,&nbsp;i::(-_)&nbsp;(i::(+)&nbsp;(n,&nbsp;n)))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun&nbsp;iter&nbsp;(0,&nbsp;g)&nbsp;=&nbsp;g</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><CODE>|&nbsp;iter&nbsp;(i,&nbsp;g)&nbsp;=&nbsp;iter&nbsp;(I.-(i,&nbsp;1),&nbsp;half&nbsp;*&nbsp;(g&nbsp;+&nbsp;x/g))</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scalb&nbsp;(iter&nbsp;(k,&nbsp;one),&nbsp;n)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;x</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;x&lt;zero&nbsp;then&nbsp;NaN&nbsp;else&nbsp;x</CODE><BR><BR>
<CODE>&nbsp;&nbsp;fun&nbsp;asin&nbsp;x&nbsp;=&nbsp;atan2&nbsp;(x,&nbsp;sqrt&nbsp;(1.0-x*x))</CODE><BR>
<CODE>&nbsp;&nbsp;fun&nbsp;acos&nbsp;x&nbsp;=&nbsp;2.0&nbsp;*&nbsp;atan2&nbsp;(sqrt((1.0-x)/(1.0+x)),&nbsp;1.0)</CODE><BR><BR>
<CODE>&nbsp;fun&nbsp;cosh&nbsp;u&nbsp;=&nbsp;let&nbsp;a&nbsp;=&nbsp;expression&nbsp;u&nbsp;in&nbsp;if&nbsp;a====0.0&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;plusInfinity</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;0.5&nbsp;*&nbsp;(a&nbsp;+&nbsp;1.0&nbsp;/&nbsp;a)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>&nbsp;fun&nbsp;sinh&nbsp;u&nbsp;=&nbsp;let&nbsp;a&nbsp;=&nbsp;expression&nbsp;u&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;if&nbsp;a====0.0&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;copysign&nbsp;(plusInfinity,&nbsp;u)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;0.5&nbsp;*&nbsp;(a&nbsp;-&nbsp;1.0&nbsp;/&nbsp;a)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>&nbsp;fun&nbsp;tanh&nbsp;u&nbsp;=&nbsp;let&nbsp;a&nbsp;=&nbsp;expression&nbsp;u&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;1.0&nbsp;/&nbsp;a</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;if&nbsp;a====0.0&nbsp;then&nbsp;copysign&nbsp;(1.0,&nbsp;u)</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;(a-b)&nbsp;/&nbsp;(a+b)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</CODE><BR>
<CODE>}</CODE><BR><BR><BR>
</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-src_lib_std_src_math64-intel32_pkg.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Codebase__pkg_Files.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-src_lib_std_src_math64-sqrt_pkg.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
