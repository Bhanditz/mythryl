<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>src/app/makelib/paths/anchor-dictionary.api</TITLE>
</HEAD>
<BODY >
<A HREF="my-src_app_makelib_parse_libfile_grammar_api.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Codebase__api_Files.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-src_app_makelib_stuff_raw-libfile_api.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc1096">15.3.20</A>  src/app/makelib/paths/anchor-dictionary.api</H3><P>
<A NAME="src/app/makelib/paths/anchor-dictionary.api"></A>
<CODE>##&nbsp;anchor-dictionary.api&nbsp;--&nbsp;Operations&nbsp;over&nbsp;abstract&nbsp;names&nbsp;for&nbsp;source&nbsp;files.</CODE><BR><BR>
<CODE>#&nbsp;Compiled&nbsp;by:</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_app_makelib_paths_srcpath_sublib.html#src/app/makelib/paths/srcpath.sublib"><TT>src/app/makelib/paths/srcpath.sublib</TT></A><BR><BR><CODE>#&nbsp;Overview&nbsp;comments&nbsp;at&nbsp;bottom&nbsp;of&nbsp;file.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><BR><BR><BR><BR>
<CODE>###&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"The&nbsp;lyf&nbsp;so&nbsp;short,&nbsp;the&nbsp;craft&nbsp;so&nbsp;long&nbsp;to&nbsp;lerne."</CODE><BR>
<CODE>###</CODE><BR>
<CODE>###&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--Geoffrey&nbsp;Chaucer</CODE><BR><BR><BR><BR>
<CODE>api&nbsp;Anchor_Dictionary&nbsp;{</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;We&nbsp;define&nbsp;an&nbsp;exception&nbsp;to&nbsp;raise&nbsp;if</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;we&nbsp;encounter&nbsp;an&nbsp;"impossible"&nbsp;byte</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;sequence&nbsp;while&nbsp;unpickling,&nbsp;presumably</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;diskfile&nbsp;corruption:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;exception&nbsp;FORMAT;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;File;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Path_Root;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Root&nbsp;of&nbsp;a&nbsp;file&nbsp;path&nbsp;--&nbsp;essentially,&nbsp;"/...",&nbsp;&nbsp;"./..."&nbsp;or&nbsp;"$ROOT/..."</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Anchor_Dictionary;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Anchor&nbsp;=&nbsp;String;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Dir_Path;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Renaming&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;{&nbsp;anchor:&nbsp;Anchor,&nbsp;&nbsp;&nbsp;value:&nbsp;&nbsp;Dir_Path&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;&nbsp;#&nbsp;MUSTDIE</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Renamings&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;List(&nbsp;Renaming&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;MUSTDIE</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;Key&nbsp;=&nbsp;File;</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;compare:&nbsp;&nbsp;(File,&nbsp;File)&nbsp;-&gt;&nbsp;Order;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Compare&nbsp;paths&nbsp;for&nbsp;ordering&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;sync:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Void&nbsp;-&gt;&nbsp;Void;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Re-establish&nbsp;stability&nbsp;of&nbsp;ordering.&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;clear:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Void&nbsp;-&gt;&nbsp;Void;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Forget&nbsp;all&nbsp;known&nbsp;path&nbsp;names.&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;revalidate_cwd:&nbsp;&nbsp;Void&nbsp;-&gt;&nbsp;Void;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Re-validate&nbsp;current&nbsp;working&nbsp;directory.&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;add_cwd_watcher:&nbsp;&nbsp;(String&nbsp;-&gt;&nbsp;Void)&nbsp;-&gt;&nbsp;Void;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Register&nbsp;a&nbsp;"client"&nbsp;module&nbsp;that&nbsp;wishes&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;to&nbsp;be&nbsp;notified&nbsp;when&nbsp;the&nbsp;CWD&nbsp;changes.&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Currently&nbsp;never&nbsp;called.</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Make&nbsp;sure&nbsp;all&nbsp;such&nbsp;clients&nbsp;get&nbsp;notified</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;about&nbsp;the&nbsp;CWD&nbsp;during&nbsp;next&nbsp;validation:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;schedule_notification:&nbsp;&nbsp;&nbsp;Void&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A&nbsp;default&nbsp;dictionary&nbsp;containing</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;just&nbsp;the&nbsp;ROOT&nbsp;definition:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;dictionary:&nbsp;Anchor_Dictionary;</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Destructive&nbsp;updates&nbsp;to&nbsp;anchor&nbsp;settings&nbsp;(for&nbsp;configuration)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;set_anchor:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Anchor_Dictionary,&nbsp;Anchor,&nbsp;&nbsp;&nbsp;&nbsp;Null_Or(String))&nbsp;-&gt;&nbsp;Void;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Native&nbsp;host&nbsp;OS&nbsp;syntax!&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;get_anchor:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Anchor_Dictionary,&nbsp;Anchor)&nbsp;-&gt;&nbsp;Null_Or(String);</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;print_anchors:&nbsp;&nbsp;(Anchor_Dictionary,&nbsp;String)&nbsp;-&gt;&nbsp;Void;</CODE><BR><BR>
<CODE>#&nbsp;&nbsp;&nbsp;my&nbsp;keyvals_list:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map(X)&nbsp;-&gt;&nbsp;&nbsp;List(&nbsp;key::Key&nbsp;*&nbsp;X&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_lib_src_map_api.html#src/lib/src/map.api"><TT>src/lib/src/map.api</TT></A><BR><CODE>#&nbsp;&nbsp;&nbsp;my&nbsp;listAnchorsi:&nbsp;&nbsp;&nbsp;&nbsp;Anchor_Dictionary&nbsp;-&gt;&nbsp;List(&nbsp;Anchor&nbsp;*&nbsp;String)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/lib/src/ord-map.apk</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Make&nbsp;abstract&nbsp;paths:&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;file_path&nbsp;args</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;in&nbsp;the&nbsp;local&nbsp;host&nbsp;OS&nbsp;notation&nbsp;--&nbsp;even&nbsp;if&nbsp;it&nbsp;is&nbsp;Windows:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;from_native:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;plaint_sink:&nbsp;&nbsp;String&nbsp;-&gt;&nbsp;Void&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Where&nbsp;to&nbsp;send&nbsp;error&nbsp;messages.&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;path_root:&nbsp;&nbsp;&nbsp;&nbsp;Path_Root,</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;&nbsp;&nbsp;&nbsp;String</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dir_Path;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;file_path&nbsp;args</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;in&nbsp;our&nbsp;standard&nbsp;unix-like&nbsp;notation:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;from_standard':</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;plaint_sink:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;-&gt;&nbsp;Void,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Where&nbsp;to&nbsp;send&nbsp;error&nbsp;messages.&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anchor_dictionary:&nbsp;&nbsp;&nbsp;&nbsp;Anchor_Dictionary</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;path_root:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Path_Root,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Typically&nbsp;anchor_dictionary::cwd&nbsp;().</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;E.g.&nbsp;"$ROOT/src/lib/core/init/init.cmi"</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;or&nbsp;&nbsp;&nbsp;"$ROOT/src/lib/std/standard.lib"</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;or&nbsp;&nbsp;&nbsp;"$ROOT/src/lib/core/mythryl-compiler-compiler/mythryl-compiler-compiler-for-this-platform.lib".</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dir_Path;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A&nbsp;simplified&nbsp;version&nbsp;of&nbsp;the&nbsp;above</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;sufficient&nbsp;for&nbsp;most&nbsp;purposes:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;from_standard:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Anchor_Dictionary</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;/*&nbsp;filename&nbsp;*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;E.g.&nbsp;"$ROOT/src/lib/core/init/init.cmi"</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;or&nbsp;&nbsp;&nbsp;"$ROOT/src/lib/std/standard.lib"</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;or&nbsp;&nbsp;&nbsp;"$ROOT/src/lib/core/mythryl-compiler-compiler/mythryl-compiler-compiler-for-this-platform.lib".</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;extend:&nbsp;&nbsp;&nbsp;Dir_Path&nbsp;-&gt;&nbsp;List(String)&nbsp;-&gt;&nbsp;Dir_Path;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Augment&nbsp;a&nbsp;basename&nbsp;(naming&nbsp;a&nbsp;directory)&nbsp;with&nbsp;a&nbsp;list&nbsp;of&nbsp;arcs.</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;file:&nbsp;&nbsp;&nbsp;Dir_Path&nbsp;-&gt;&nbsp;File;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Check&nbsp;that&nbsp;there&nbsp;is&nbsp;at&nbsp;least&nbsp;one&nbsp;arc&nbsp;(the&nbsp;actual&nbsp;filename!)&nbsp;after&nbsp;the&nbsp;path's&nbsp;path_root.</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;file_to_basename:&nbsp;&nbsp;&nbsp;File&nbsp;-&gt;&nbsp;Dir_Path;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;To&nbsp;be&nbsp;able&nbsp;to&nbsp;pickle&nbsp;a&nbsp;file,&nbsp;turn&nbsp;it&nbsp;into&nbsp;a&nbsp;basename&nbsp;first...&nbsp;</CODE><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Directory&nbsp;paths&nbsp;(path_roots)&nbsp;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;current_working_directory:&nbsp;&nbsp;Void&nbsp;-&gt;&nbsp;Path_Root;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;dir:&nbsp;&nbsp;File&nbsp;-&gt;&nbsp;Path_Root;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;info&nbsp;out&nbsp;of&nbsp;abstract&nbsp;paths:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;os_string:&nbsp;&nbsp;&nbsp;File&nbsp;-&gt;&nbsp;String;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;os_string'&nbsp;:&nbsp;File&nbsp;-&gt;&nbsp;String;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Use&nbsp;relative&nbsp;path&nbsp;if&nbsp;shorter&nbsp;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;abbreviate&nbsp;&nbsp;:&nbsp;String&nbsp;-&gt;&nbsp;String;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Abbreviate&nbsp;any&nbsp;ROOT&nbsp;prefix</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;path&nbsp;relative&nbsp;to&nbsp;the&nbsp;file's&nbsp;path_root;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;this&nbsp;will&nbsp;produce&nbsp;an&nbsp;absolute&nbsp;path&nbsp;if</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;the&nbsp;original&nbsp;file_path&nbsp;was&nbsp;not&nbsp;relative&nbsp;--</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;i.e.,&nbsp;if&nbsp;it&nbsp;was&nbsp;anchored&nbsp;or&nbsp;absolute:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;os_string_relative:&nbsp;&nbsp;File&nbsp;-&gt;&nbsp;String;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Same&nbsp;for&nbsp;basename:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;os_string_basename_relative:&nbsp;&nbsp;Dir_Path&nbsp;-&gt;&nbsp;String;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;name&nbsp;of&nbsp;path&nbsp;root:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;os_string_dir:&nbsp;&nbsp;Path_Root&nbsp;-&gt;&nbsp;String;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;name&nbsp;of&nbsp;basename:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;os_string_basename:&nbsp;&nbsp;Dir_Path&nbsp;-&gt;&nbsp;String;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;a&nbsp;human-readable&nbsp;(well,&nbsp;sort&nbsp;of)&nbsp;description:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;describe:&nbsp;&nbsp;File&nbsp;-&gt;&nbsp;String;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;a&nbsp;time&nbsp;stamp:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;timestamp:&nbsp;&nbsp;File&nbsp;-&gt;&nbsp;timestamp::Timestamp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;timestamp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;from&nbsp;&nbsp;&nbsp;</CODE><A HREF="my-src_app_makelib_paths_timestamp_pkg.html#src/app/makelib/paths/timestamp.pkg"><TT>src/app/makelib/paths/timestamp.pkg</TT></A><BR><BR><CODE>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Portable&nbsp;encodings&nbsp;that&nbsp;avoid&nbsp;whitespace:</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;encode:&nbsp;&nbsp;File&nbsp;-&gt;&nbsp;String;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;decode:&nbsp;&nbsp;Anchor_Dictionary&nbsp;-&gt;&nbsp;String&nbsp;-&gt;&nbsp;File;</CODE><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;encoding_is_absolute:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;-&gt;&nbsp;Bool;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Check&nbsp;whether&nbsp;encoding&nbsp;(result</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;of&nbsp;"encode")&nbsp;is&nbsp;absolute&nbsp;--</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;i.e.,&nbsp;not&nbsp;anchored&nbsp;and&nbsp;not&nbsp;relative:</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;pickle:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;warn:&nbsp;(Bool,&nbsp;String)&nbsp;-&gt;&nbsp;Void&nbsp;}</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;file:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dir_Path,</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_to:&nbsp;File</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List(&nbsp;List(String)&nbsp;);</CODE><BR><BR><BR><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;unpickle:&nbsp;&nbsp;&nbsp;Anchor_Dictionary</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;pickled:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List(&nbsp;&nbsp;List(String)&nbsp;),</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_to:&nbsp;&nbsp;File</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</CODE><BR>
<CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dir_Path;</CODE><BR><BR>
<CODE>};</CODE><BR><BR>
<CODE>#&nbsp;Overview:</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Per&nbsp;unix&nbsp;tradition,&nbsp;.lib&nbsp;files&nbsp;may&nbsp;refer&nbsp;to&nbsp;files&nbsp;using</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"absolute"&nbsp;file&nbsp;paths&nbsp;such&nbsp;as&nbsp;&nbsp;&nbsp;/aa/bb/cc/...&nbsp;or</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"relative"&nbsp;file&nbsp;paths&nbsp;such&nbsp;as&nbsp;&nbsp;&nbsp;&nbsp;aa/bb/cc/...</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;"aa"&nbsp;"bb"&nbsp;"cc"&nbsp;are&nbsp;called&nbsp;path&nbsp;"arcs".</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;addition,&nbsp;makelib&nbsp;supports&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"anchored"&nbsp;file&nbsp;paths&nbsp;such&nbsp;as&nbsp;&nbsp;&nbsp;$ROOT/aa/bb/cc/...</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;"$ROOT"&nbsp;is&nbsp;an&nbsp;"anchor&nbsp;variable".</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;allows&nbsp;us&nbsp;to&nbsp;move&nbsp;an&nbsp;entire&nbsp;directory&nbsp;of</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourcefiles&nbsp;from&nbsp;one&nbsp;spot&nbsp;to&nbsp;another&nbsp;in&nbsp;the&nbsp;filesystem</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simply&nbsp;by&nbsp;updating&nbsp;one&nbsp;anchor&nbsp;variable&nbsp;setting.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Furthermore,&nbsp;makelib&nbsp;file&nbsp;syntax&nbsp;allows&nbsp;anchor&nbsp;variables</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;have&nbsp;both&nbsp;a&nbsp;fixed&nbsp;default&nbsp;value,&nbsp;and&nbsp;also&nbsp;to&nbsp;be</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temporarily&nbsp;rebound&nbsp;to&nbsp;another&nbsp;value&nbsp;within&nbsp;a&nbsp;given</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;syntactic&nbsp;scope:&nbsp;&nbsp;We&nbsp;refer&nbsp;to&nbsp;these&nbsp;as&nbsp;the&nbsp;"free"</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;"bound"&nbsp;values&nbsp;of&nbsp;the&nbsp;anchor&nbsp;variable&nbsp;respectively,</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;analogy&nbsp;with&nbsp;lambda&nbsp;calculus&nbsp;nomenclature.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;give&nbsp;the&nbsp;arcs&nbsp;"."&nbsp;and&nbsp;".."&nbsp;the&nbsp;special&nbsp;meanings</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;respectively&nbsp;"current"&nbsp;and&nbsp;"parent"&nbsp;directory.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;also&nbsp;forbid&nbsp;whitespace&nbsp;in&nbsp;paths,&nbsp;to&nbsp;allow&nbsp;simple&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parsing&nbsp;of&nbsp;.lib&nbsp;files.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some&nbsp;hosts&nbsp;may&nbsp;allow&nbsp;use&nbsp;of&nbsp;"."&nbsp;".."&nbsp;as&nbsp;normal</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arc&nbsp;names,&nbsp;and&nbsp;some&nbsp;host&nbsp;arc&nbsp;names&nbsp;may&nbsp;in&nbsp;fact&nbsp;include</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;whitespace.&nbsp;&nbsp;We&nbsp;handle&nbsp;these&nbsp;cases&nbsp;by&nbsp;encoding&nbsp;the</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arc&nbsp;names&nbsp;using&nbsp;octal&nbsp;escape&nbsp;sequences&nbsp;like&nbsp;\x2d&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;each&nbsp;problematic&nbsp;character.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Since&nbsp;the&nbsp;user&nbsp;may&nbsp;move&nbsp;around&nbsp;source&nbsp;files&nbsp;from</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time&nbsp;to&nbsp;time&nbsp;and&nbsp;update&nbsp;anchor&nbsp;variables&nbsp;accordingly,</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;attempt&nbsp;to&nbsp;evaluate&nbsp;anchor&nbsp;variables,&nbsp;and&nbsp;expressions</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;involving&nbsp;them,&nbsp;as&nbsp;late&nbsp;as&nbsp;possible&nbsp;in&nbsp;the&nbsp;compilation</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process,&nbsp;by&nbsp;using&nbsp;thunks&nbsp;and&nbsp;lazy-style&nbsp;datastructure</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;techniques&nbsp;as&nbsp;appropriate.</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;datastructure&nbsp;"laziness"&nbsp;is&nbsp;potentially</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;problematic&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;paths&nbsp;specified&nbsp;relative&nbsp;to</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;("CWD"),&nbsp;since&nbsp;the&nbsp;CWD</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;may&nbsp;change&nbsp;from&nbsp;time&nbsp;to&nbsp;time,&nbsp;and&nbsp;our&nbsp;"laziness"&nbsp;could</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;thus&nbsp;result&nbsp;in&nbsp;a&nbsp;path&nbsp;being&nbsp;evaluated&nbsp;relative&nbsp;to&nbsp;an</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unexpected&nbsp;--&nbsp;and&nbsp;wrong&nbsp;--&nbsp;CWD&nbsp;value.</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To&nbsp;avoid&nbsp;this&nbsp;problem,&nbsp;we&nbsp;track&nbsp;the&nbsp;CWD&nbsp;and</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implement&nbsp;a&nbsp;system&nbsp;of&nbsp;notifications&nbsp;for&nbsp;when&nbsp;the</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CWD&nbsp;changes,&nbsp;so&nbsp;as&nbsp;to&nbsp;give&nbsp;the&nbsp;effect&nbsp;of&nbsp;evaluating&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;expressions&nbsp;as&nbsp;late&nbsp;as&nbsp;possible,&nbsp;but&nbsp;still</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative&nbsp;to&nbsp;the&nbsp;expected&nbsp;CWD&nbsp;value.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Another&nbsp;twist:&nbsp;&nbsp;The&nbsp;above&nbsp;unix-like&nbsp;path&nbsp;specification</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;portably&nbsp;supported&nbsp;on&nbsp;all&nbsp;platforms&nbsp;--&nbsp;we&nbsp;call&nbsp;it</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"standard"&nbsp;notation&nbsp;--&nbsp;but&nbsp;sometimes&nbsp;we&nbsp;need&nbsp;access&nbsp;to</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idiosyncratic&nbsp;functionalities&nbsp;of&nbsp;a&nbsp;particular&nbsp;host's</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;syntax,&nbsp;in&nbsp;particular&nbsp;to&nbsp;the&nbsp;ability&nbsp;to&nbsp;specify</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disk&nbsp;volumes&nbsp;on&nbsp;MS-DOS/MS-Windows,&nbsp;so&nbsp;we&nbsp;also&nbsp;support</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;of&nbsp;the&nbsp;"native"&nbsp;path&nbsp;notation&nbsp;of&nbsp;the&nbsp;host&nbsp;os.</CODE><BR>
<CODE>#&nbsp;--&gt;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;.lib&nbsp;file&nbsp;surface&nbsp;syntax&nbsp;we&nbsp;use&nbsp;a&nbsp;leading&nbsp;"#"&nbsp;on&nbsp;&lt;--</CODE><BR>
<CODE>#&nbsp;--&gt;&nbsp;native&nbsp;path&nbsp;expressions&nbsp;to&nbsp;distinguish&nbsp;them&nbsp;from&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;--</CODE><BR>
<CODE>#&nbsp;--&gt;&nbsp;standard&nbsp;path&nbsp;expressions.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;--</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yet&nbsp;another:&nbsp;&nbsp;We&nbsp;provide&nbsp;facilities&nbsp;to&nbsp;"pickle"&nbsp;and</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"unpickle"&nbsp;our&nbsp;file&nbsp;reference&nbsp;datastructures,&nbsp;which</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;to&nbsp;say,&nbsp;to&nbsp;serialize&nbsp;them&nbsp;as&nbsp;bytestrings&nbsp;suitable</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;storage&nbsp;in&nbsp;diskfiles&nbsp;and&nbsp;then&nbsp;deserialize&nbsp;such</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bytestrings&nbsp;back&nbsp;into&nbsp;live&nbsp;datastructures.&nbsp;&nbsp;This</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lets&nbsp;us&nbsp;propagate&nbsp;state&nbsp;between&nbsp;executions&nbsp;of&nbsp;makelib.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;implement&nbsp;all&nbsp;this&nbsp;as&nbsp;follows:</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;Our&nbsp;"anchors"&nbsp;are&nbsp;simply&nbsp;strings,&nbsp;which</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;look&nbsp;up&nbsp;in&nbsp;string-keyed&nbsp;maps.&nbsp;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;Paths&nbsp;aa/bb/cc/...&nbsp;are&nbsp;represented&nbsp;as&nbsp;lists&nbsp;of&nbsp;strings&nbsp;</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["aa",&nbsp;"bb",&nbsp;"cc",&nbsp;...]</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;that&nbsp;mostly&nbsp;we're&nbsp;interested&nbsp;in&nbsp;being&nbsp;able</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;add&nbsp;and&nbsp;remove&nbsp;arcs&nbsp;from&nbsp;the&nbsp;logical&nbsp;-end-&nbsp;of</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;path,&nbsp;so&nbsp;we&nbsp;usually&nbsp;use&nbsp;-reversed-&nbsp;path&nbsp;lists</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;...,&nbsp;"cc",&nbsp;"bb",&nbsp;"aa"&nbsp;]</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;Anchor&nbsp;values&nbsp;are&nbsp;recorded&nbsp;in&nbsp;an&nbsp;"anchor_dictionary"</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;includes&nbsp;both&nbsp;a</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;"free"&nbsp;&nbsp;&nbsp;&nbsp;map&nbsp;recording&nbsp;the&nbsp;current&nbsp;free&nbsp;(default)&nbsp;values&nbsp;of&nbsp;anchors,&nbsp;and&nbsp;a</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;"bound"&nbsp;&nbsp;&nbsp;map&nbsp;recording&nbsp;current&nbsp;bound&nbsp;values&nbsp;of&nbsp;anchors.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;We&nbsp;define&nbsp;type&nbsp;Path_Root&nbsp;to&nbsp;represent&nbsp;the&nbsp;root&nbsp;of&nbsp;a&nbsp;path.</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;2010-09-08&nbsp;CrT:&nbsp;&nbsp;Matthias&nbsp;Blume&nbsp;uses&nbsp;this&nbsp;facility&nbsp;heavily&nbsp;in&nbsp;SML/NJ,</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;I&nbsp;find&nbsp;makes&nbsp;the&nbsp;code&nbsp;harder&nbsp;to&nbsp;read&nbsp;--&nbsp;this</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;the&nbsp;opposite&nbsp;of&nbsp;declarative&nbsp;programming&nbsp;style,</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one&nbsp;has&nbsp;mentally&nbsp;execute&nbsp;the&nbsp;code&nbsp;to&nbsp;guess&nbsp;what</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;a&nbsp;given&nbsp;anchor&nbsp;points&nbsp;to&nbsp;at&nbsp;a&nbsp;given&nbsp;point</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;computation.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Consequently,&nbsp;in&nbsp;the&nbsp;Mythryl&nbsp;codebase&nbsp;I&nbsp;have&nbsp;reduced</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;set&nbsp;of&nbsp;anchors&nbsp;used&nbsp;to&nbsp;the&nbsp;single&nbsp;ROOT&nbsp;anchor,</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;points&nbsp;to&nbsp;the&nbsp;root&nbsp;of&nbsp;the&nbsp;Mythryl&nbsp;source&nbsp;code</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;and&nbsp;never&nbsp;changes&nbsp;during&nbsp;a&nbsp;compile.</CODE><BR>
<CODE>#</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I'm&nbsp;inclined&nbsp;to&nbsp;think&nbsp;this&nbsp;entire&nbsp;facility&nbsp;can&nbsp;and</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;should&nbsp;be&nbsp;considerably&nbsp;simplified&nbsp;to&nbsp;accord&nbsp;more</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;standard&nbsp;posix&nbsp;programming&nbsp;practive.&nbsp;&nbsp;It&nbsp;appears</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;do&nbsp;nothing&nbsp;that&nbsp;couldn't&nbsp;be&nbsp;done&nbsp;better&nbsp;with</CODE><BR>
<CODE>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;standard&nbsp;unix&nbsp;environment&nbsp;strings.</CODE><BR><BR><BR>
<CODE>##&nbsp;Author:&nbsp;Matthias&nbsp;Blume</CODE><BR>
<CODE>##&nbsp;Copyright&nbsp;(c)&nbsp;2000&nbsp;by&nbsp;Lucent&nbsp;Technologies,&nbsp;Bell&nbsp;Laboratories</CODE><BR>
<CODE>##&nbsp;Subsequent&nbsp;changes&nbsp;by&nbsp;Jeff&nbsp;Prothero&nbsp;Copyright&nbsp;(c)&nbsp;2010-2015,</CODE><BR>
<CODE>##&nbsp;released&nbsp;per&nbsp;terms&nbsp;of&nbsp;SMLNJ-COPYRIGHT.</CODE><BR><BR>
</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-src_app_makelib_parse_libfile_grammar_api.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Codebase__api_Files.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-src_app_makelib_stuff_raw-libfile_api.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
