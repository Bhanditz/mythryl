<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Case Expression</TITLE>
</HEAD>
<BODY >
<A HREF="my-Case_Expressions_and_Pattern-Matching.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Tuple_Patterns.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc257">10.8.1</A>  Case Expression</H3><P>
<A NAME="section:ref:case-expressions-and-pattern-matching:case-expression"></A></P><P>At its simplest, the Mythryl <TT>case</TT> expression may 
be used much like the C <TT>switch</TT> statement:</P><PRE CLASS="verbatim">    linux$ cat my-script
    #!/usr/bin/mythryl

    i = 3;

    case i
        1 =&gt; print "One.\n";
        2 =&gt; print "Two.\n";
        3 =&gt; print "Three.\n";
        _ =&gt; print "Dunno.\n";
    esac;

    linux$ ./my-script
    Three.
</PRE><P>Here the underbar pattern serves as an &#X201C;other&#X201D; case, 
catching any value not handled by any of the preceding 
cases. </P><P>One difference is that the Mythryl <TT>case</TT> expression, 
unlike the C <TT>switch</TT> statement, may be evaluated to 
yield a value:</P><PRE CLASS="verbatim">    linux$ cat my-script
    #!/usr/bin/mythryl

    text = "three";

    i = case text
            "one"   =&gt; 1;
            "two"   =&gt; 2;
            "three" =&gt; 3;
            _       =&gt; raise exception DIE "Unsupported case";
        esac;

    printf "Result: %d\n" i;

    linux$ ./my-script
    Result: 3
</PRE><P>A more important difference is that the Mythryl <TT>case</TT> 
statement performs pattern matching. The expression 
given is conceptually matched against the patterns of its 
case clauses one by one, top to bottom, until one matches, 
at which point the corresponding expression is evaluated.</P><P>(The top-to-bottom scan is purely conceptual; in practice 
the compiler generates highly optimized code to find select 
the appropriate case to evaluate.)</P><P>In the succeeding sections we will enumerate the different 
types of patterns supported.</P>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Case_Expressions_and_Pattern-Matching.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Tuple_Patterns.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
