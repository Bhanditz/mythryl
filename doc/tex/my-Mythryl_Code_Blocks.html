<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.10">
<LINK REL=STYLESHEET type="text/css" HREF="local.css">
<LINK rel="stylesheet" type="text/css" href="book.css">
<TITLE>Mythryl Code Blocks</TITLE>
</HEAD>
<BODY >
<A HREF="my-Mythryl_Pattern-Matching.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Mythryl_for_SML_Programmers.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Mythryl_Functions.html"><IMG SRC="next_motif.gif" ALT="Next"></A><HR>
<H3 CLASS="subsection"><A NAME="htoc192">5.7.10</A>  Mythryl Code Blocks</H3><P>The original C block syntax required all declarations to precede all statements:
</P><PRE CLASS="verbatim">    { int i = 12;
      float f = 1.0;
      printf("%d %f\n", i, f);
    }
</PRE><P>This proved very unpopular in practice, and first <TT>C++</TT> and then <TT>C99</TT> relaxed 
the syntax to allow arbitrary interleaving of declarations and statements within a code 
block.</P><PRE CLASS="verbatim">    { int i = 12;     printf("%d\n", i);
      float f = 1.0;  printf("%f\n", f);
    }
</PRE><P>A somewhat similar progression may be observed in SML. Officially, <TT>let</TT> syntax 
supports only declarations followed by statements:</P><PRE CLASS="verbatim">    let val i = 12
        val f = 1.0
    in
        format "%d %f\n" [ INT i, REAL f ]
    end
</PRE><P>What one sees in practice, however, is syntax like </P><PRE CLASS="verbatim">    let val i = 12      val _ = format "%d\n" [ INT i ]
        val f = 1.0 in          format "%f\n" [ REAL f ]
    end
</PRE><P>where it is perfectly clear that the intent of the programmer is 
to interleave declarations and statements freely via the <TT>val _ = ...</TT> 
hack, whatever the clear intent of the language designers.</P><P>Mythryl code blocks are patterned syntactically after C code blocks, but 
are derived forms which internally expand into standard ML <TT>let</TT> statements via 
the above <TT>val _ = ...</TT> hack. To some extent, this gives Mythryl 
the best of both worlds; the application programmer gets the freedom of 
interleaving declarations and statements in natural order, while the Mythryl 
theoretician still gets the analytical perspicuity of the <TT>let</TT> form 
(since theoreticians dismiss derived forms from consideration).</P><P>Thus, the Mythryl equivalent of the above is</P><PRE CLASS="verbatim">    { i = 12;     printf "%d\n" i;
      f = 1.0;    printf "%f\n" f;
    }
</PRE>

<HR SIZE=2>
<DIV CLASS="center">
<FONT SIZE=1>Comments and suggestions to: </FONT><A HREF="mailto:bugs@mythryl.org"><FONT SIZE=1>bugs@mythryl.org</FONT></A></DIV>
<HR>
<A HREF="my-Mythryl_Pattern-Matching.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A><A HREF="my-Mythryl_for_SML_Programmers.html"><IMG SRC="contents_motif.gif" ALT="Up"></A><A HREF="my-Mythryl_Functions.html"><IMG SRC="next_motif.gif" ALT="Next"></A></BODY>
</HTML>
