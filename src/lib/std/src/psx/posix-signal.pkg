## posix-signal.pkg
#
## POSIX 1003.1 signals.
# This is a subpackage of the POSIX 1003.1 based
# 'Posixlib' package
#
#     src/lib/std/src/psx/posixlib.pkg

# Compiled by:
#     src/lib/std/src/standard-core.sublib





###                        "Fear is the main source of superstition,
###                         and one of the main sources of cruelty.
###                         To conquer fear is the beginning of wisdom."
###
###                                             -- Bertrand Russell 



stipulate
    package hi  =  host_int;							# host_int				is from   src/lib/std/src/psx/host-int.pkg
    package hug =  host_unt_guts;						# host_unt_guts				is from   src/lib/std/src/bind-sysword-32.pkg
    package ci  =  mythryl_callable_c_library_interface;			# mythryl_callable_c_library_interface	is from   src/lib/std/src/unsafe/mythryl-callable-c-library-interface.pkg
    #
    fun cfun  fun_name
	=
	ci::find_c_function'' { lib_name => "posix_signal", fun_name };
herein

    package posix_signal {							# Posix_Signal				is from   src/lib/std/src/psx/posix-signal.api
	#
	Qq_Signal = SIGNAL hi::Int;

	(cfun "osval")								# osval					def in    src/c/lib/posix-signal/osval.c
	    ->
	    (      osval5__syscall:    String -> hi::Int,			# The '5's are just to avoid any "duplicate definition" errors when we get included into the master posix package.
		   osval5__ref,
	      set__osval5__ref
	    );

	fun osval string
	    =
	    *osval5__ref  string;

#	qq_abrt =  SIGNAL (osval "abrt");
#	qq_alrm =  SIGNAL (osval "alrm");
#	qq_fpe  =  SIGNAL (osval "fpe");
	qq_hup  =  SIGNAL (osval "hup");
#	qq_ill  =  SIGNAL (osval "ill");
#	qq_int  =  SIGNAL (osval "int");
#	qq_kill =  SIGNAL (osval "kill");
#	qq_pipe =  SIGNAL (osval "pipe");
#	qq_quit =  SIGNAL (osval "quit");
#	qq_segv =  SIGNAL (osval "segv");
#	qq_term =  SIGNAL (osval "term");
#	qq_usr1 =  SIGNAL (osval "usr1");
#	qq_usr2 =  SIGNAL (osval "usr2");
#	qq_chld =  SIGNAL (osval "chld");
#	qq_cont =  SIGNAL (osval "cont");
#	qq_stop =  SIGNAL (osval "stop");
#	qq_tstp =  SIGNAL (osval "tstp");
#	qq_ttin =  SIGNAL (osval "ttin");
#	qq_ttou =  SIGNAL (osval "ttou");
#	qq_bus  =  SIGNAL (osval "bus");

    }; #  package posix_signal 
end;



## COPYRIGHT (c) 1995 AT&T Bell Laboratories.
## Subsequent changes by Jeff Prothero Copyright (c) 2010-2012,
## released under Gnu Public Licence version 3.
