# overloaded-vector-ops-unit-test.pkg 

# Compiled by:
#     src/lib/test/unit-tests.lib

# Run by:
#     src/lib/test/all-unit-tests.pkg

# Unit tests for:
#     Overloading/vector/matrix functionality.

stipulate
    package fil =  file__premicrothread;					# file__premicrothread		is from   src/lib/std/src/posix/file--premicrothread.pkg
    package psx =  posixlib;							# posixlib			is from   src/lib/std/src/psx/posixlib.pkg
herein
    package overloaded_vector_ops_unit_test {
	#
	include unit_test;							# unit_test			is from   src/lib/src/unit-test.pkg

	name =  "src/lib/src/overloaded-vector-ops-unit-test.pkg unit tests";

	fun exercise_basic_stuff ()
	    =
	    {
		v = "abc";
		bar =  string::get;  

		assert (         bar(v,1) == 'b');
		assert (string::get (v,1) == 'b');

		overloaded my bar: ((X, Y) -> Z) =  (string::get);
		assert (         bar(v,1) == 'b');				# I spent 2-3 months getting this one to work.   -- 2013-11-20 CrT


		assert TRUE;
	    };

	fun run ()
	    =
	    {
		printf "\nDoing %s:\n" name;   

		exercise_basic_stuff ();

		summarize_unit_tests  name;
	    };
    };
end;

## Code by Jeff Prothero: Copyright (c) 2010-2013,
## released per terms of SMLNJ-COPYRIGHT.
