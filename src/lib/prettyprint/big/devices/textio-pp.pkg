## textio-pp.pkg
# A pretty printer with plain-text output.
# There are no styles -- Styled_String is just String.

# Compiled by:
#     src/lib/prettyprint/big/devices/prettyprint-devices.sublib


stipulate
    package fil =  file__premicrothread;									# file__premicrothread				is from   src/lib/std/src/posix/file--premicrothread.pkg
    package mub =  plain_markup_buffer;										# plain_markup_buffer				is from   src/lib/prettyprint/big/devices/plain-markup-buffer.pkg
herein

    # This package is referenced (only) in:
    #
    #     src/app/future-lex/src/backends/sml/ml.pkg
    #     src/app/future-lex/src/backends/sml/sml-fun-output.pkg
    #
    package text_iopp: (weak)	    api {
					include Prettyprint_Buffer						# Prettyprint_Buffer				is from   src/lib/prettyprint/big/src/prettyprint-buffer.api
					where
					    Styled_String == String;

					 open:  { dst:  fil::Output_Stream, wid:  Int } -> Prettyprint_Buffer;
				    }
    {
	package pp
	    =
	    prettyprint_buffer_g (										# prettyprint_buffer_g				is from   src/lib/prettyprint/big/src/prettyprint-buffer-g.pkg
		#
		package ss  =  unstyled_string;									# unstyled_string				is from   src/lib/prettyprint/big/devices/unstyled-string.pkg
		package mub = mub;
	    );

	include pp;

	fun open   arg
	    =
	    open_stream (mub::make_markup_buffer arg);
    };
end;


## COPYRIGHT (c) 1999 Bell Labs, Lucent Technologies.
## Subsequent changes by Jeff Prothero Copyright (c) 2010-2013,
## released per terms of SMLNJ-COPYRIGHT.
