\section{Label Expressions}

A \newdef{label expression} is a constant
expression defined in terms of labels, or user 
defined \href{constants.html}{constants}.  MLRISC uses the type
\sml{label_expression} to represent label expressions.  Label expressions
are defined in the package 
\mlrischref{code/labelExp.sml}{LabelExp}.

The enum \sml{label_expression} has the following definition:
\begin{SML}
  enum label_expression = 
      LABEL of Label.label
    | CONST of Constant.const
    | INT of int
    | PLUS of label_expression * label_expression
    | MINUS of label_expression * label_expression
    | MULT of label_expression * label_expression
    | DIV of label_expression * label_expression
    | LSHIFT of label_expression * word
    | RSHIFT of label_expression * word
    | AND of label_expression * word
    | OR of label_expression * word
\end{SML}

In addition, the following functions are defined in \sml{label_expression}:
\begin{itemize}
  \item \sml{valueOf : label_expression -> int}  -- Returns the value associated with
a label expression
  \item \sml{to_string : label_expression -> String} -- Return the pretty printed representation of an expression
  \item \sml{hash : label_expression -> word} -- Returns the hash value of an expression
  \item \sml{== : label_expression * label_expression -> Bool} -- Tests whether two label expression are lexically identical
\end{itemize}

The type \sml{label_expression} is depends on client defined 
\href{constants.html}{constants} typed.  The generic package \sml{LabelExp}
is parameterized as follows.
\begin{SML}
   generic package \mlrischref{code/labelExp.sml}{LabelExp}(late_constant : \mlrischref{src/lib/compiler/back/low/main/fatecode/late-constant.pkg}{Late_Constant})
\end{SML}
