## gui-displaylist.pkg
#
# Our cross-platform drawing language for the Mythryl widget set.
#
# Draw_Op is intended to be the cross-platform-portable
# subset of windowsystem_to_xserver::x::Op									# windowsystem_to_xserver	is from   src/lib/x-kit/xclient/src/window/windowsystem-to-xserver.pkg
#
# The intent is that guiboss_to_windowsystem should define a
# rendering model which is highly compatible with X
# (Mythryl's prime target) but able to be supported
# with reasonable effort on other platforms.

# Compiled by:
#     src/lib/x-kit/widget/xkit-widget.sublib

stipulate
    package r64 =  rgb;												# rgb				is from   src/lib/x-kit/xclient/src/color/rgb.pkg
    package g2d =  geometry2d;											# geometry2d			is from   src/lib/std/2d/geometry2d.pkg
herein

    package gui_displaylist {
	#
	Draw_Op
	  = POINTS	   List( g2d::Point )
	  | PATH           List( g2d::Point )
	  | FILLED_POLYGON List( g2d::Point )
	  | LINES          List( g2d::Line  )
	  | BOXES          List( g2d::Box   )
	  | FILLED_BOXES   List( g2d::Box   )
	  | ARCS           List( g2d::Arc   )
	  | FILLED_ARCS    List( g2d::Arc   )
#	  | CLEAR_AREA           g2d::Box									# Draws in background color, which complicates the model. Let's stick to POLY_FILL_BOX
	  #
	  | FONT	   (List(String), List(Draw_Op))							# X fontnames like "fixed" or "-misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-1" -- see Note[1] or (eg) /usr/share/fonts/X11/misc/fonts.alias
	  #													# TEXTs will be drawn in first font in FONT list which is found on X server. The best fonts are optional, hence the list: put best-first, most-common last.
	  | TEXT	   (g2d::Point, String)	
	  #
	  | COLOR          (r64::Rgb, List(Draw_Op))
	  | LINE_THICKNESS (Int,      List(Draw_Op))								# A thickness of zero draws the fastest, thinnest lines supported by host.
	  | CLIP_TO	   (g2d::Box, List(Draw_Op))
	  ;

	Gui_Displaylist =  List( Draw_Op );
    };
end;


###########################################################################################
# Note[1]
# As of X11R7.5 standard short fontnames include:
#
#    fixed        -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-1
#    variable     -*-helvetica-bold-r-normal-*-*-120-*-*-*-*-iso8859-1
#    5x7          -misc-fixed-medium-r-normal--7-70-75-75-c-50-iso8859-1
#    5x8          -misc-fixed-medium-r-normal--8-80-75-75-c-50-iso8859-1
#    6x9          -misc-fixed-medium-r-normal--9-90-75-75-c-60-iso8859-1
#    6x10         -misc-fixed-medium-r-normal--10-100-75-75-c-60-iso8859-1
#    6x12         -misc-fixed-medium-r-semicondensed--12-110-75-75-c-60-iso8859-1
#    6x13         -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-1
#    6x13bold     -misc-fixed-bold-r-semicondensed--13-120-75-75-c-60-iso8859-1
#    7x13         -misc-fixed-medium-r-normal--13-120-75-75-c-70-iso8859-1
#    7x13bold     -misc-fixed-bold-r-normal--13-120-75-75-c-70-iso8859-1
#    7x13euro     -misc-fixed-medium-r-normal--13-120-75-75-c-70-iso8859-15
#    7x13eurobold -misc-fixed-bold-r-normal--13-120-75-75-c-70-iso8859-15
#    7x14         -misc-fixed-medium-r-normal--14-130-75-75-c-70-iso8859-1
#    7x14bold     -misc-fixed-bold-r-normal--14-130-75-75-c-70-iso8859-1
#    8x13         -misc-fixed-medium-r-normal--13-120-75-75-c-80-iso8859-1
#    8x13bold     -misc-fixed-bold-r-normal--13-120-75-75-c-80-iso8859-1
#    8x16         -sony-fixed-medium-r-normal--16-120-100-100-c-80-iso8859-1
#    9x15         -misc-fixed-medium-r-normal--15-140-75-75-c-90-iso8859-1
#    9x15bold     -misc-fixed-bold-r-normal--15-140-75-75-c-90-iso8859-1
#    10x20        -misc-fixed-medium-r-normal--20-200-75-75-c-100-iso8859-1
#    12x24        -sony-fixed-medium-r-normal--24-170-100-100-c-120-iso8859-1
#    ...   
