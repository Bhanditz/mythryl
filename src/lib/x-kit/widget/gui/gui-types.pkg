## gui-types.pkg
#
# Types common to
#     src/lib/x-kit/widget/gui/stopped-gui.pkg
#     src/lib/x-kit/widget/gui/running-gui.pkg 

# Compiled by:
#     src/lib/x-kit/widget/xkit-widget.sublib


stipulate
    include package   threadkit;							# threadkit				is from   src/lib/src/lib/thread-kit/src/core-thread-kit/threadkit.pkg

    package l2g =  look_to_gui;								# look_to_gui				is from   src/lib/x-kit/widget/gui/look-to-gui.pkg
    package l2p =  look_to_packed;							# look_to_packed			is from   src/lib/x-kit/widget/space/packed/look-to-packed.pkg   
    package g2l =  gui_to_look;								# gui_to_look				is from   src/lib/x-kit/widget/gui/gui-to-look.pkg
    package p2l =  packed_to_look;							# packed_to_look			is from   src/lib/x-kit/widget/space/packed/packed-to-look.pkg
herein

    package gui_types
    {
											# Can't define a Widget_Imports here because of the type recursion on endstate_oneshot.
	Widget_Exports
	  =
	  { guiboss_to_widget:		g2l::Gui_To_Look,				# Soon to be renamed Guiboss_To_Widget
	    packedspace_to_widget:	p2l::Packed_To_Look				# Soon to be renamed Packedspace_To_Widget
	  };

	Start_Packed_Widget_Fn
	  =
	  START_PACKED_WIDGET_FN							# Needs to be a datatype (vs plain type) because of the recursive reference in endstate_oneshot.
	    (
	      { widget_to_guiboss:	l2g::Look_To_Gui,				# Soon to be renamed Widget_To_Guiboss
		widget_to_packedspace:	l2p::Look_To_Packed,				# Soon to be renamed Wdiget_To_Packedspace
		run_gun':		Run_Gun,
		end_gun':		End_Gun,
		endstate_oneshot:	Oneshot_Maildrop( Start_Packed_Widget_Fn )
	      }
	      ->
	      Widget_Exports	
	    );
    };
end;

