## gui-types.pkg
#
# Types common to
#     src/lib/x-kit/widget/gui/stopped-gui.pkg
#     src/lib/x-kit/widget/gui/running-gui.pkg 

# Compiled by:
#     src/lib/x-kit/widget/xkit-widget.sublib


stipulate
    include package   threadkit;							# threadkit				is from   src/lib/src/lib/thread-kit/src/core-thread-kit/threadkit.pkg

    package w2g =  widget_to_guiboss;							# widget_to_guiboss			is from   src/lib/x-kit/widget/gui/widget-to-guiboss.pkg
    package w2p =  widget_to_packedspace;						# widget_to_packedspace			is from   src/lib/x-kit/widget/space/packed/widget-to-packedspace.pkg   
    package g2w =  guiboss_to_widget;							# guiboss_to_widget			is from   src/lib/x-kit/widget/gui/guiboss-to-widget.pkg
    package p2w =  packedspace_to_widget;						# packedspace_to_widget			is from   src/lib/x-kit/widget/space/packed/packedspace-to-widget.pkg
herein

    package gui_types
    {
											# Can't define a Widget_Imports here because of the type recursion on endstate_oneshot.
	Widget_Exports
	  =
	  { guiboss_to_widget:		g2w::Guiboss_To_Widget,				# 
	    packedspace_to_widget:	p2w::Packedspace_To_Widget			# 
	  };

	Start_Packed_Widget_Fn
	  =
	  START_PACKED_WIDGET_FN							# Needs to be a datatype (vs plain type) because of the recursive reference in endstate_oneshot.
	    (
	      { widget_to_guiboss:	w2g::Widget_To_Guiboss,				# 
		widget_to_packedspace:	w2p::Widget_To_Packedspace,			# 
		run_gun':		Run_Gun,
		end_gun':		End_Gun,
		endstate_oneshot:	Oneshot_Maildrop( Start_Packed_Widget_Fn )
	      }
	      ->
	      Widget_Exports	
	    );
    };
end;

