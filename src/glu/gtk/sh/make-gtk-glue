#!/usr/bin/mythryl

# To minimize code redundancy and consequent
# reliability and maintenance headaches in
#
#     src/glu/gtk/c/in-sub/mythryl-gtk-library-in-c-subprocess.c
#
# we synthesize simple repetitive functions
# directly from their
#
#     src/glu/gtk/src/gtk-client.api
#
# type declarations.
#
# The specifications for these functions and
# related declarations and docs are in
#
#     src/glu/gtk/etc/library-glue.plan
#
# (See top-of-file comments there.)
#
# We are invoked by doing
# 
#     make gtk-glue
#
# At the top level.  This is not done as part
# of a normal build;  I run it by hand after
# I've updated (say) library-glue.plan

stipulate
    package fil =  file__premicrothread;												# file__premicrothread		is from   src/lib/std/src/posix/file--premicrothread.pkg
    package lms =  list_mergesort;													# list_mergesort		is from   src/lib/src/list-mergesort.pkg
    package iow =  io_wait_hostthread;													# io_wait_hostthread		is from   src/lib/std/src/hostthread/io-wait-hostthread.pkg
    package mlb =  make_library_binding;												# make_library_binding		is from   src/lib/make-library-glue/make-library-glue.pkg
herein

{    
# iow::test "make-gtk-glue: testt/AAA";

    mlb::make_library_binding
      {
	lib_name						=>  "gtk",								# Must match the   #define CLIB_NAME "gtk"   line in   src/glu/gtk/c/in-main/libmythryl-gtk.c
	library_binding_specification				=>  "src/glu/gtk/etc/library-glue.plan",
	xxx_client_api						=>  "src/glu/gtk/src/gtk-client.api",
	xxx_client_g_pkg					=>  "src/glu/gtk/src/gtk-client-g.pkg",
	xxx_client_driver_api					=>  "src/glu/gtk/src/gtk-client-driver.api",
	xxx_client_driver_for_library_in_c_subprocess_pkg	=>  "src/glu/gtk/src/gtk-client-driver-for-library-in-c-subprocess.pkg",
	xxx_client_driver_for_library_in_main_process_pkg	=>  "src/glu/gtk/src/gtk-client-driver-for-library-in-main-process.pkg",
	mythryl_xxx_library_in_c_subprocess_c			=>  "src/glu/gtk/c/in-sub/mythryl-gtk-library-in-c-subprocess.c",
	libmythryl_xxx_c					=>  "src/glu/gtk/c/in-main/libmythryl-gtk.c",
	section_libref_xxx_tex					=>  "src/glu/gtk/doc/tex/section-libref-gtk.tex"
      }
      [																	# Plugins that extend base mlb functionality.
      ]
      ;

    exit_x(0);
};
end;


##########################################################################
#   The following is support for outline-minor-mode in emacs.		 #
#  ^C @ ^T hides all Text. (Leaves all headings.)			 #
#  ^C @ ^A shows All of file.						 #
#  ^C @ ^Q Quickfolds entire file. (Leaves only top-level headings.)	 #
#  ^C @ ^I shows Immediate children of node.				 #
#  ^C @ ^S Shows all of a node.						 #
#  ^C @ ^D hiDes all of a node.						 #
#  ^HFoutline-mode gives more details.					 #
#  (Or do ^HI and read emacs:outline mode.)				 #
#									 #
# Local variables:							 #
# mode: outline-minor							 #
# outline-regexp: "[{ \t]*\\(fun \\)"			 		 #
# End:									 #
##########################################################################



## Code by Jeff Prothero: Copyright (c) 2010-2012,
## released under Gnu Public Licence version 3.
